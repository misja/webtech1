{"config":{"lang":["nl"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Webtechnologie 1","text":""},{"location":"index.html#webtechnologie-1","title":"Webtechnologie 1","text":"<p>In deze module maken we kennis met webtechnologie. We bespreken html en css, en gebruiken het Bootstrap-framework om de vormgeving van onze site eenvoudig professioneel te maken. Vervolgens gebruiken we de python-library Flask om websites interactief te maken en aan te sluiten op een sqlite-database.</p> <p>Zoals altijd hebben we ook in deze module te maken met versies van de afhankelijkheden. Alle voorbeelden en opdrachten zijn getest en uitgewerkt met speciekeke versies, maar in de tussentijd kunnen deze natuurlijk zijn aangepast. Download hier het requirements-bestand om de exacte versies van deze dependencies te krijgen.</p> <p>De module is onderdeel van de propedeuse van de opleiding HBO-ICT en is daarom bewust breed van ondiep van opzet: we bespreken alle facetten en alle lagen waar webtechnologie mee te maken heeft, maar gaan nergens echt de diepte in. Het web is een complex apparaat waarin veel verschillende technieken samenwerken en het is binnen het tijdsbestek van tien weken niet mogelijk om die allemaal uit ten treure te behandelen. Voor deze propedeutische fase is het voldoende wanneer deelnemers aan het eind voldoende working knowledge van dit alles hebben. Bij de opleiding Software Engineering komt het web nog uitgebreid aan de orde in semester vier.</p>"},{"location":"index.html#opzet-van-het-thema","title":"Opzet van het thema","text":"<p>Elke week staat een specifiek onderdeel van het web centraal. Dit onderwerp wordt ondersteund door een vooraf opgenomen theorieles die studenten in hun eigen tijd kunnen doornemen. Hiernaast zijn er werkcolleges, waarin studenten werken aan oefeningen die het onderwerp van die week via een meer praktische weg over het voetlicht brengen. Vanaf week vijf werken studenten in duo\u2019s aan hun eigen project, op basis waarvan de beoordeling plaatsvindt.</p> <p>Elke klas heeft twee werkcolleges per week. Bij dit werkcollege wordt de theoretische opzet nog een keer praktisch uitgebreid toegelicht. Per week zijn er ook oefeningen gegeven waar studenten individueel of met hun projectduopartner aan kunnen werken. De werkcolleges zijn verder natuurlijk bedoeld om te werken aan het project; de practiumdocent is dan aanwezig om vragen te stellen of te beantwoorden.</p>"},{"location":"index.html#weekplanning","title":"Weekplanning","text":"<p>In de tabel hieronder staan de onderwerpen per week.</p> P-weeknummer Onderwerpen 1 Front-end, html en css 2 Python OOP 3 voorjaarsvakantie 4 Python en databases 5 Flask en Jinja-templates 6 Flask en formulieren 7 Flask en databases (ORM) 8 Inloggen en evt. Refactoring"},{"location":"index.html#toetsing","title":"Toetsing","text":"<p>Liefst zo snel mogelijk, in ieder geval vanaf week vijf, werken studenten in duo's aan hun eigen project, waarbij de volgende onderdelen van belang zijn:</p> <ul> <li>Website heeft vormgeving en een koppeling met een database</li> <li>Op de site ingevulde data komt door sqlalchemy terecht in een sqlite-database</li> <li>Website maakt gebruik van verschillende views</li> <li>Geregistreerde bezoekers kunnen op de site inloggen</li> </ul> <p>Als studenten geen project hebben of kunnen bedenken, is het ook prima om \u00e9\u00e9n van de vier voorgestelde projecten uit te werken.</p> <p>Hulpmiddel bij de beoordeling van het project kan een kort assessment met de betreffende practicumdocent zijn. Tijdens dit gesprek van zo'n 10 minuten laten de student-duo's hun uitwerking zien en worden ze bevraagd over de technische en niet-technische aspecten van hun realisatie. Ten behoeve van deze gesprekken wordt een extra lange laatste les in de laatste lesweek ingeroosterd - de docenten maken daarbinnen een separaat rooster voor de duo's.</p> <p>Basis voor de uiteindelijke beoordeling is de beoordelings-rubric. Mocht het project aan het eind van het blok nog onvoldoende blijken te zijn, dan worden door de betreffende practicumdocent individuele reparatieafspraken (inclusief deadline) gemaakt. In dat geval wordt de onvoldoende wel in Osiris geregistreerd en gelden de herstelwerkzaamheden als herkansing.</p> <p>Deadlines zijn te vinden in de BrightSpace-course van dit vak.</p>"},{"location":"index.html#bron","title":"Bron","text":"<p>Deze module is in grote lijnen gebaseerd op de cursus Python and Flask Bootcamp van Udemy. Om deze cursus voor de opleiding geschikt te maken hebben we de programmacode gemoderniseerd en vertaald naar het Nederlandse domein, specifieke methoden en technieken (die voor deze fase te ver gingen) verwijderd en het geheel van uitgebreide tekstuele toelichting voorzien.</p>"},{"location":"projecten/index.html","title":"Casu\u00efstiek voor het project","text":""},{"location":"projecten/index.html#casuistiek-voor-het-project","title":"Casu\u00efstiek voor het project","text":"<p>Liefst zo snel mogelijk, in ieder geval vanaf week vijf, werken studenten in duo's aan hun eigen project, waarbij de volgende onderdelen van belang zijn:</p> <ul> <li>Website heeft vormgeving en een koppeling met een database</li> <li>Op de site ingevulde data komt door sqlalchemy terecht in een sqlite-database</li> <li>Website maakt gebruik van verschillende views</li> <li>Geregistreerde bezoekers kunnen op de site inloggen</li> </ul> <p>Wanneer studenten zelf geen project kunnen bedenken, is het prima \u00e9\u00e9n van de onderstaande projecten uit te voeren:</p> <ol> <li>Bungalowpark Bos en Duin</li> <li>Website Filmfan</li> <li>Programmeerles voor gepensioneerden</li> <li>Stage lopen</li> </ol> <p>Kies \u00e9\u00e9n van deze casussen en laat aan je practicumdocent weten welke casus je gaat doen en met wie. Het advies is om je practicumdocent geregeld om feedback te vragen. Het kan zijn dat je practicumdocent een klassikaal moment inplant waarop elk duo hun idee en eventueel begin van de uitwerking aan de gehele groep kort presenteert.</p>"},{"location":"projecten/index.html#uitgebreide-planning","title":"Uitgebreide planning","text":""},{"location":"projecten/index.html#week-1-3","title":"week 1-3","text":"<p>Regel de IDE en de ontwikkelomgeving. Inventariseer welke bestanden nodig zijn (py en html) en bedenk het ontwerp en de vormgeving van de site. </p>"},{"location":"projecten/index.html#week-4","title":"week 4","text":"<p>Maak de belangrijkste bestanden <code>__init__py</code>, <code>models.py</code> en <code>app.py</code> aan. Daarnaast kunnen <code>base.html</code> en <code>home.html</code> nu ook aangemaakt worden in de folder templates (in <code>base.html</code> wordt de navigatiebalk opgezet, denk hier goed over na). Maak ook templates voor de andere pagina's uit je ontwerp</p> <p>Test de werking en met name de interactie van de site.</p>"},{"location":"projecten/index.html#week-5-6","title":"week 5-6","text":"<p>Maak per model (tabel) de bestanden <code>forms.py</code> en <code>views.py</code> aan. Maak ook in de folder templates aan met de specifiek voor dat model beschikbare html-bestanden. Zorg ervoor dat de betreffende data via de website benaderd en eventueel aangepast kan worden.</p>"},{"location":"projecten/index.html#week-7-8","title":"week 7-8","text":"<p>Zorg voor een inlogsysteem en dat specifieke onderwerpen alleen voor ingelogde bezoekers beschikbaar is.</p>"},{"location":"projecten/bungalowpark.html","title":"Bungalowpark","text":"<p>Bungalowpark \u2018Zee en Duin\u2019 verhuurt bungalows aan hun gasten. Van de huisjes worden een id, een unieke naam en het type vastgelegd. Onder type wordt de grootte van het huisje verstaan. Er zijn huisjes voor 8, 6 en 4 personen beschikbaar voor de verhuur. Van ieder type wordt het id, het aantal personen en de weekprijs vastgelegd. </p> <p>Gasten kunnen bungalows uitsluitend voor de periode van een week huren. Van de gast die de reservering boekt, wordt het id, gebruikersnaam en wachtwoord vastgelegd. Van iedere boeking wordt een id vastgelegd, het id van de gast, het id van de bungalow en de gewenste week. Is een langer verblijf gewenst door de klant, dient deze voor iedere week een aparte boeking aan te maken.</p> <p>Gasten kunnen op de site inloggen om hun reservering te bekijken en eventueel aanpassen: onder aanpassen wordt hier verstaan een andere week inplannen, een week erbij boeken of een ander type huisje reserveren. Dit alles natuurlijk alleen als er nog huisjes beschikbaar zijn.</p>"},{"location":"projecten/bungalowpark.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie om de gegevens bij te houden van gasten en boekingen zoals hierboven beschreven. Het is een DUO-opdracht.</p>"},{"location":"projecten/bungalowpark.html#tips","title":"Tips","text":"<ul> <li>Gebruik KISS (hier Keep it Small en Simple), uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"projecten/filmfan.html","title":"Filmfan","text":"<p>Op deze website worden alle gegevens vastgelegd omtrent de films uit Nederland. Van alle films is een trailer te zien, zijn er diverse overzichten beschikbaar van bezoeker, omzetgegevens en nog veel meer.</p> <p>De bedoeling van deze opdracht is om hier een sterk vereenvoudigde webapplicatie aan te maken. De database is beperkt van omvang en van alle data worden maar een paar attributen opgeslagen.</p> <p>Van iedere acteur hoeven maar een drietal kenmerken worden vastgelegd, een id, een voornaam en een achternaam. Dezelfde drie eigenschappen worden door iedere regisseur genoteerd, id, voor- en achternaam. Om het niet te complex te laten zijn mag je ervan uitgaan dat iedere film een enkele regisseur heeft.</p> <p>Van iedere film wordt een id vastgelegd, de titel, het id van de regisseur en het jaar waarin de film werd uitgebracht.</p> <p>In de tabel rol worden een viertal attributen opgegeven, id, id van de acteur, id van de film en de naam van het personage dat vertolkt wordt.</p> <p>Het is mogelijk om bij deze site een account aan te maken. Ingelogde bezoekers kunnen gegevens van films aanpassen of aanvullen. Ook kunnen ze bijvoorbeeld mooie citaten uit de film aan de betreffende pagina toevoegen of onvolledigheden  of incorrectheden toevoegen (bijvoorbeeld spijkerbroeken in een film die speelt in de Romeinse tijd).</p>"},{"location":"projecten/filmfan.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie om de gegevens bij te houden van acteurs, films en de gespeelde rollen. Het is een DUO-opdracht.</p>"},{"location":"projecten/filmfan.html#tips","title":"Tips","text":"<ul> <li>Gebruik KISS (hier Keep it Small en Simple), uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"projecten/programmeerles.html","title":"Programmeerles","text":"<p>Een groot aantal ouderen die van hun pensioen genieten hebben toch vaak nog de behoefte iets geheel nieuws op te pakken. En programmeerles voor senioren is \u00e9\u00e9n van de onderwerpen waar veel vraag naar is.</p> <p>Nu is het natuurlijk niet de bedoeling bij deze opdracht even een cursus uit de grond te stampen; het draait erom de gegevens van een viertal bestanden (klanten, docenten, talen en lessen) op een verantwoorde manier bij te houden.</p> <p>De bedoeling van deze opdracht is om hier een sterk vereenvoudigde webapplicatie aan te maken op basis van de hier genoemde tabellen. Van iedere klant wordt vastgelegd een id, een e-mailadres, gebruikersnaam en wachtwoord. </p> <p>Voor iedere docent worden dezelfde gegevens vastgelegd. De tabel talen kent slecht een tweetal attributen, een id en de naam van de taal.</p> <p>Als laatste de tabel lessen. De meest omvangrijke met 6 eigenschappen. Dat zijn achtereenvolgens, id, id van de klant, id van de docent, id van de taal, start en locatie.</p> <p>Er zijn twee soorten geregistreerde bezoekers van deze site. Allereerst mensen die de programmeerlessen volgen. Zij kunnen, na inloggen, zich aanmelden, hun rooster bekijken en zich met korting aanmelden voor een andere cursus. Ten tweede zijn er administratief medewerkers die roosters kunnen maken, cursussen en talen kunnen toevoegen en docentgegevens bewerken. </p> <p>Nieuwe bezoekers, dus zij die zich nog niet geregistreerd hebben, kunnen vanzelfsprekend het aanbod bekijken en zich voor een cursus aanmelden.</p>"},{"location":"projecten/programmeerles.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie waarbij deze gegevens kunnen worden geraadpleegd en bewerkt. Het is een DUO-opdracht. </p>"},{"location":"projecten/programmeerles.html#tips","title":"Tips","text":"<ul> <li>Gebruik KISS (hier Keep it Small en Simple), uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"projecten/stage.html","title":"Stage","text":"<p>Binnen het HBO-onderwijs spelen stages een belangrijke rol. Het is daarom ook belangrijk om de gegevens van de stages goed vast te leggen. </p> <p>Doel van deze opdracht is om hier een sterk vereenvoudigde webapplicatie aan te maken. De database zal beperkt worden tot een viertal tabellen die maar een paar attributen gaan bevatten.</p> <p>In de database worden maar vier tabellen opgenomen.</p> <p>De tabel student kent drie kenmerken, id van de student, voornaam en achternaam.</p> <p>De tabel instelling kent ook drie karakteristieken, id, naam van de instelling, soort instelling, ICT of marketing.</p> <p>Ook de tabel begeleider heeft een drietal eigenschappen nodig, id, voor- en achternaam van de begeleider.</p> <p>De vierde en laatste tabel is tevens de meest omvattende, maar liefst 6 features, id, id van de student, id van de instelling, id van de begeleider, cijfer en periode, bijv. semester 1 2021.</p> <p>Er zijn twee typen geregistreerde bezoekers van deze site. Allereerst studenten, die de gegevens van hun stages kunnen inzien. Ten tweede de administratief medewerkers, die gegevens van stages kunnen toevoegen, aanpassen, of verwijderen. Bezoekers die niet zijn ingelogd kunnen alleen het stage-aanbod bekijken en hun interesse voor een stage kenbaar maken.</p>"},{"location":"projecten/stage.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie waarbij deze gegevens kunnen worden geraadpleegd en bewerkt. Het is een DUO-opdracht. </p>"},{"location":"projecten/stage.html#tips","title":"Tips","text":"<ul> <li>Gebruik KISS (hier Keep it Small en Simple), uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"week1/1.html/html-deel1.html","title":"HTML \u2013 Inleiding","text":""},{"location":"week1/1.html/html-deel1.html#html-inleiding","title":"HTML \u2013 Inleiding","text":"<p>Het doel van het vak Webtechnologie is om een applicatie te bouwen die is opgebouwd uit meerdere componenten. Deze componenten zorgen er samen voor dat de applicatie zijn werk naar behoren kan uitvoeren.</p> <p>Een webapplicatie is een computerprogramma dat is uitgevoerd in de vorm van een interactieve website. Voordelen van dergelijke onlinesoftware zijn dat ze werken met een centrale database en gegevensopslag, dat de applicaties via het internet en een webbrowser overal te gebruiken zijn en dat deze programma\u2019s relatief eenvoudig uit te breiden en door te ontwikkelen zijn.</p> <p>Om de webapplicatie te kunnen gebruiken is alleen een browser en werkende internetverbinding noodzakelijk. Vaak moeten gebruikers eerst inloggen met een gebruikersnaam en wachtwoord om toegang te krijgen tot de applicatie. Webapplicaties kunnen sterk uiteenlopende doeleinden hebben. Een bekend soort webapplicatie is een contentmanagementsysteem (CMS), waarmee de inhoud van websites kan worden beheerd.</p>"},{"location":"week1/1.html/html-deel1.html#onderdelen-van-dit-kwartaal","title":"Onderdelen van dit kwartaal","text":"<p>Het is de bedoeling ook tijdens dit kwartaal voor de fictieve muziekschool 'Sessions' een CMS-applicatie te bouwen. Voordat de applicatie in productie kan gaan, moeten nog wel de nodige stappen doorlopen worden en de nodige programma\u2019s uitgelegd worden.</p> <p>Hieronder een kort overzicht van de onderdelen die tijdens dit kwartaal aan bod zullen komen:</p> <ul> <li>Front-end development<ul> <li>HTML</li> <li>CSS</li> <li>Bootstrap</li> </ul> </li> <li>Python<ul> <li>Herhaling</li> <li>OOP</li> </ul> </li> <li>Templates, formulieren en databases</li> <li>Flask</li> <li>Authenticatie</li> <li>Project</li> </ul> <p>We zullen beginnen met een overzicht van de werking van een webpagina. Hoe is het mogelijk dat een gebruiker precies de juiste gegevens op het scherm krijgt, bij een verzoek om informatie? Vervolgens komen de programma\u2019s aan bod die ervoor zorgen dat de inhoud op het scherm getoond kan worden.</p>"},{"location":"week1/1.html/html-deel1.html#hoe-werkt-een-web-pagina","title":"Hoe werkt een web-pagina?","text":"<p>Het web is eigenlijk niks anders dan een hele grote verzameling van allerlei soorten bestanden die door middel van webservers beschikbaar worden gesteld. Een webserver is een stuk software dat 'luistert' naar aanvragen van andere computers en op basis van zo'n aanvraag een bestand terugstuurt. Bekende webservers zijn Apache, ngnix of Microsoft IIS.</p> <p>Wanneer je een url in de locatiebalk van je browser intypt en op <code>Enter</code> drukt, wordt er een dergelijke aanvraag naar de server gestuurd die staat op die specifieke URL. Die server verwerkt de aanvraag en stuurt het bestand terug. Of, als het bestand niet gevonden kan worden, wordt er de code <code>404 Not Found</code> teruggestuurd.</p> <p>Reponse Codes</p> <p>Die code is een zogenaamde <code>HTTP Response Status Code</code>. Later in deze module komen we hier nog uitgebreid op terug.</p> <p>Dat wat je in je browser ziet en dat wat de server terugstuurt verschilt nogal van elkaar.De server stuurt in de regel platte tekst terug (bijvoorbeeld html, css of javascript, maar dat kan van alles zijn) en je browser zet deze platte tekst om in een totaal van fraai vormgegeven tekst, met plaatjes en interactiviteit (een proces dat bekend staat als renderen).</p>"},{"location":"week1/1.html/html-deel1.html#statische-en-dynamische-webpaginas","title":"Statische en dynamische webpagina's","text":""},{"location":"week1/1.html/html-deel1.html#statische-paginas","title":"Statische pagina's","text":"<p>Webpagina's kun je onderverdelen in statische en dynamische pagina's. Een statische webpagina is een webpagina die niet verandert als een sitebezoeker de pagina opvraagt: de webserver verzendt de pagina ongewijzigd naar de webbrowser. De inhoud van een statische webpagina wordt bepaald door de paginaontwerper en verandert niet op het moment dat de pagina wordt opgevraagd.</p> <p></p> <ol> <li>De webbrowser vraagt een statische pagina op.</li> <li>De webserver zoekt en vindt de pagina.</li> <li>De webserver verzendt de pagina naar de betreffende browser.</li> </ol>"},{"location":"week1/1.html/html-deel1.html#dynamische-webpaginas","title":"Dynamische webpagina's","text":"<p>Als de webserver echter een verzoek voor een dynamische pagina ontvangt, reageert de server anders: de pagina wordt doorgegeven aan een speciaal stukje software dat voor de afhandeling van de pagina moet zorgen. Deze speciale software wordt een toepassingsserver genoemd. Deze server leest de code op de pagina, verwerkt de pagina volgens de instructies in de code en verwijdert de code vervolgens van de pagina.</p> <p>Het resultaat is een statische pagina die de toepassingsserver weer teruggeeft aan de webserver, die de pagina op zijn beurt verzendt naar de browser waar de pagina in eerste instantie is opgevraagd. Als de pagina arriveert, ontvangt de browser alleen HTML.</p> <p></p> <ol> <li>De webbrowser vraagt een dynamische pagina op.</li> <li>De server zoekt de pagina en geeft deze door aan de toepassingsserver</li> <li>De toepassingsserver scant de pagina op instructies en voltooit de pagina.</li> <li>De toepassingsserver retourneert de voltooide pagina aan de webserver.</li> <li>De webserver verzendt de voltooide pagina naar de betreffende browser.</li> </ol> <p>Door middel van een toepassingsserver is het mogelijk bronnen aan de serverzijde te gebruiken, waaronder bijvoorbeeld een database. Een dynamische pagina kan de toepassingsserver de instructie geven om gegevens uit een database op te halen en deze in de HTML van de pagina in te voegen.</p>"},{"location":"week1/1.html/html-deel1.html#het-gebruik-van-een-database","title":"Het gebruik van een database","text":"<p>Door het gebruik van een database voor het opslaan en terughalen van inhoud kan het ontwerp van de website gescheiden worden van de inhoud die op de site weergegeven wordt. De inhoud kan vervolgens ge\u00fcpload worden naar een database en de inhoud vervolgens door de website laten ophalen als antwoord op een aanvraag.</p> <p>De instructie om gegevens uit een database op te halen, wordt een databasequery genoemd. Zo'n query bestaat uit zoekcriteria die worden uitgedrukt in een databasetaal die SQL (Structured Query Language) wordt genoemd. De SQL-query wordt geschreven in scripts of tags op de server van de pagina.</p> <p>Een toepassingsserver kan niet rechtstreeks met een database communiceren, omdat de typische indeling van de database de gegevens onleesbaar weergeeft (net zoals een Microsoft Word-document onleesbaar is wanneer het in Kladblok wordt geopend). De toepassingsserver kan uitsluitend met de database communiceren met behulp van een databasestuurprogramma: software die als een vertaler tussen de toepassingsserver en de database fungeert.</p> <p>Nadat het stuurprogramma de communicatie tot stand heeft gebracht, wordt de query voor de database uitgevoerd en wordt een recordset gemaakt. Een recordset is een reeks gegevens die uit \u00e9\u00e9n of meer tabellen in een database zijn gehaald. De recordset wordt geretourneerd aan de toepassingsserver, die de gegevens gebruikt om de pagina te voltooien.</p> <p></p> <ol> <li>De webbrowser vraagt een dynamische pagina op.</li> <li>De webserver zoekt de pagina en geeft deze door aan de toepassingsserver.</li> <li>De toepassingsserver scant de pagina op instructies.</li> <li>De toepassingsserver verzendt de query naar het databasestuurprogramma.</li> <li>Het stuurprogramma voert de query uit op de database.</li> <li>De recordset wordt als resultaat geretourneerd aan het stuurprogramma.</li> <li>Het stuurprogramma geeft de recordset door aan de toepassingsserver.</li> <li>De toepassingsserver voegt de gegevens in op de pagina en geeft de pagina door aan de webserver.</li> <li>De webserver verzendt de voltooide pagina naar de betreffende browser.</li> </ol> <p>Bijna iedere database kan voor een webtoepassing gebruikt worden, zolang het juiste  databasestuurprogramma maar op de server ge\u00efnstalleerd is.</p>"},{"location":"week1/1.html/html-deel2.html","title":"HTML \u2013 tags","text":""},{"location":"week1/1.html/html-deel2.html#html-tags","title":"HTML \u2013 tags","text":"<p>Omdat de server in principe platte tekst aan de browser teruggeeft, is er een structuur nodig om aan te geven wat de verschillende onderdelen uit die platte tekst betekenen. Een koptekst is immers iets anders dan een stuk broodtekst. Hiervoor gebruiken we HTML.</p> <p>HTML staat voor HyperText Markup Language. Het is, zogezegd, de taal waarmee de inhoud van een website gemarkeerd kan worden zodat de browser 'begrijpt' wat aan de bezoeker getoond moet worden. Het geeft structuur aan een gewoon tekstbestand dat de browser anders niet zou begrijpen.</p> <p>HTML is in het begin van de jaren negentig van de vorige eeuw ontwikkeld door Tim Berners-Lee, terwijl hij werkte bij CERN in Zwitserland.</p> <p></p> <p>HTML was niet nieuw</p> <p>Hoewel Tim Berners-Lee (of TBL) HTML bedacht en ontwikkeld heeft, wat dat in die tijd niet nieuw. Het idee van het in de tekst z\u00e9lf aangeven wat de verschillende onderdelen van die tekst betekenen (en eventueel hoe die moeten worden vormgegeven) stamt al uit de jaren zestig. Technieken als de Generalized Markup Language (GML) en COCOA gingen aan HTML vooraf.</p> <p>Het echt nieuwe van TBL was dat HTML een stuk eenvoudiger was om mee te werken, en dat de browser een stuk 'vergevingsgezinder' was dan de systemen die op die oudere technieken gebaseerd waren \u2013 een ontwerpbeslissing waar we ook heden ten dage nog last van hebben...</p>"},{"location":"week1/1.html/html-deel2.html#tags","title":"Tags","text":"<p>HTML is opgebouwd uit elementen (tags) die elk hun eigen betekenis hebben. Ieder element heeft een opening (het begin) en een sluiting (het einde). De inhoud van elk element staat tussen de opening- en sluitingstag. De open- en sluit tags voor elk element worden geschreven tussen zogenoemde vishaken (<code>&lt;</code> en <code>&gt;</code>). De sluitingstag kent ook een forwardslash (<code>/</code>). Binnen tags kun je weer andere tags introduceren, zodat je uiteindelijk een boomstructuur krijgt.</p> <p>Het is bijvoorbeeld niet mogelijk zomaar een paragraaf tekst te typen en dan hopen dat de browser snapt dat het een paragraaf is. Voor de browser zijn paragrafen niets meer dan alleen maar een rij letters. De paragraaftekst moet in de HTML-opmaak staan. Daarvoor is het element <code>&lt;p&gt;</code> beschikbaar.</p> <p>De algemene vorm van een element is als volgt:</p> <pre><code>&lt;tag&gt;\n    hier staat data\n&lt;/tag&gt;\n</code></pre> <p>Lege elementen</p> <p>Een aantal elementen kan geen andere elementen bevatten (geen \"vertakkingen\" met andere elementen) en hebben om deze reden geen afsluitende tag. Bekende lege elementen zijn:</p> <ul> <li><code>&lt;br&gt;</code></li> <li><code>&lt;img&gt;</code></li> <li><code>&lt;input&gt;</code></li> </ul> <p>Met <code>&lt;br&gt;</code> (een nieuwe regel, of line break) zal je snel kennismaken, <code>&lt;img&gt;</code> (voor het plaatsen van afbeeldingen) en  <code>&lt;input&gt;</code> (voor het verzamelen van input door de gebruiker in formulieren) zullen later volgen. Zie MDN voor een volledig overzicht van lege elementen.</p> <p>Vaak zie je een dergelijk void-element afgesloten worden met een backslash (\"/\"), zoals <code>&lt;img src=\"\" ... /&gt;</code>. Deze slash binnen de tag zelf is optioneel.</p>"},{"location":"week1/1.html/html-deel2.html#een-voorbeeld","title":"Een voorbeeld","text":"<p>Hieronder staat een voorbeeld van een eenvoudige HTML-pagina. Dit voorbeeld laat de algemene structuur van een webpagina zien.</p> <p>Download de bestanden</p> <p>Alle voorbeelden die we in dit onderdeel laten zien, kun je hier downloaden.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Muziekschool Sessions&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Over \u2018Sessions\u2019&lt;/h1&gt;\n        &lt;p&gt;Muziekschool Sessions, de beste in piano en drums.&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Wanneer je deze code opslaat en opent in een browser, krijg je het onderstaande resultaat te zien:</p> <p></p> <p>Gebruik van het file system</p> <p>Normaliter maken we gebruik van een webserver om bestanden in je browser te laten zien. In de eerste drie weken openen we de bestanden gewoon via het file system. Vanaf week 4, wanneer we met Flask gaan werken, zullen we daadwerkelijk met een (ontwikkel)server gaan werken.</p> <p>De eerste regel <code>&lt;!DOCTYPE html&gt;</code>, oftewel Document Type Definition (DTD) is bedoeld om aan te geven door welke versie van HTML het document is opgebouwd.</p> <p>Als tweede wordt de tag <code>&lt;html&gt;</code> ingezet om de browser te laten weten dat HTML-code wordt gebruikt. Zoals je ziet wordt deze tag aan het eind van de pagina weer afgesloten (met <code>&lt;/html&gt;</code>).</p> <p>De <code>&lt;head&gt;</code>-tag bevat de headerinformatie over de pagina. Hierin is bijna altijd de titel van de pagina en meta-tags opgenomen. In latere sessies zullen we aangeven wat er nog meer in de header terecht kan (en moet) komen.</p> <p>De echte inhoud van elk HTML-document zit in de body (let op de corresponderende tag: <code>&lt;body&gt;</code>). Dit is waar de structuur van het document beschreven wordt.</p> <p>Er is een groot aantal tags voorhanden (bekijk de referentie op MDN voor een volledig overzicht) die gebruikt kunnen worden om onder meer plaatjes en/of hyperlinks toe te voegen. In de volgende paragraaf bespreken we een aantal basistags.</p>"},{"location":"week1/1.html/html-deel2.html#een-paar-belangrijke-tags","title":"Een paar belangrijke tags","text":"<p>HTML bestaat uit dus uit een serie elementen die gebruikt kunnen worden om de verschillende onderdelen van de inhoud te verpakken of te omhullen zodat die er op een bepaalde manier gaat uitzien of zich gedragen. De tags (een ander woord voor labels of markeerders) die de tekst insluiten kunnen van een woord of een afbeelding een hyperlink naar ergens anders maken, ze kunnen woorden cursiveren, lettertypes vergroten of verkleinen enzovoort. Neem bijvoorbeeld de volgende regel tekst:</p> <pre><code>&lt;body&gt;\n    Muziek maken is een leuke hobby.\n&lt;/body&gt;\n</code></pre> <p>Het is de bedoeling deze regel als paragraaf te gaan gebruiken. Dat kan geregeld worden door de tekst te omhullen met de volgende paragraaf labels (<code>&lt;p&gt;tekst&lt;/p&gt;</code>):</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Muziek maken is een leuke hobby.&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"week1/1.html/html-deel2.html#koppen","title":"Koppen","text":"<p>Niet alle tags kunnen hier uitvoerig besproken worden (er zijn er te veel, en je kunt ze zelf ook maken), dus we richten ons hier op de meest gebruikte. Als eerste onderwerp worden de \u2018HTML-koppen\u2019 besproken. Met de elementen <code>h1</code> tot en met <code>h6</code> kan een titel (een heading) gegeven worden aan het document of een deel ervan. Daarvan is <code>h1</code> het hoogste niveau dat als eerste wordt gebruikt en <code>h6</code> het laagste niveau.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Headings&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Dit is een koptekst van niveau: 1&lt;/h1&gt;\n        &lt;h2&gt;Dit is een koptekst van niveau: 2&lt;/h2&gt;\n        &lt;h3&gt;Dit is een koptekst van niveau: 3&lt;/h3&gt;\n        &lt;h6&gt;Dit is een koptekst van niveau: 6&lt;/h6&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>Koppen zijn belangrijke elementen op een pagina. Koppen trekken de attentie van de bezoekers van je site en ze geven structuur aan je pagina. Wanneer koppen niet aantrekkelijk of informatief zijn, zijn je lezers zo weer vertrokken naar een andere pagina of een website. Koppen worden ingezet om aandacht te trekken van de belangstellenden. Belangrijk is dat de koppen aanspreken zodat gebruikers blijven hangen en op zoek gaan naar meer informatie over het onderwerp van de site.</p>"},{"location":"week1/1.html/html-deel2.html#blok-elementen","title":"blok-elementen","text":"<p>Ter vergelijk een opbouw van een HTML-pagina zonder opmaak (vanaf nu worden alleen de regels binnen de <code>body</code>-tag in de kaders opgenomen).</p> <pre><code>&lt;body&gt;\n    Dit is een tekst.\n    Dit is een tweede tekst.\n    En nog een tekst.\n&lt;/body&gt;\n</code></pre> <p></p> <p>De browser heeft er geen weet van dat het de bedoeling is geweest om de drie regels tekst onder elkaar te zetten, dus wordt het gerenderd zoals alles achter elkaar staat: nieuwe regels in de HTML betekenen niets voor de rendering. Zonder opmaakelementen worden alle teksten dus na elkaar naar het scherm geschreven.</p> <p>Het gewenste resultaat kan natuurlijk wel gecre\u00eberd worden. Daarbij worden de elementen paragraaf <code>&lt;p&gt;</code> en line-break <code>&lt;br&gt;</code> gebruikt.</p> <p>Het <code>&lt;p&gt;</code> element is \u00e9\u00e9n van de meest gebruikte bouwstenen in HTML. Deze tag definieert een alineascheiding in gewone tekst. Na deze tag cre\u00ebert de browser automatisch wat ruimte boven en onder de inhoud. Deze ruimte wordt bepaald door de ingebouwde stylesheets van de browser.</p> <p>Het <code>&lt;br&gt;</code> element (line break) begint een nieuwe regel. Dit element is nuttig wanneer de tekst op een bepaalde plaats afgebroken moet worden. Je kunt de <code>&lt;br&gt;</code> tag ook binnen een paragraaf gebruiken.</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Dit is een tekst.&lt;/p&gt;\n    Dit is een tweede tekst.&lt;br&gt;\n    En nog een tekst.\n&lt;/body&gt;\n</code></pre> <p></p> <p>Wat opvalt is dat de line-break geen begintag nodig heeft. Dit is zo'n void-element waar we het hierboven over hebben gehad. Voor dergelijke HTML-elementen geldt dat ze correct kunnen worden weergegeven zelfs zonder beide tags op te voeren.</p> <p>Het is ook mogelijk binnen tags andere tags in te voegen. Dit wordt nesten genoemd. In het voorbeeld hieronder gebruiken we bijvoorbeeld het element <code>&lt;strong&gt;</code> om duidelijk te maken dat muziek maken echt een heel leuke hobby is.</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Muziek maken is een &lt;strong&gt;heel&lt;/strong&gt; leuke hobby.&lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Belangrijk is wel dat de elementen op een juiste wijze genest worden: het element <code>&lt;strong&gt;</code> zal gesloten moeten zijn voordat het <code>&lt;p&gt;</code>-element wordt be\u00ebindigd. Wordt dat achterwege gelaten dan overlappen de elementen elkaar en zal de webbrowser een gok wagen wat er van hem gevraagd wordt, wat tot onverwachte resultaten kan leiden.</p>"},{"location":"week1/1.html/html-deel3.html","title":"HTML \u2013 Lists, Divs en Spans","text":""},{"location":"week1/1.html/html-deel3.html#html-lists-divs-en-spans","title":"HTML \u2013 Lists, Divs en Spans","text":"<p>Aan het eind van deze tekst maken we oefening nummer 1.</p>"},{"location":"week1/1.html/html-deel3.html#list","title":"List","text":"<p>Veel webinhoud bestaat uit lijsten (we durven de stelling wel aan dat de meeste websites en -applicaties bestaan uit zogenaamde glorified lists) en om die reden heeft HTML daar speciale elementen voor. De gebruikelijkste lijsttypes zijn geordend en ongeordend lijsten:</p> <ol> <li> <p>Ongeordende lijsten zijn lijsten waarbij de volgorde van de artikelen in de lijst er niet toe doet, zoals een boodschappenlijst. Deze worden ingesloten in een <code>&lt;ul&gt;</code>-element. Standaard worden de items voorafgegaan door een bullet.</p> </li> <li> <p>Geordende lijsten zijn lijsten waarbij de volgorde van de artikelen of onderwerpen in de lijst er wel degelijk toe doet, zoals een recept. Deze worden ingesloten door een <code>&lt;ol&gt;</code>-element. Standaard worden de items binnen zo\u2019n lijst voorafgegaan door een cijfer, maar je kunt ook andere vormen kiezen.</p> </li> </ol> <p>Elk element binnen een lijst wordt ingebed door middel van een <code>&lt;li&gt;</code>-tag (van list item).</p> <pre><code>&lt;body&gt;\n    &lt;h2&gt;Menu restaurant Eefje&lt;/h2&gt;\n    &lt;p&gt;Voorgerechten&lt;/p&gt;\n    &lt;ul&gt;\n        &lt;li&gt;Sashimi van tonijn&lt;/li&gt;\n        &lt;li&gt;Wonton met gerookte zalm&lt;/li&gt;\n        &lt;li&gt;Geitenkaas met rode uienchutney&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;Hoofdgerechten&lt;/p&gt;\n    &lt;ol&gt;\n        &lt;li&gt;Biefstuk Ossenhaas \u2018De Roode Waard\u2019&lt;/li&gt;\n        &lt;li&gt;Kapucijners &lt;/li&gt;\n        &lt;li&gt;Pok\u00e9 Bowl vegetarisch&lt;/li&gt;\n    &lt;/ol&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Ook binnen een lijst kun je elementen nesten; je kunt dus ook een list in een list stoppen. Het kan daarbij handig zijn de nummering voor de geneste lijst afwijkend te maken. Geordende en ongeordende lijsten mogen daarbij ook door elkaar gebruikt worden.</p> <pre><code>&lt;body&gt;\n    &lt;h2&gt;Programmeerkennis&lt;/h2&gt;\n    &lt;ol&gt;\n        &lt;li&gt;DBMS&lt;/li&gt;\n        &lt;li&gt;Programmeertalen&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;Python&lt;/li&gt;\n            &lt;li&gt;Java&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/ol&gt;\n&lt;/body&gt;\n</code></pre> <p></p>"},{"location":"week1/1.html/html-deel3.html#attributen","title":"Attributen","text":"<p>Afbeeldingen zijn een ander belangrijk onderdeel van veel webpagina's. Om een afbeelding toe te voegen aan het HTML-document wordt de tag <code>&lt;img&gt;</code> gebruikt.</p> <pre><code>&lt;img src=\"\" alt=\"\"&gt;\n</code></pre> <p>Met dit element kan een afbeelding in een HTML-pagina ingebed worden. Om aan te geven w\u00e1\u00e1r het betreffende plaatje gevonden kan worden, moeten we een zogenaamd attribuut aan de tag toevoegen. Door gebruik te maken van attributen kun je html-tags voorzien van speciale betekenis, zoals bijvoorbeeld de locatie (url) van een plaatje.</p> <p>De algemene vorm van een attribuut is <code>name=\"value\"</code>. In het geval van onze <code>&lt;img&gt;</code>-tag is de name van het attribuut <code>src</code> en de value van het attribuut de <code>url</code> van het plaatje. (<code>src</code>= source en source betekent bron). Dit attribuut bevat het pad naar het afbeeldingsbestand. Het pad kan leiden naar een folder op de eigen computer of zelfs naar een plaatje op het internet zelf.</p> <p>Behalve de url van het plaatje voegen we in de regel ook nog een <code>alt</code>-attribuut toe (<code>alt</code> = alternative, alternatief in het Nederlands). Met dit attribuut kan een beschrijving aan de afbeelding gekoppeld worden voor het geval bezoekers zijn niet in staat de afbeelding te bekijken.</p> <p>In de folder waar verder alle html-voorbeelden bewaard zijn, zijn ook afbeeldingen ondergebracht, onder meer <code>venazza.jpeg</code>, wat aan een webpagina wordt toegevoegd. De totale html wordt dan als volgt:</p> <p></p><pre><code>&lt;body&gt;\n    &lt;h1&gt;Cinque terre&lt;/h1&gt;\n    &lt;img src=\"venazza.jpeg\" alt=\"Een afbeelding van Venazza\"&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Het <code>alt</code>-attribuut is handig voor mensen met een visuele beperking: op deze manier weet de spraaksoftware wat er moet worden uitgesproken wanneer er een plaatje op de pagina voorkomt. Maar ook tijdens het ontwikkelen kan het handig zijn, om bijvoorbeeld eenvoudig te achterhalen of je de bestandsnaam van de afbeelding goed hebt.</p> <pre><code>&lt;body&gt;\n    &lt;h1&gt;Cinque terre&lt;/h1&gt;\n    &lt;img src=\"venazzo.jpg\" alt=\"Ooops, verkeerd verbonden\"&gt;\n&lt;/body&gt;\n</code></pre> <p></p>"},{"location":"week1/1.html/html-deel3.html#div-en-span","title":"Div en span","text":"<p>De elementen <code>&lt;div&gt;</code> en <code>&lt;span&gt;</code> gebruikt worden wanneer een stijl voor een deel van een document moet worden vastgelegd en dat deel niet tevens door een ander element ingesloten wordt.</p> <p>de <code>div</code>-tag</p> <p>De <code>&lt;div&gt;</code>-tag is bedoeld om duidelijk te maken dat bepaalde elementen van je pagina bij elkaar horen (<code>div</code> staat ook voor Content Division).</p> <p>De <code>&lt;span&gt;</code>-tag lijkt erg op de <code>&lt;div&gt;</code>-tag, maar heeft als belangrijk verschil dat deze tag inline gebruikt kan worden. Waar een <code>&lt;div&gt;</code> normaliter gepaard gaat met een nieuwe regel ervoor en erna, kun je de <code>&lt;span&gt;</code>-tag gebruiken om onderdelen van de lopende tekst te stylen.</p> <p>Zowel een <code>&lt;div&gt;</code> als een <code>&lt;span&gt;</code> hebben vanuit zichzelf geen speciale style. Dit krijgen ze pas wanneer je deze style definieert, bijvoorbeeld met behulp van stylesheets, wat we volgende week zullen gaan doen. Je kunt ook gebruik maken van het <code>style</code>-attribuut. Zie het voorbeeld hieronder.</p> <pre><code>&lt;body&gt;\n    &lt;div style=\"color: red; background-color: white;\"&gt;\n        &lt;h2&gt;Dit is tekst in H2&lt;/h2&gt;\n        &lt;p&gt;Deze &lt;span style=\"color: blue; background-color: white;\"&gt;tekst&lt;/span&gt; is ingesloten  door het P element.&lt;/P&gt;\n    &lt;/div&gt;\n    &lt;div style=\"color: green; background-color: yellow;\"&gt;\n        &lt;h3&gt;Dit is tekst in H3&lt;/h3&gt;\n        &lt;p&gt;Deze &lt;span style=\"color: red; background-color: black;\"&gt;tekst&lt;/span&gt; is ingesloten   door het P element.&lt;/P&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Een vreemd voorbeeld?</p> <p>Het ziet er in eerste instantie misschien wat weird uit, deze kleurencombinatie, maar dit voorbeeld is bedoeld om aan te geven op welke wijze in de volgende paragrafen CSS en Bootstrap de opmaak van verschillende divisies op een webpagina invullen.</p>"},{"location":"week1/1.html/html-deel3.html#de-anchor-tag","title":"De <code>Anchor</code>-tag","text":"<p>Het World Wide Web dankt zijn spinachtige naam aan de overvloedige verbindingen die websites met \u00e9\u00e9n muisklik met elkaar verbinden. Dit maakt internet zo bijzonder. Links zijn te vinden in bijna alle webpagina's. Gebruikers kunnen op links klikken en hun weg vinden van pagina naar pagina. Er kunnen links ingebouwd worden naar andere websites, maar ook naar een andere pagina binnen dezelfde website of zelfs naar een andere plek op dezelfde pagina. Links worden aangebracht de ankertags <code>&lt;a&gt;</code> en <code>&lt;/a&gt;</code> en hun attributen.</p> <pre><code>&lt;a href=\"URL\"&gt;Link tekst&lt;/a&gt;\n</code></pre> <p>De bestemming van de link wordt gedefinieerd in het <code>href</code>-attribuut (van hyperlink reference) van de tag. Op de plaats van 'Link tekst' moet de tekst weergegeven worden waar de bezoeker op kan klikken om naar de betreffende pagina te gaan.</p> <p>De pagina waar meer informatie te vinden is over de bijzondere vijf dorpen is bijvoorbeeld te vinden op het adres <code>https://www.cinqueterre.eu.com/nl/</code>. Ingevuld wordt dat dan:</p> <pre><code>&lt;body&gt;\n    &lt;a href=\"https://www.cinqueterre.eu.com/nl/\"&gt;Informatie over de Cinque Terre&lt;/a&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Wanneer de bezoeker dan op de tekst \"Informatie over de Cinque Terre\" klikt, wordt de browser doorgestuurd naar de pagina die te vinden is op de url die gegeven is in het <code>href</code>-attribuut van de link.</p> <p></p> <p>De link in het vorige voorbeeld is een zogenaamd volledig pad: er zit een volledige url achter de link. Je kunt ook gebruik maken van de locatie van het bestand waar de link zelf inzit, en het pad naar de gewenste pagina hier vanuit bepalen. Dat is een zogenaamd relatief pad (namelijk relatief ten opzichte van de huidige pagina).</p> <pre><code>&lt;!-- bestand pagina1.html --&gt;\n&lt;body&gt;\n    Naar de &lt;a href=\"pagina2.html\"&gt;tweede&lt;/a&gt; pagina\n&lt;/body&gt;\n</code></pre> <pre><code>&lt;!-- bestand pagina2.html --&gt;\n&lt;!-- dit zit in dezelfde directory als bestand pagina1.html --&gt;\n&lt;body&gt;\n    Terug naar de &lt;a href=\"1.html\"&gt;eerste&lt;/a&gt; pagina\n&lt;/body&gt;\n</code></pre> <p>Commentaar in html</p> <p>Net als in programmeertalen kun je ook in html commentaar opnemen. Je ziet dit in het voorbeeld hierboven gebeuren. Commentaar staat tussen <code>&lt;!--</code> en <code>--&gt;</code>. Dat kan handig zijn, wanneer je heel complexe of uitgebreide html aan het typen bent, of wannneer je een stuk html even niet in de browser wil zien.</p> <p>Tenslotte kun je ook nog een link maken naar een element binnen dezelfde pagina. Kijk bijvoorbeeld eens in het menu hier rechts van deze pagina. Hier zie je de inhoudsopgave staan; door op \u00e9\u00e9n van deze links te klikken, ga je direct naar het betreffende onderdeel op deze pagina zelf.</p> <p>Als je met je muis over zo'n link heengaat, zie je hoe die link eruit ziet: er wordt gebruik gemaakt van een hashtag (<code>#</code>) gevolgd door een stukje tekst. Die tekst correspondeert dan weer met het <code>id</code>-attribuut van het element in kwestie. Daar komen we later op terug, wanneer we het gaan hebben over stylesheets.</p> <p>Maak nu oefening nummer 1.</p>"},{"location":"week1/1.html/html-deel4.html","title":"HTML \u2013 Formulieren","text":""},{"location":"week1/1.html/html-deel4.html#html-formulieren","title":"HTML \u2013 Formulieren","text":"<p>Aan het eind van deze tekst maken we oefening nummer 2.</p> <p>Een erg belangrijke schakel tussen een bezoeker en een website of applicatie zijn formulieren. Formulieren stellen gebruikers in staat in te loggen, bestellingen te plaatsen, gericht te zoeken naar informatie met behulp van zoekschermen en nog veel meer.</p> <p>HTML-formulieren worden op een webpagina geplaatst met behulp van de tag <code>&lt;form&gt;</code>. Een formulier kan aan een bestaand HTML-document toegevoegd worden. Een formulier begint met <code>&lt;form&gt;</code> en helemaal aan het einde van het formulier komt te tag <code>&lt;/form&gt;</code>.te staan.</p> <pre><code>&lt;form&gt;\n    &lt;!-- Hier komt het formulier te staan, --&gt;\n    &lt;!-- Dat bestaat uit input-velden, maar ook labels en vragen. --&gt;\n    &lt;!-- Helemaal aan het einde sluit je het formulier weer af. --&gt;\n&lt;/form&gt;\n</code></pre> <p>Commentaar in html</p> <p>Zoals zo vaak in code is het ook handig om commentaar in html te zetten. Zoals je hierboven kunt zien, doe je dat in dit specieke geval met <code>&lt;!--</code> en <code>--&gt;</code>. Als je complexe html aan het schrijven bent, kan het handig zijn om de eind-tag van een commentaarregel te voorzien, waarin je aangeeft welke tag je hiermee afsluit...</p>"},{"location":"week1/1.html/html-deel4.html#input-tag","title":"Input-tag","text":"<p>Het HTML-element <code>&lt;input&gt;</code> wordt gebruikt om interactieve besturingselementen te maken voor webgebaseerde formulieren. Dit element wordt gebruikt om gegevens van de gebruiker te accepteren en is \u00e9\u00e9n van de krachtigst, meest complexe en gevaarlijkste elementen in heel HTML vanwege het enorme aantal combinaties van invoertypen en attributen \u2013 \u00e9n omdat je hiermee de bezoeker de mogelijkheid biedt om contact met de server te maken.</p> <p>Alle <code>&lt;input&gt;</code>-tags kennen het attribuut <code>type</code>. Standaard is de waarde hiervan <code>text</code>, wat betekent dat er een tekstinput wordt weergegeven.</p> <pre><code>&lt;form&gt;\n    &lt;h2&gt;Hieronder een simpel inputelement&lt;/h2&gt;\n    &lt;input type=\"text\"&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>Tekst input</p> <p>Door gebruik te maken van <code>type=\"text\"</code> wordt er een tekstinput-element van \u00e9\u00e9n regel gegenereerd (gerenderd). Wanneer je een input van meerdere regels tekst wilt hebben, moet je gebruik maken van de tag <code>&lt;textarea&gt;</code>. Hier komen we later nog uitgebreid over te spreken.</p>"},{"location":"week1/1.html/html-deel4.html#input-types","title":"<code>input</code> types","text":"<p>Er is in een tekstveld in het formulier aangemaakt. We komen er later op terug wat daar exact de bedoeling van is en hoe je dit in je process kunt gebruiken. Er zijn nog veel meer input-types. In de tabel hieronder wordt een aantal veel gebruikte opgesomd.</p> input type omschrijving <code>text</code> voor teksten <code>number</code> mag alleen getallen bevatten <code>email</code> controleert of het e-mailadres geldig is <code>password</code> vervangt de invoer door asterisk of bolletjes <code>hidden</code> niet zichtbaar, wordt vaak gebruikt om gegeven in op te slaan die onnodig tot fouten kunnen leiden, bijvoorbeeld huidige datum bij een order <code>color</code> opent een color-picker <code>button</code> toont een knop <code>submit</code> knop die de inhoud van het formulier doorstuurt naar de server <p>Bekijk de documentatie op MDN voor een volledig overzicht van de <code>&lt;input&gt;</code>-tag en de bijhorende attributen.</p> <p>Een eenvoudig inlogformulier zou door de volgende HTML-regels gebouwd kunnen worden. Het ziet er niet echt fraai uit, maar daar wordt in de volgende paragrafen uitgebreid aandacht aan besteed.</p> <pre><code>&lt;body&gt;\n    &lt;form method=\"get\" action=\"pagina1.html\"&gt; \n        &lt;h1&gt;Inloggen&lt;/h1&gt;\n        &lt;h2&gt;Vul e-mail en wachtwoord in&lt;/h2&gt;\n        &lt;input type=\"text\" size=\"30\"&gt;\n        &lt;input type=\"password\" size=\"30\"&gt;\n        &lt;input type=\"submit\" value=\"Verstuur\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Het <code>&lt;form&gt;</code>-element bepaalt waar en hoe de gegevens verstuurd worden. Daarvoor zijn er nog twee attributen die voor deze tag opgevoerd moeten worden, <code>method</code> en <code>action</code>.</p> <p>Met het attribuut <code>action</code> kan aangeven worden w\u00e1\u00e1r de informatie uit het formulier naar toe moet worden verzonden (de url van de server die de het formulier verder gaat verwerken). Het attribuut <code>method</code> kent twee mogelijke opties: <code>GET</code> en <code>POST</code>. De <code>GET</code>-methode zal de inhoud van het formulier via een URL overbrengen naar de ontvangende partij. De andere methode, <code>POST</code>, komt veel beter van pas wanneer er met een database gewerkt wordt. Op het moment dat het werken met Flask besproken gaat worden, zullen we uitgebreid bij deze twee attributen stilstaan.</p>"},{"location":"week1/1.html/html-deel4.html#labels","title":"Labels","text":"<p>Tijd om het formulier aan te passen. Een aantal verbeteringen zal worden doorgevoerd. Op de eerste plaats is het onduidelijk welk van de twee invoervelden bedoeld is voor het e-mailadres en welk voor het wachtwoord. Dat zijn labels voor ontwikkeld.</p> <p>Met een <code>&lt;label&gt;</code> kan aangegeven worden welk element van het formulier een toegevoegde waarde gaat krijgen. Daarvoor moet bij het <code>&lt;label&gt;</code>-element het attribuut <code>for</code> ingevuld zijn met dezelfde waarde als het attribuut <code>id</code> van het beoogde tekstveld.</p> <p>Een toegankelijk web</p> <p>The Web is fundamentally designed to work for all people</p> <p>W3C - Accessibility</p> <p><code>&lt;label&gt;</code> en daarmee ook het <code>&lt;input&gt;</code> veld waar het naar verwijst is een voorbeeld van extra betekenis geven aan elementen in je pagina. Een goede reden waarom je dit zou willen doen is om de toegankelijkheid (\"accessibility\") van deze pagina's te vergroten, bijvoorbeeld voor mensen die visueel beperkt zijn. Het <code>&lt;label&gt;</code>-element wordt bijvoorbeeld in screenreaders (\"voorleessoftware\") gebruikt om veldnamen in formulieren auditief te koppelen aan handelingen (het invullen van bijbehorende <code>&lt;inut&gt;</code> velden).</p> <p>Probeer altijd in gedachten te houden dat je pagina's voor een zo breed mogelijk publiek toegankelijk moet zijn en vaak is het zelfs een wettelijke verplichting, bijvoorbeeld bij overheden.</p> <p>Technieken voor het verbeteren van toegankelijkheid vallen onder de noemer A11y, zie verder de MDN accessibility pagina voor een overzicht waarom dit belangrijk is en hoe je het kan toepassen in je werk.</p> <p>Met deze aanpassingen komt de html van de pagina hierboven er als volgt uit te zien:</p> <pre><code>&lt;form method=\"get\" action=\"pagina1.html\"&gt;\n    &lt;label for=\"email\"&gt;E-mailadres:&lt;/label&gt;\n    &lt;input type=\"email\" id=\"email\" name=\"email\" placeholder=\"e-mailadres\"&gt;\n\n    &lt;label for=\"password\"&gt;Wachtwoord:&lt;/label&gt;\n    &lt;input type=\"password\" id=\"password\" name=\"password\" placeholder=\"wachtwoord\"&gt;\n\n    &lt;input type=\"submit\" value=\"Verstuur\"&gt;\n&lt;/form&gt;\n</code></pre> <p>Extra attributen</p> <p>Zoals je ziet hebben we stiekem nog een paar meer attributen van het <code>input</code>-element ingevuld. Zo zie je <code>name</code>, <code>value</code> en <code>placeholder</code> terugkomen. Op de eerste van deze twee komen we later uitgebreid terug. De waarde die het attribuut <code>value</code> krijgt zorgt ervoor dat een element op het formulier een standaardwaarde krijgt toegewezen.</p> <p>Waar <code>value</code> een min of meer vast waarde krijgt zoals bij de Verzend-knop, wordt <code>placeholder</code> meer gebruikt als tijdelijke invulling. Op het moment dat het tekstvak geactiveerd wordt, verdwijnt de inhoud en kunnen de gegevens ingevoerd worden.</p> <p>Stel dat je het formulier zoals dat hierboven is weergegeven zou invullen met de volgende gegevens:</p> <ul> <li>email: henk@hanze.com</li> <li>password: supergeheim</li> </ul> <p>Als je dan op 'Verstuur' zou klikken, zie je het volgende in de adresbalk van je browser staan:</p> <p></p> <p>De gegevens worden in de URL opgenomen en doorgestuurd naar de ontvanger. Duidelijk is wel dat er aan GET-methode een aantal nadelen kleven, niet echt fijne security! Later zullen we hier uitgebreid op terugkomen.</p>"},{"location":"week1/1.html/html-deel4.html#selecties","title":"Selecties","text":""},{"location":"week1/1.html/html-deel4.html#radio-buttons","title":"Radio-buttons","text":"<p>Wanneer je wilt dat een bezoeker een keuze maakt uit verschillende opties, kun je gebruik maken van zogenaamde radio-buttons. De bezoeker krijgt dan een aantal opties voorgeschoteld met open bolletjes ervoor, en door op zo'n bolletje te klikken wordt de betreffende optie geselecteerd.</p> <pre><code>&lt;form&gt;\n    &lt;h3&gt;Bespeelt u al een instrument?&lt;/h3&gt;\n    &lt;label for=\"ja\"&gt;Ja&lt;/label&gt;\n    &lt;input id=\"ja\" type=\"radio\" name=\"janee\" value=\"ja\"&gt;\n    &lt;label for=\"nee\"&gt;Nee&lt;/label&gt;\n    &lt;input id=\"nee\" type=\"radio\" name= \"janee\" value=\"nee\"&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>Let op het attribuut <code>name</code> van de verschillende opties. Doordat deze voor alle bolletjes hetzelfde is (<code>janee</code> in het voorbeeld) weet je browser dat de opties bij elkaar horen en dat er van deze opties maar \u00e9\u00e9n tegelijktijd geselecteerd mag worden.</p>"},{"location":"week1/1.html/html-deel4.html#checkboxes","title":"Checkboxes","text":"<p>Een andere vorm van selectie zijn de zogenaamde selectboxes. Deze lijken erg op de radio-buttons, maar hebben als belangrijk verschil dat je er meerdere tegelijkertijd kunt selecteren:</p> <pre><code>&lt;form method=\"get\"&gt;\n    &lt;h3&gt;Welk instrument bespeelt u?&lt;/h3&gt;\n\n    &lt;input id=\"instrument-piano\" type=\"checkbox\" name=\"instrument\" value=\"Piano\"&gt;\n    &lt;label for=\"instrument-piano\"&gt;Piano&lt;/label&gt;\n\n    &lt;input id=\"instrument-gitaar\" type=\"checkbox\" name=\"instrument\" value=\"Gitaar\"&gt;\n    &lt;label for=\"instrument-gitaar\"&gt;Gitaar&lt;/label&gt;\n\n    &lt;input id=\"instrument-trompet\" type=\"checkbox\" name=\"instrument\" value=\"Trompet\"&gt;\n    &lt;label for=\"instrument-trompet\"&gt;Trompet&lt;/label&gt;\n\n    &lt;input id=\"instrument-viool\" type=\"checkbox\" name=\"instrument\" value=\"Viool\"&gt;\n    &lt;label for=\"instrument-viool\"&gt;Viool&lt;/label&gt;\n\n    &lt;input id=\"instrument-kerkorgel\" type=\"checkbox\" name=\"instrument\" value=\"Kerkorgel\"&gt;\n    &lt;label for=\"instrument-kerkorgel\"&gt;Kerkorgel&lt;/label&gt;\n&lt;/form&gt;\n</code></pre> <p></p>"},{"location":"week1/1.html/html-deel4.html#dropdown","title":"Dropdown","text":"<p>Een laatste mogelijkheid voor keuzelijsten die we bespreken is het drop-down menu. Het voordeel hiervan ten opzichte van keuzerondjes is dat het minder ruimte in beslag neemt. Maar dat is ook een nadeel, omdat gebruikers niet meteen alle opties kunnen zien.</p> <p>Zo'n keuzelijst maak je met de tag <code>select</code>; de opties die in die lijst moeten komen geef je aan met de <code>option</code>-tag. </p> <pre><code>&lt;form&gt;\n    &lt;p&gt;Kunt u bladmuziek lezen?&lt;/p&gt;\n    &lt;select id=\"bladmuziek\" name=\"bladmuziek\"&gt;\n        &lt;option value=\"ja\"&gt;Ja&lt;/option&gt;\n        &lt;option value=\"beetje\"&gt;Beetje&lt;/option&gt;\n        &lt;option value=\"nee\"&gt;Nee&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>De gebruikers zien de waardes Ja, Beetje en Nee opdoemen. Hun keuze wordt vastgelegd onder de naam \u2019bladmuziek\u2019. En onder die naam kan de keuze naar een tweede pagina gestuurd worden.</p>"},{"location":"week1/1.html/html-deel4.html#textarea","title":"Textarea","text":"<p>Een <code>textarea</code> is een extra groot tekstveld dat geschikt is voor het invoeren van een grote hoeveelheid tekst door de gebruiker (de maximale grootte is bepaald door de server die het request afhandelt, maar in de regel kan er zo vijf megabyte in). Het kan aan een webpagina worden toegevoegd als een <code>&lt;textarea&gt;</code>-element.</p> <p>De grootte van het tekstvak kan worden bepaald door een aantal rijen en een aantal kolommen op te geven.</p> <pre><code>&lt;form&gt;\n    &lt;p&gt;Heeft u nog opmerkingen?&lt;/p&gt;\n    &lt;p&gt;Noteer ze in de ruimte hieronder en verstuur de gegevens.&lt;/p&gt;\n    &lt;textarea name=\"opmerking\" rows=\"5\" cols=\"60\"&gt;&lt;/textarea&gt;\n    &lt;input type=\"submit\" value=\"Verstuur feedback\"&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>Maak nu oefening nummer 2.</p>"},{"location":"week1/2.css/css-deel1.html","title":"CSS \u2013 Inleiding","text":""},{"location":"week1/2.css/css-deel1.html#css-inleiding","title":"CSS \u2013 Inleiding","text":"<p>Cascading Style Sheets (CSS) is de code die wordt gebruikt om webpagina\u2019s van een stijl te voorzien. Net zoals HTML is CSS  niet echt een programmeertaal, maar het is ook niet echt een opmaaktaal zoals html. Je zou kunnnen zeggen dat het een stijltaal is: het stelt een ontwerper in staat om diverse stijlen en stijlvormen op geselecteerde elementen in een HTML-document toe te passen.</p> <p>Hieronder zie je een stukje CSS. Deze code zorg ervoor dat de tekst van alle paragrafen (alles met het element <code>&lt;p&gt;</code>) rood wordt weergegeven.</p> <pre><code>p {\n    color: red;\n}\n</code></pre> <p>Bestanden downloaden</p> <p>Ook de bestanden die we hier bespreken kun je downloaden. Volg daarvoor deze link.</p> <p>Je kunt CSS in het html-bestand zelf schrijven, maar je kunt het ook in een separaat bestand opslaan. Die laatste methode is wel makkelijker, omdat je op die manier dezelfde stylesheet in verschillende HTML-bestanden kunt gebruiken. Om ervoor te zorgen dat een html-bestand gebruik kan maken van een css-bestand, moet je een koppeling tussen deze twee aanbrengen. Dat doe je in de <code>header</code> van het html-bestand (dus tussen <code>&lt;head&gt;</code> en <code>&lt;/head&gt;</code>). Zie het onderstaande voorbeeld:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Test CSS&lt;/title&gt;\n        &lt;!-- met deze regel koppelen we de stylesheet aan deze html --&gt;\n        &lt;link href=\"stijl.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;Muziek maken is een leuke hobby!&lt;/p&gt;\n        Meld je aan voor een passende cursus.\n        &lt;p&gt;Vul het aanmeldingsformulier in!&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>Alle tekst opgenomen binnen een paragraaf heeft daadwerkelijk een rode kleur gekregen.</p> <p>External, Internal en Inline</p> <p>Je kunt de style van html op drie plekken neerzetten: external, internal of inline. Alle stijl die je definieert in een extern bestand (een ander bestand dan het html-bestand waar het betrekking op heeft) is external. Stijl die je definieert in het html-bestand zelf (tussen <code>&lt;style&gt;</code> en `</p>"},{"location":"week1/2.css/css-deel2.html","title":"CSS \u2013 selectors en matching-rules","text":""},{"location":"week1/2.css/css-deel2.html#css-selectors-en-matching-rules","title":"CSS \u2013 selectors en matching-rules","text":"<p>Aan het eind van deze tekst maken we oefening nummer 3</p>"},{"location":"week1/2.css/css-deel2.html#een-hierarchie-van-matching","title":"Een hi\u00ebrarchie van matching","text":"<p>Effecten die van toepassing zijn op de coderegels in een html-document kunnen op meerdere niveaus ingesteld worden. Het hoogste niveau is het element <code>&lt;body&gt;</code>. Stijldeclaraties die aan deze selector worden gegeven, zijn van toepassing op het gehele document. De impact van deze effecten kan echter 'overruled' worden door bepaalde onderdelen van het document andere eigenschappen toe te kennen. Deze instellingen krijgen de overhand ten opzichte van de stijlwaarden uit de selector <code>body</code>.</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Dit is een paragraaf binnen de body maar buiten de divisie.&lt;/p&gt;\n\n    &lt;div&gt;\n        &lt;p&gt;Ik ben lekker binnen de div.&lt;/p&gt;\n        &lt;p&gt;Ik lekker ook!&lt;/p&gt;\n        &lt;p&gt;Binnen de div is ook nog een &lt;span&gt;span ingebouwd!&lt;/span&gt;&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <pre><code>body {\n    /* Een beetje leverkleurige achtergrond voor onze mooie html-pagina */\n    background: #a68383;\n}\n\ndiv {\n    background: #8ca7cf;\n    /* Behalve de achtergrond geven we ook wat stijl aan de randen van deze div */\n    border: orange;\n    border-width: thick;  /*10 px */\n    border-style: dotted;\n}\n\nspan {\n    /* je kunt de eigenschappen voor de border ook allemaal in \u00e9\u00e9n keer stijlen */\n    border:solid red 2px;\n}\n</code></pre> <p>We geven hier eerst een achtergrondkleur aan de <code>body</code>. Maar binnen de body hebben we een <code>div</code>, die weer zijn eigen stijl meekrijgt. Tenslotte zie je in deze <code>div</code> ook nog een <code>span</code>-tag staan, die ook weer eigen stijling heeft. Het eindresultaat van dit alles is dan als volgt:</p> <p></p>"},{"location":"week1/2.css/css-deel2.html#class-en-id","title":"class en id","text":"<p>Stijlregels toekennen aan elementtypes (dus door middel van het beschrijven van de stijl van een <code>tag</code>) is een prima oplossing. Maar het nadeel is dat ze van toepassing zijn op alle elementen van het elementtype. Wat nu wanneer een stijlregel niet op alle elementen van een elementtype van toepassing is, maar op het ene element wel en op het andere niet? Daarvoor dienen de <code>class</code> selectors.</p> <p>Bekijk het volgende stukje html:</p> <pre><code>&lt;body&gt;\n    &lt;h3&gt;Ik ben een koptekst van het type h3.&lt;/h3&gt;\n\n    &lt;div class=\"eerste-div\"&gt;\n        &lt;p&gt;Ik ben lekker toegevoegd aan de eerste div!&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"tweede-div\"&gt;\n        &lt;p&gt;Ik ben in de tweede div terecht gekomen!&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;p id=\"apart\"&gt;ID's moeten uniek zijn!&lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p>Let op de attributen <code>class</code> bij beide <code>divs</code> en het attribuut <code>id</code> bij de onderste <code>p</code>. De element-selectors matchen standaard alleen standaard html-elementen (<code>tag</code>). Met een class selector kan specifieker te werk gegaan worden. Een class selectors richt zich op alle elementen met dezelfde waarde voor het <code>class</code> attribuut.</p> <p>Elk html-element kan ingesteld worden door de inhoud van een class of van een id. In het css-document worden dan de stijldeclaraties voor de <code>class</code> of <code>id</code> bepaald. Er is een specifieke syntax voor beschikbaar.</p> <ul> <li><code>.</code> (punt) matcht op de waarde van het <code>class</code>-attribuut</li> <li><code>#</code> (hashtag) matcht op de waarde van het <code>id</code>-attribuut</li> </ul> <p>Het grote verschil tussen beide is dat een ID een uniek onderdeel op een webpagina is. Een ID kan dus maar \u00e9\u00e9n keer voorkomen in de code van een website. De class selector mag vaker gebruikt worden in een html-document.</p> <p>Uit het html-document uit het bovenstaande voorbeeld valt af te lezen er twee <code>&lt;div&gt;</code>-elementen in de coderegels zijn opgenomen. Het is de bedoeling om beide een andere look mee te geven. Hiervoor gebruiken we dus twee verschillende waarden voor de <code>class</code>. De laatste paragraaf willen we ook weer anders stylen, maar deze matchen we op het <code>id</code>. De stylesheet wordt dan als volgt:</p> <pre><code>.eerste-div {\n    color: blue;\n}\n\n.tweede-div {\n    background-color: gray;\n}\n\n#apart {\n    color: red;\n    text-decoration: underline;\n}\n</code></pre> <p>Wat het volgende resultaat tot gevolg heeft:</p> <p></p> <p>Maak nu oefening nummer 3</p>"},{"location":"week1/2.css/css-deel3.html","title":"CSS \u2013 Fonts","text":""},{"location":"week1/2.css/css-deel3.html#css-fonts","title":"CSS \u2013 Fonts","text":"<p>Aan het eind van deze pagina maken we oefening 4.</p> <p>Na de kleur is het lettertype vermoedelijk de meest elementaire eigenschap van een pagina. Het is mogelijk de gewenste lettertypen voor de tekst op de website toe te passen door de lettertype-eigenschappen in het css-bestand te gebruiken. Ook is het mogelijk om Google Fonts API te gebruiken om gewenste lettertypen toe te voegen.</p> <p>Vooraf een waarschuwing. Niet ieder lettertype is niet voor iedere besturingssysteem beschikbaar. Onderstaande links laten zien welke er voor Windows en macOS beschikbaar zijn.</p> <p>Fonts die in OS-X beschikbaar zijn</p> <p>Fonts die in Windows beschikbaar zijn</p> <p>Bekijk het onderstaande verse html-document</p> <pre><code>&lt;body&gt;\n    &lt;h2&gt;The Kids Are On High Street&lt;/h2&gt;\n    &lt;p&gt; In a wake of some change&lt;br&gt;\n        Stones in the pipeline&lt;br&gt;\n        Like some new mountain range&lt;br&gt;\n        We leave the lowlands behind&lt;/p&gt;\n    &lt;p id=\"two\"&gt;(Chorus)&lt;br&gt;\n        They take your photograph&lt;br&gt;\n        You come into existence&lt;br&gt;\n        You realize it's your path&lt;br&gt;\n        In this very instant&lt;/p&gt;\n  &lt;/body&gt;\n</code></pre> <p>Zonder ondersteuning van een CSS-bestand, wordt de inhoud op de volgende manier afgebeeld:</p> <p></p>"},{"location":"week1/2.css/css-deel3.html#font-eigenschappen","title":"Font-eigenschappen","text":"<p>Je kunt het lettertype van de verschillende onderdelen van het html-document styleren door middel van de font-eigenschappen die je met CSS kunt instellen. Er zijn ook weer heel veel van dergelijke eigenschappen met mogelijke waarden. We geven hieronder de belangrijkste, voor een volledig overzicht verwijzen we weer naar MDN:</p> Eigenschap Waarden Betekenis font-family Lijst van lettertypen hiermee wordt bepaald welk lettertype  gebruikt moet worden bij de weergave van de tekst. font-style normal normaal italic cursief oblique schuin font-weight normal normaal bold vet bolder vetter lighter lichter font-size in px exacte hoeveelheid pixels in em 1 em is gelijk aan de ingestelde font-grootte <p>grootheden en eenheden in css</p> <p>Let op de mogelijke waarden die je ziet bij <code>font-size</code>. Hier worden twee mogelijkheden gegeven, namelijk <code>px</code> en <code>em</code>. Er zijn in css verschillende eenheden die je kunt gebruiken als je met grootte wilt werken (bijvoorbeeld hoe groot een plaatje moet worden gerenderd, of hoeveel ruimte een <code>div</code> moet innemen). Check hiervoor deze uitgebreide documentatie op MDN.</p> <p>Stel nu dat we de bovenstaande html verfraaien met de volgende css:</p> <pre><code>h2 {\n    font-family: 'Impact';\n}\n\np {\n    font-family: 'Lucida Console';\n}\n\nbody {\n    font-size: 20px;\n}\n\np {\n    font-size: 10px;\n}\n\n#two {\n    font-size: 2.0em;\n}\n\np {\n    font-style: italic;\n    font-weight: bold;\n}\n</code></pre> <p>Dat levert het volgende (niet per se heel fraaie) resultaat op:</p> <p></p>"},{"location":"week1/2.css/css-deel3.html#google-fonts","title":"Google fonts","text":"<p>Er zijn erg veel lettertypen beschikbaar (letterlijk duizenden) en het is onmogelijk de effecten van ieder font te kennen. Gelukkig heeft Google ook een fraai overzicht van een flink aantal fonts beschikbaar gesteld.</p> <p>Bekijk de site https://fonts.google.com/. Er wordt een site geopend waarin op dit moment 1003 font-family\u2019s beschikbaar zijn.</p> <p></p> <p>Zoek bijvoorbeeld naar het font \u2018Bungee\u2019.</p> <p></p> <p>Onder het kopje Styles kan tekst aan de al bestaande regel worden toegevoegd. Het resultaat is onmiddellijk zichtbaar.</p> <p></p> <p>Is alles naar wens, dan kies je voor Select this style, om de code te zien te krijgen die je in je stylesheet moet opnemen om het gekozen font op je pagina te kunnen gebruiken.</p> <p></p> <p>De twee links zijn belangrijk. De onderste link dient in het css-bestand opgenomen te worden bij het geschikte element en de bovenste link moet aan het html-document toegevoegd te worden in de sectie <code>&lt;head&gt;</code> onder de link naar het css-bestand.</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"deel4.css\"&gt;\n&lt;link href=\"https://fonts.googleapis.com/css2?family=Bungee&amp;display=swap\" rel=\"stylesheet\"&gt;\n</code></pre> <p>Als we dan de <code>h2</code> in het css-bestand als volgt aanpassen:</p> <pre><code>h2 {\n    font-family: 'Bungee', cursive;\n}\n</code></pre> <p>Dan wordt de uiteindelijke pagina als volgt gerenderd:</p> <p></p>"},{"location":"week1/2.css/css-deel3.html#de-inspector","title":"De Inspector","text":"<p>Het kan soms voorkomen dat je bij het surfen over het net een site voorbijkomt, waarvan je denkt \u2018Wauwwwww, dat wil ik ook!\u2019. Dat kan in grote lijnen geregeld worden.</p> <ul> <li>Open de pagina waarvan je de vormgeving wilt nabootsen.</li> <li>Selecteer een onderdeel waarop die vormgeving duidelijk is te zien.</li> <li>Geef een rechtermuisklik en kies voor \u2018Inspecteren\u2019.</li> </ul> <p>Hiermee open je de zogenaamde inspector. Hiermee kun je de code van zowel het html-document als van de bijbehorende css-file bekeken worden. Het is zelfs mogelijk ter plekke instellingen van een andere waarde te voorzien om het effect daarvan te kunnen bekijken. De wijzigingen worden alleen doorgevoerd op de geopende view. Andere gebruikers van deze pagina krijgen de aanpassing(en) natuurlijk niet te zien.</p> <p></p> <p>De HTML van het document zie je aan de linkerkant, de CSS aan de rechterkant. Door deze CSSS te bestuderen, kun je achterhalen hoe het element dat je hebt geselecteerd is vormgegeven.</p> <p>Deze inspector is een heel belangrijk hulpmiddel voor al het front-end werk. We zullen hier dan ook in webtechnologie 3 nog uitgebreid op terugkomen.</p> <p>Maak nu oefening 4.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html","title":"Bootstrap \u2013 Inleiding","text":""},{"location":"week1/3.bootstrap/bootstrap-deel1.html#bootstrap-inleiding","title":"Bootstrap \u2013 Inleiding","text":"<p>Bootstrap is een gratis front-end framework voor snellere en eenvoudigere webontwikkeling. Het bevat op html en css gebaseerde ontwerpsjablonen voor typografie, formulieren, knoppen, tabellen, navigatie, afbeeldingscarrousels en vele andere, evenals optionele Javascript-plug-ins. Tevens geeft het een gebruiker de mogelijkheid om eenvoudig responsieve ontwerpen te maken.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html#voordelen","title":"Voordelen","text":"<p>Voordelen van Bootstrap:</p> <ul> <li>Eenvoudig in gebruik: iedereen met alleen basiskennis van HTML en CSS kan Bootstrap gaan gebruiken.</li> <li>Responsieve functies: de responsieve CSS van Bootstrap past zich aan telefoons, tablets en desktops.</li> <li>Mobiel-eerst benadering: in Bootstrap maken de mobile-first-stijlen deel uit van het kernraamwerk.</li> <li>Compatibiliteit met browsers: Bootstrap 4 is compatibel met alle moderne browsers.</li> </ul> <p>Er zijn twee manieren om Bootstrap 4 te gebruiken voor een eigen website. </p> <ol> <li>Maak gebruik van een CDN.</li> <li>Downloaden van Bootstrap 4.</li> </ol> <p>Content Delivery Network</p> <p>Een Content Delivery Network (CDN) is een netwerk dat verspreid is over verschillende geografische locaties. Via dit netwerk wordt verschillende inhoud (content) aangeboden. Die content kan van alles zijn: video, plaatjes, maar dus ook css of programmacode. </p> <p>Het voordeel hiervan is dat de uptime van zo'n netwerk vele malen hoger ligt dan een enkele computer. </p> <p>Open de pagina GetBootstrap.com. Een klik op de button met de tekst \u2018Download\u2019 zorgt ervoor dat de complete software gedownload wordt. Wanneer er een stukje naar beneden gescrold wordt, zie je wat je moet doen om gebruik te maken van een CDN.</p> <p></p> <p></p> <p>Als je gebruik wilt maken van een CDN, moet je de beide regels aan de rechterkant van het scherm opnemen in je html-document. In het beginscherm zijn een tweetal buttons rood omkaderd. Het kan erg nuttig zijn, zeker voor gebruikers die nog niet heel bedreven zijn in het werken met dit pakket, de onderliggende documentatie te bestuderen.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html#buttons","title":"Buttons","text":"<p>Als voorbeeld een overzicht van de component \u2018Buttons\u2019. Een keurige beschrijving, voorbeelden plus de bijbehorende code, klaar voor gebruik. Dat is voor elk van de items in het linker-menu prachtig uitgewerkt.</p> <p> </p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html#examples","title":"Examples","text":"<p>Onder de knop Buttons zitten tal van schermontwerpen verborgen, vari\u00ebrend van een scherm dat de inhoud van een check-out formulier levert, inclusief controle op de juistheid van het invullen van de data tot een carrousel \u2013 een item dat verschillende afbeeldingen na elkaar kan tonen. Van elk voorbeeld kan de code bekeken worden.</p> <p></p> <p>Hieronder nog eeen voorbeeld van een schermontwerp gemaakt met Bootstrap dat bedoeld is om gebruikers te laten kiezen uit een drietal opties. </p> <p></p> <p>Er is, kortom, heel veel mogelijk met Bootstrap. Bestudeer de voorbeelden en de achterliggende HTML en CSS om een beeld te krijgen van hoe \u00e9\u00e9n en ander in z'n werk gaat.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel2.html","title":"Bootstrap \u2013 Voorbeeld","text":""},{"location":"week1/3.bootstrap/bootstrap-deel2.html#bootstrap-voorbeeld","title":"Bootstrap \u2013 Voorbeeld","text":"<p>Als voorbeeld zullen we nu aan de hand van de documentatie een webpagina opbouwen. De basiscode kan aan het html-document worden toegevoegd en daar aangepast worden aan het gewenste ontwerp. Hierbij wordt een stapsgewijze opbouw gehanteerd.</p> <p>Download de bestanden</p> <p>De bestanden die in dit voorbeeld worden besproken zijn via deze link te downloaden.</p> <p>Stap 1: html-document zonder koppeling naar Bootstrap.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Zonder&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;h1&gt;Hello, world!&lt;/h1&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>Stap 2: Toevoegen links van Bootstrap.</p> <p>Ieder html-document dat gebruik wil maken van de faciliteiten die door Bootstrap aangeboden worden, dient de benodigde links in de <code>&lt;head&gt;</code>-sectie op te nemen. Deze links kunnen gekopieerd worden van de site https://getbootstrap.com/, zoals we al besproken hebben.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Met&lt;/title&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt;\n        &lt;meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\"&gt;\n\n        &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\" integrity=\"sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB\" crossorigin=\"anonymous\"&gt;\n        &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\" integrity=\"sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js\" integrity=\"sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;h1&gt;Hello, world!&lt;/h1&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Nog een geluk dat de links gekopieerd kunnen worden.</p> <p></p> <p>Een duidelijk verschil. De marges en het lettertype is aangepast door de Bootstrap-instellingen.</p> <p>width en init-scale</p> <p>Bootstrap 4 is ontworpen om te kunnen werken met mobiele apparaten. Daarvoor is een <code>&lt;meta&gt;</code>-tag toegevoegd. Hier geven we twee waarden aan mee. Door te stellen dat <code>width = device-width</code> wordt de breedte van de pagina hetzelfde als de schermbreedte van het apparaat (dit is afhankelijk van het apparaat); <code>initial-scale = 1</code> stelt het initi\u00eble zoomniveau in, wanneer de pagina voor het eerst wordt geladen door de browser.</p> <p>Stap3: Container toevoegen.</p> <p>Bootstrap vereist een omvattend element om de inhoud van de site in te pakken. Hiervoor maken we een <code>div</code> aan van de classe <code>container</code> (we laten voor de overzichtelijkheid nu even al die links in de <code>header</code> weg):</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Stap 4: Jumbotron.</p> <p>Een jumbotron zorgt voor een groot grijs vak, om speciale inhoud of informatie te accentueren. In een jumbotron kan nagenoeg elke geldige HTML geplaatst worden, inclusief andere Bootstrap-elementen of -klassen.</p> <p>Om een jumbotron aan te maken, is een <code>&lt;div&gt;</code>-element nodig met klasse <code>jumbotron</code>.</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Hello, world&lt;/h1&gt;\n\n        &lt;div class=\"jumbotron\"&gt;\n            &lt;h1 class=\"display-3\"&gt;Hello, Jumbotron!&lt;/h1&gt;\n\n            &lt;p class=\"lead\"&gt;Dit is een eenvoudige paragraaf, waarbij gebruik gemaakt wordt van de jumbotron, om extra aandacht te vragen voor dit specifieke onderdeel.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Stap 5: Knoppen toevoegen.</p> <p>Bootstrap kent ook verschillende typen knoppen. E\u00e9n van de voordelen hiervan is dat door het algemene gebruik van Bootstrap de meeste mensen bekend zijn met de betekenis van de specifieke vorm van de knoppen, en de interactie met je site dus soepeler gaat lopen.</p> <p>We gaan nu ook knoppen aan ons voorbeeld toevoegen. Als je de component Buttons op de site van Bootstrap selecteert, krijg je te zien welke buttons er allemaal bestaan. Zie het voorbeeld hieronder (om het geheel overzichtelijk laten we de container met de jumbotron achterwege).</p> <pre><code>&lt;div class=\"container\"&gt;\n    &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n    &lt;button class=\"btn btn-success\" type=\"button\" name=\"button\"&gt;Button&lt;/button&gt;\n\n    &lt;!-- rest van de html is weggelaten --&gt;\n\n&lt;/div&gt;\n</code></pre> <p></p> <p>Met de beschikbare informatie wordt een nog een tweede knop in de container opgenomen met de kenmerken, extra groot en niet actief (let op de waarden van het <code>class</code>-attribuut van deze tweede knop):</p> <pre><code>&lt;div class=\"container\"&gt;\n    &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n    &lt;button class=\"btn btn-success\" type=\"button\" name=\"button\"&gt;Button&lt;/button&gt;\n    &lt;button type=\"button\" class=\"btn btn-lg btn-primary\" disabled&gt;Primary button&lt;/button&gt;\n\n    &lt;!-- rest van de html is weggelaten --&gt;\n\n&lt;/div&gt;\n</code></pre> <p></p> <p>Deze laatst toegevoegde knop heeft inderdaad de status inactief gekregen. Als je met je muis over deze knop gaat (hover), verschijnt er geen handje.</p> <p>Stap 6: Finishing touch.</p> <p>In de html hieronder hebben we nog een paar wijzigingen aan onze geweldige site toegevoegd. De grotere knop heeft een ander uiterlijk gekregen, de tweede container heeft ook een tweede klasse gekregen, waarin een knop is opgenomen waaraan een link gekoppeld is.</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n        &lt;button class=\"btn btn-success btn-lg active\" type=\"button\"       name=\"button\"&gt;Button&lt;/button&gt;\n        &lt;button class=\"btn \" disabled type=\"button\" name=\"button\"&gt;Disabled Button&lt;/button&gt;\n\n        &lt;div class=\"jumbotron\"&gt;\n            &lt;h1 class=\"display-3\"&gt;Hello, Jumbotron!&lt;/h1&gt;\n\n            &lt;p class=\"lead\"&gt;Dit is een eenvoudige paragraaf, waarbij gebruik gemaakt wordt van de jumbotron, om extra aandacht te vragen voor dit specifieke onderdeel.&lt;/p&gt;\n\n            &lt;p&gt;We maken hier gebruik van een paragraaf, om de spati\u00ebring een de ruimte tussen de container te regelen..&lt;/p&gt;\n\n            &lt;p class=\"lead\"&gt;\n                &lt;a class=\"btn btn-primary btn-lg \" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;\n            &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html","title":"Bootstrap \u2013 Formulieren","text":""},{"location":"week1/3.bootstrap/bootstrap-deel3.html#bootstrap-formulieren","title":"Bootstrap \u2013 Formulieren","text":"<p>E\u00e9n van de meest gebruikte onderwerpen bij het ontwikkelen van een webapplicatie is het werken met formulieren. Basis hiervoor is html-code, aangevuld met de Bootstrap-links. De <code>&lt;input&gt;</code>-tag wordt veelvuldig gebruikt, in meerdere variaties en in combinatie met de klassen van Bootstrap.</p> <p>Aan de hand van een kant-en-klaar formulier wordt de onderliggende code besproken. De volledige code kan weer in de documentatie gevonden worden. Uiteraard worden de items op het formulier opgenomen in het html-document tussen de tags <code>&lt;form&gt;</code> en <code>&lt;/form&gt;</code>. Bovendien wordt het gehele formulier in een container ingebed. Dat alles levert de volgende basis op:</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h2&gt;Vul onderstaande gegevens in &lt;/h2&gt;\n\n        &lt;form&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#email-adres","title":"Email-adres","text":"<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"e-mail\"&gt;E-mailadres&lt;/label&gt;\n    &lt;input type=\"email\" class=\"form-control\" id=\"e-mail\" aria-  describedby=\"emailHelp\" placeholder=\"E-mailadres\"&gt;\n    &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;\n        Wij geven uw persoonlijke gegevens nooit door\n        aan andere organisaties.\n    &lt;/small&gt;\n&lt;/div&gt;\n</code></pre> <p>Het meeste uit het bovenstaande zal je bekend voorkomen uit de vorige paragrafen. Nieuw is de <code>div</code> met class <code>form-group</code>: dit geeft aan welke <code>input</code>-elementen bij elkaar horen, welke begeleidende tekst daarbij hoort, enzovoort.</p> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#wachtwoord","title":"Wachtwoord","text":"<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"password\"&gt;Wachtwoord&lt;/label&gt;\n    &lt;input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Wachtwoord\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#keuzelijstje","title":"Keuzelijstje","text":"<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"keuze\"&gt;Betaalwijze&lt;/label&gt;\n    &lt;select class=\"form-control\" id=\"keuze\"&gt;\n        &lt;option&gt;iDeal&lt;/option&gt;\n        &lt;option&gt;Cash&lt;/option&gt;\n        &lt;option&gt;CreditCard&lt;/option&gt;\n        &lt;option&gt;Rembours&lt;/option&gt;\n        &lt;option&gt;Polaroid&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#keuzelijst-met-meerdere-keuzemogelijkheden","title":"Keuzelijst met meerdere keuzemogelijkheden:","text":"<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"exampleSelect2\"&gt;Welke instrumenten bespeelt u&lt;/label&gt;\n    &lt;select multiple class=\"form-control\" id=\"exampleSelect2\"&gt;\n        &lt;option&gt;Piano&lt;/option&gt;\n        &lt;option&gt;Kerkorgel&lt;/option&gt;\n        &lt;option&gt;Viool&lt;/option&gt;\n        &lt;option&gt;Didgeridoo&lt;/option&gt;\n        &lt;option&gt;Stofzuiger&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#tekstvak","title":"Tekstvak","text":"<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label for=\"tekstvak\"&gt;Eventuele op- of aanmerkingen:&lt;/label&gt;\n    &lt;textarea class=\"form-control\" id=\"tekstvak\" rows=\"3\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#radio-buttons","title":"Radio buttons","text":"<p>De eerste is checked, en de derde disabled. Let ook op de nieuwe <code>fieldset</code>-tag.</p> <pre><code>&lt;fieldset class=\"form-group\"&gt;\n    &lt;legend&gt;Radio buttons&lt;/legend&gt;\n    &lt;div class=\"form-check\"&gt;\n        &lt;label class=\"form-check-label\"&gt;\n        &lt;input type=\"radio\" class=\"form-check-input\" name=\"optionsRadios\"   id=\"optionsRadios1\" value=\"option1\" checked&gt;\n        Er is al een selectie gemaakt voor u&amp;mdash; dat is een uitstekende keuze\n        &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-check\"&gt;\n        &lt;label class=\"form-check-label\"&gt;\n        &lt;input type=\"radio\" class=\"form-check-input\" name=\"optionsRadios\"   id=\"optionsRadios2\" value=\"option2\"&gt;\n        Wordt voor optie 2 gekozen, wordt de keuze voor optie 1 ongedaan gemaakt.\n        &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-check disabled\"&gt;\n        &lt;label class=\"form-check-label\"&gt;\n        &lt;input type=\"radio\" class=\"form-check-input\" name=\"optionsRadios\"   id=\"optionsRadios3\" value=\"option3\" disabled&gt;\n        Optie drie kan niet gekozen worden.\n        &lt;/label&gt;\n    &lt;/div&gt;\n&lt;/fieldset&gt;\n</code></pre> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#checkbox","title":"Checkbox","text":"<pre><code>&lt;div class=\"form-check\"&gt;\n    &lt;label class=\"form-check-label\"&gt;\n    &lt;input type=\"checkbox\" class=\"form-check-input\"&gt;\n    Ik heb geen zin om de algemene voorwaarden te lezen\n    &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#knop","title":"Knop","text":"<p>En de laatste knop om het formulier te versturen.</p> <pre><code>&lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Verstuur&lt;/button&gt;\n</code></pre> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html","title":"Bootstrap \u2013 Navigatiebalk","text":""},{"location":"week1/3.bootstrap/bootstrap-deel4.html#bootstrap-navigatiebalk","title":"Bootstrap \u2013 Navigatiebalk","text":"<p>Een navigatiebalk is een header die bovenaan de pagina wordt geplaatst. Met Bootstrap kan een navigatiebalk worden uitgebreid of samengevouwen, afhankelijk van de schermgrootte.</p> <p>Een standaard navigatiebalk wordt gemaakt met de <code>.navbar-klasse</code>, gevolgd door een responsive  samenvouwklasse: <code>.navbar-expand-xl</code>. Om hiervan en van keuzelijsten gebruik van te kunnen maken is de javascript-library jQuery nodig in combinatie met Bootstrap. We komen later nog uitgebreider terug op JavaScript; voor nu volstaat het te weten dat dit een programmeertaal die in de web-browser draait. Hiermee kun je functionaliteit en logica toevoegen aan je website.</p> <p>Ga eventueel naar de site van jQuery om een beeld te krijgen van hoe \u00e9\u00e9n en ander werkt. Om gebruik te kunnen maken van deze library, moet je de volgende regels toevoegen aan de <code>head</code>-sectie van je html-document:</p> <pre><code>&lt;script\n  src=\"http://code.jquery.com/jquery-3.1.1.js\"\n  integrity=\"sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;  \n</code></pre> <p>Hiermee is de voorbereiding geslaagd; over naar de navigatie. </p>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#navigatie-toevoegen","title":"Navigatie toevoegen","text":"<p>Om een navigatiebalk toe te kunnen voegen worden er op de Bootstrap-site onder het kopje Components twee mogelijkheden aangeboden: <code>Nav</code> en <code>Navbar</code>. Onder <code>Nav</code> worden alle opties beschreven, aanlijning, wel of geen tabs, achtergrondkleur en nog veel meer. Uiteraard kan de corresponderende code weer overgezet worden naar de webpagina om daar aan de wensen aangepast te worden.</p> <p>Hier wordt gekozen voor de <code>Navbar</code>, waarom zal zo duidelijk worden. Navigatiebalken worden geleverd met ingebouwde ondersteuning voor een handvol sub componenten. </p> Component-classe Uitleg <code>.navbar-brand</code> Voor bedrijfs-, product, of projectnaam (mist bij Nav). <code>.navbar-nav</code> Navigatiebalk zoals hieronder te zien is. <code>.navbar-toggler</code> Nodig voor responsive, maakt inhoud zichtbaar op meerdere schermgrootten. <code>.form-inline</code> Voor toevoegen formuliervelden <code>.navbar-text</code> Voor het toevoegen van verticaal gecentreerde tekstreeksen. <code>.collapse.navbar-collapse</code> Voor het groeperen en verbergen van de inhoud van de navigatiebalk door een bovenliggend breekpunt. <p>Als voorbeeld nu een responsieve navigatiebalk die alle bovengenoemde elementen bevat. Let op: we tonen alleen de <code>body</code>; jQuery en Bootstrap is al in de <code>head</code> ingeladen.</p> <pre><code>&lt;body&gt;\n    &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n        &lt;a class=\"navbar-brand\" href=\"#\"&gt;BRAND&lt;/a&gt;\n\n        &lt;button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-   target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-   expanded=\"false\" aria-label=\"Toggle navigation\"&gt;    \n        &lt;/button&gt;\n\n   &lt;div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"&gt;\n    &lt;ul class=\"navbar-nav mr-auto\"&gt;\n        &lt;li class=\"nav-item active\"&gt;\n            &lt;a class=\"nav-link\" href=\"#\"&gt;SomeLink&lt;/a&gt;\n        &lt;/li&gt;      \n        &lt;li class=\"nav-item\"&gt;\n            &lt;a class=\"nav-link\" href=\"#\"&gt;AnotherLink&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item dropdown\"&gt;\n            &lt;a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\"                  role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" \n               aria-expanded=\"false\"&gt;Dropdown&lt;/a&gt; \n            &lt;div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"&gt;\n                &lt;a class=\"dropdown-item\" href=\"#\"&gt;Action&lt;/a&gt;\n                &lt;a class=\"dropdown-item\" href=\"#\"&gt;Another action&lt;/a&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"dropdown-divider\"&gt;&lt;/div&gt;\n                &lt;a class=\"dropdown-item\" href=\"#\"&gt;Something else here&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;form class=\"form-inline my-2 my-lg-0\"&gt;\n          &lt;input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" \n          aria-label=\"Search\"&gt;\n        &lt;button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\"&gt;     Search&lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/nav&gt;\n&lt;/body&gt;\n</code></pre> <p>Als deze code in de browser wordt geladen, wordt de volgende navigatiebalk zichtbaar, inclusief merknaam, keuzelijst en zoekmogelijkheid:</p> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#voordelen-van-navbar","title":"Voordelen van <code>Navbar</code>","text":"<p>Een keuze voor <code>Navbar</code> kent een tweetal voordelen:</p> <ol> <li>Het logo van het bedrijf of product wordt getoond als BRAND.</li> <li>Als het scherm verkleind wordt blijft in ieder geval het woord BRAND zichtbaar.</li> </ol> <p>Dat tweede punt vraagt misschien om toelichting. Als de schermgrootte te klein is om de inhoud van de webpagina te tonen, zorgt de <code>&lt;div&gt;</code> met de klassen <code>collapse navbar-collapse</code> ervoor dat het linker scherm in zicht is. Door een klik op de \u2018hamburger\u2019 verschijnt de navigatiebalk, nu verticaal opgebouwd. </p> <pre><code>&lt;div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"&gt;\n</code></pre> <p></p> <p>Dat er nog wat op het scherm te zien is komt doordat de volgende snippet buiten de <code>&lt;div&gt;</code> gehouden is en ook niet verdwijnt bij het collapsen. </p> <pre><code>&lt;button class=\"navbar-toggler\" \n    type=\"button\" data-toggle=\"collapse\" \n    data-target=\"#navbarSupportedContent\" \n    aria-controls=\"navbarSupportedContent\" \n    aria-expanded=\"false\" \n    aria-label=\"Toggle navigation\"&gt;         \n\n    &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#extra-link","title":"Extra link","text":"<p>Het is natuurlijk ook mogelijk de navigatiebalk uit te breiden met een extra link. Het kan een link zijn of een drop down-menu; het gaat op vergelijkbare wijze. Als demo wordt een \u2018NewLink\u2019 aan de navigatie toegevoegd:</p> <pre><code>&lt;li class=\"nav-item active\"&gt;\n        &lt;a class=\"nav-link\" href=\"#\"&gt;Sessions&lt;/a&gt;\n&lt;/li&gt;\n</code></pre> <p></p> <p>In de code die Bootstrap ons ter beschikking heeft gesteld is ook een drop down-menu opgenomen. Na opening staat deze inhoud op het scherm.</p> <p></p> <p>Het is mogelijk meerdere divisies aan te brengen in een keuzemenu. De klasse <code>.dropdown-divider</code> helpt daarbij.</p> <pre><code>&lt;a class=\"dropdown-item\" href=\"#\"&gt;Another action&lt;/a&gt;\n&lt;div class=\"dropdown-divider\"&gt;&lt;/div&gt;\n&lt;a class=\"dropdown-item\" href=\"#\"&gt;Something else here&lt;/a&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#tot-slot","title":"Tot slot","text":"<p>Tot zover alle basisvaardigheden voor Bootstrap. Het is niet nodig zelf alle acties en instellingen uit het hoofd te leren. Het is veel belangrijker te oefenen de juiste componenten te selecteren, daarbinnen de juiste attributen op te zoeken en de bijbehorende code te implementeren in de webpagina om vervolgens nog de nodige aanpassingen door te voeren.</p>"},{"location":"week1/oefeningen/wk1oefening1.html","title":"Oefening 1","text":""},{"location":"week1/oefeningen/wk1oefening1.html#oefening-1","title":"Oefening 1","text":"<p>Hieronder staat een webpagina afgebeeld met informatie over Flask. Het is de bedoeling een HTML-pagina te produceren die hetzelfde doet.</p> <p></p> <p>Extra informatie:</p> <ul> <li>URL van Flask: https://flask.palletsprojects.com/</li> <li>Afmetingen van het logo zijn: 200 x 150.</li> <li>Alle informatie over tags is te vinden op: https://developer.mozilla.org/nl/</li> </ul>"},{"location":"week1/oefeningen/wk1oefening2.html","title":"Oefening 2","text":""},{"location":"week1/oefeningen/wk1oefening2.html#oefening-2","title":"Oefening 2","text":"<p>Aan het eind van het onderdeel HTML nog een tweede oefening, waarin gevraagd wordt een formulier voor de muziekschool te maken. Hieronder is een afbeelding van het uiteindelijke resultaat te zien.</p> <p></p> <p>Nog enkele aanwijzingen:</p> <ul> <li>De invulkaders moeten gebruik maken van een placeholder.</li> <li>De gegevens hoeven niet doorgegeven te worden naar een tweede pagina.</li> <li>In het voorbeeld zijn iDEAL, PayPal en Creditcard als opties gebruikt voor de keuzelijst.</li> <li>De aankruisvakjes zijn van het type \u2018checkbox\u2019; informatie over hun werking kan gevonden worden op de site https://developer.mozilla.org/nl/ .</li> </ul>"},{"location":"week1/oefeningen/wk1oefening3.html","title":"Oefening 3","text":""},{"location":"week1/oefeningen/wk1oefening3.html#oefening-3","title":"Oefening 3","text":"<p>Op Wikipedia kan eenieder de geboortedatum zien van bekende/beruchte personen. In deze oefening gaan we een aantal mensen selecteren op basis van een datum.</p> <ol> <li> <p>Kies een dag uit, bijvoorbeeld je eigen geboortedag. Bekijk de wiki-pagina van mensen die op deze dag geboren zijn.</p> </li> <li> <p>Selecteer uit de ongetwijfeld uitgebreide lijst een zestal personen.</p> </li> <li> <p>Maak een html-document aan om de zes grootheden in onder te brengen. Je mag van onderstaand skelet gebruik maken.</p> </li> </ol> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;link rel=\"stylesheet\" href=\"xx.css\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Tekst&lt;/h2&gt;\n        &lt;p class=\"\"&gt;\n        Naam\n        Waardoor bekend (geboortejaar)\n        &lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Maak een bijhorende stylesheet, waarbij je ervoor zorgt dat elke persoon een separate kleur krijgt. Het eindresultaat zou er zo uit kunnen zien (kleurkeuze is aan jullie):</p> <p></p>"},{"location":"week1/oefeningen/wk1oefening4.html","title":"Oefening 4","text":""},{"location":"week1/oefeningen/wk1oefening4.html#oefening-4","title":"Oefening 4","text":"<p>Download de bestanden <code>oefening4.html</code>, <code>oefening4.css</code> en dit plaatje van een kat. De algemene structuur van het html-bestand is al ingevuld, maar je moet hier nog wel wat dingen in aanpassen. Het css-bestand bevat uitsluitend commentaarregels met opdrachten om de webpagina een ander aanzien te geven.</p> <p>Het uiteindelijke resultaat moet er als volgt uit zien. Je mag natuurlijk ook nog wat meer toeters en bellen toevoegen, maar dit is het minimum:</p> <p></p>"},{"location":"week1/oefeningen/wk1oefening5.html","title":"Oefening 5","text":""},{"location":"week1/oefeningen/wk1oefening5.html#oefening-5","title":"Oefening 5","text":"<p>In het project zal van jullie gevraagd worden op diverse plaatsen componenten van Bootstrap te gebruiken. Vaak zijn het ook componenten die in deze cursus basisvaardigheden niet aan bod zijn gekomen. Dat is ook het geval bij deze opdracht. Er zal onder meer gevraagd worden een \u2018carousel\u2019, een draaimolen, op een webpagina in te bouwen.</p> <p>De basis van de opgaven kun je vinden in de bestanden <code>oefening_5_main.html</code>, 'oefening_5_login.html` en de bijhorende plaatjes. In html-bestanden staan ook de exacte opdrachten gegeven. De eindresultaten zien er als volgt uit:</p> <p></p> <p></p>"},{"location":"week2/oop-deel1.html","title":"OOP Python \u2013 Inleiding tot objecten","text":""},{"location":"week2/oop-deel1.html#oop-python-inleiding-tot-objecten","title":"OOP Python \u2013 Inleiding tot objecten","text":"<p>Je gaat nu werken met objecten in Python. Dit is een fundamenteel concept - later ga je zien hoe een database rij automatisch een object wordt in je code.</p>"},{"location":"week2/oop-deel1.html#waarom-objecten","title":"Waarom objecten?","text":"<p>Tot nu toe heb je geprogrammeerd met losse variabelen en functies. Voor kleine programma's werkt dat prima, maar bij grotere applicaties zoals een webshop wordt het al snel onoverzichtelijk. Objecten groeperen gerelateerde data en functionaliteit.</p> <p>Voorbeeld: In een webshop heeft elk product eigenschappen (naam, prijs, voorraad) en acties (verkopen, prijs aanpassen). In plaats van losse variabelen gebruik je een klasse als sjabloon om objecten (instanties) te maken.</p>"},{"location":"week2/oop-deel1.html#je-eerste-klasse-product","title":"Je eerste klasse: Product","text":"<pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n</code></pre>"},{"location":"week2/oop-deel1.html#klasse-definitie","title":"Klasse definitie","text":"<pre><code>class Product:\n</code></pre> <p>Met <code>class</code> definieer je een nieuwe klasse. De naam begint altijd met een hoofdletter (<code>Product</code>, niet <code>product</code>).</p>"},{"location":"week2/oop-deel1.html#type-annotaties","title":"Type annotaties","text":"<pre><code>def __init__(self, naam: str, prijs: float, voorraad: int):\n</code></pre> <p>De type annotaties (<code>: str</code>, <code>: float</code>, <code>: int</code>) geven aan welk datatype je verwacht:</p> <ul> <li><code>naam: str</code> - een string</li> <li><code>prijs: float</code> - een getal met decimalen</li> <li><code>voorraad: int</code> - een heel getal</li> </ul> <p>Waarom type annotaties?</p> <p>Type annotaties zijn nieuw voor je, maar hebben drie grote voordelen:</p> <ol> <li>Je ziet direct wat een functie verwacht - code wordt makkelijker te begrijpen</li> <li>Je editor helpt je met autocompletion en waarschuwt voor fouten</li> <li>Later (bij databases en webapplicaties) zijn ze vereist</li> </ol> <p>Vanaf nu gebruik je ze standaard in je code.</p>"},{"location":"week2/oop-deel1.html#de-constructor-__init__","title":"De constructor: <code>__init__</code>","text":"<pre><code>def __init__(self, naam: str, prijs: float, voorraad: int):\n    self.naam = naam\n    self.prijs = prijs\n    self.voorraad = voorraad\n</code></pre> <p>De <code>__init__</code> methode is de constructor - deze wordt automatisch aangeroepen wanneer je een nieuw object aanmaakt.</p> <p><code>self</code> - het object zelf</p> <p><code>self</code> verwijst naar het object zelf. Wanneer je <code>self.naam = naam</code> schrijft, maak je een attribuut aan dat bij dit specifieke object hoort.</p> <p>Belangrijk: Elke methode moet <code>self</code> als eerste parameter hebben - Python geeft het huidige object automatisch door.</p>"},{"location":"week2/oop-deel1.html#objecten-aanmaken","title":"Objecten aanmaken","text":"<pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Draadloze muis\", 25.50, 20)\n</code></pre> <p>Je hebt nu twee objecten (instanties) van de klasse <code>Product</code>. Elk object heeft zijn eigen waarden:</p> <pre><code>print(laptop.naam)      # \"Laptop\"\nprint(laptop.prijs)     # 799.99\nprint(muis.naam)        # \"Draadloze muis\"\nprint(muis.prijs)       # 25.50\n</code></pre>"},{"location":"week2/oop-deel1.html#terminologie","title":"Terminologie","text":"Term Betekenis Klasse Een sjabloon voor het maken van objecten (bijv. <code>Product</code>) Object/Instantie Een concreet exemplaar van een klasse (bijv. <code>laptop</code>) Attribuut Een variabele die bij een object hoort (bijv. <code>naam</code>, <code>prijs</code>) Methode Een functie die bij een klasse hoort Constructor De <code>__init__</code> methode die een nieuw object initialiseert"},{"location":"week2/oop-deel1.html#methoden-toevoegen","title":"Methoden toevoegen","text":"<p>Een klasse kan methoden bevatten - functies die bij de klasse horen:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop een aantal items. Geeft True terug bij succes, False bij onvoldoende voorraad.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n</code></pre> <p>Belangrijke details:</p> <ol> <li>Return type annotatie: <code>-&gt; bool</code> betekent dat deze methode een boolean teruggeeft</li> <li>Docstring: De regel tussen <code>\"\"\"</code> documenteert wat de methode doet</li> <li>Return value: De methode geeft <code>True</code> of <code>False</code> terug - de aanroepende code beslist wat ermee gebeurt</li> </ol> <p>Print vs Return in webapplicaties</p> <p>De <code>verkoop()</code> methode geeft een boolean terug in plaats van te printen. Dit is essentieel voor webapplicaties:</p> <ul> <li><code>print()</code> schrijft naar de console - de gebruiker ziet dit niet</li> <li><code>return</code> geeft data terug aan de aanroepende code</li> </ul> <p>In Flask geef je data terug aan de browser. Je <code>Product</code> klasse weet alleen van producten - feedback tonen aan gebruikers doet je Flask route:</p> <pre><code># Later in een Flask route:\nif laptop.verkoop(2):\n    flash(\"Product verkocht!\")\n    return redirect('/winkelwagen')\nelse:\n    flash(\"Onvoldoende voorraad\")\n    return redirect('/producten')\n</code></pre> <p>Dit heet separation of concerns: elke laag in je applicatie heeft zijn eigen verantwoordelijkheid.</p>"},{"location":"week2/oop-deel1.html#de-__str__-methode","title":"De <code>__str__</code> methode","text":"<p>Python heeft speciale methoden die beginnen en eindigen met dubbele underscores (<code>__</code>), ook wel \"dunder methods\" genoemd.</p> <p>De <code>__str__</code> methode bepaalt hoe een object als string wordt weergegeven:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam}: \u20ac{self.prijs:.2f} ({self.voorraad} op voorraad)\"\n</code></pre> <p>Nu kun je een product direct printen:</p> <pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nprint(laptop)\n# Output: Laptop: \u20ac799.99 (5 op voorraad)\n</code></pre>"},{"location":"week2/oop-deel1.html#volledige-voorbeeld","title":"Volledige voorbeeld","text":"<pre><code>class Product:\n    \"\"\"Een product in de webshop.\"\"\"\n\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop een aantal items. Geeft True terug bij succes.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def voorraad_bijvullen(self, aantal: int) -&gt; None:\n        \"\"\"Voeg items toe aan de voorraad.\"\"\"\n        self.voorraad += aantal\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam}: \u20ac{self.prijs:.2f} ({self.voorraad} op voorraad)\"\n\n\n# Gebruik de klasse\nlaptop = Product(\"Laptop\", 799.99, 5)\nprint(laptop)\n# Output: Laptop: \u20ac799.99 (5 op voorraad)\n\n# Verkoop\nif laptop.verkoop(2):\n    print(f\"Verkocht! Nieuwe voorraad: {laptop.voorraad}\")\nelse:\n    print(\"Onvoldoende voorraad\")\n# Output: Verkocht! Nieuwe voorraad: 3\n\n# Voorraad bijvullen\nlaptop.voorraad_bijvullen(10)\nprint(laptop)\n# Output: Laptop: \u20ac799.99 (13 op voorraad)\n</code></pre>"},{"location":"week2/oop-deel1.html#meerdere-objecten","title":"Meerdere objecten","text":"<p>Je kunt meerdere objecten van dezelfde klasse maken, elk met eigen data:</p> <pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Draadloze muis\", 25.50, 20)\ntoetsenbord = Product(\"Mechanisch toetsenbord\", 89.99, 15)\n\n# Elk object is onafhankelijk\nlaptop.verkoop(2)\nmuis.verkoop(5)\n\nprint(laptop)        # Laptop: \u20ac799.99 (3 op voorraad)\nprint(muis)          # Draadloze muis: \u20ac25.50 (15 op voorraad)\nprint(toetsenbord)   # Mechanisch toetsenbord: \u20ac89.99 (15 op voorraad)\n</code></pre> <p>Elk object heeft zijn eigen <code>voorraad</code> attribuut - wijzigingen in <code>laptop.voorraad</code> hebben geen effect op <code>muis.voorraad</code>.</p>"},{"location":"week2/oop-deel1.html#methoden-met-berekeningen","title":"Methoden met berekeningen","text":"<p>Methoden kunnen ook berekeningen doen:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def bereken_voorraadwaarde(self) -&gt; float:\n        \"\"\"Bereken de totale waarde van de voorraad.\"\"\"\n        return self.prijs * self.voorraad\n\n    def bereken_prijs_met_btw(self, btw_percentage: float = 21.0) -&gt; float:\n        \"\"\"Bereken prijs inclusief BTW.\"\"\"\n        return self.prijs * (1 + btw_percentage / 100)\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam}: \u20ac{self.prijs:.2f}\"\n\n\nlaptop = Product(\"Laptop\", 799.99, 5)\n\nprint(f\"Voorraadwaarde: \u20ac{laptop.bereken_voorraadwaarde():.2f}\")\n# Output: Voorraadwaarde: \u20ac3999.95\n\nprint(f\"Prijs incl. BTW: \u20ac{laptop.bereken_prijs_met_btw():.2f}\")\n# Output: Prijs incl. BTW: \u20ac968.39\n\nprint(f\"Prijs met 9% BTW: \u20ac{laptop.bereken_prijs_met_btw(9.0):.2f}\")\n# Output: Prijs met 9% BTW: \u20ac871.99\n</code></pre> <p>Default waarden</p> <p><code>btw_percentage: float = 21.0</code> is een default waarde - als je geen waarde meegeeft, wordt 21.0 gebruikt. Dit is handig voor parameters die vaak dezelfde waarde hebben.</p>"},{"location":"week2/oop-deel1.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt nu gezien:</p> <ul> <li>Klassen en objecten: Een klasse is een sjabloon, een object is een instantie</li> <li>Type annotaties: <code>: str</code>, <code>: float</code>, <code>-&gt; bool</code> maken code duidelijker en helpen fouten voorkomen</li> <li>Constructor: <code>__init__</code> initialiseert nieuwe objecten</li> <li>Attributen: Data die bij een object hoort (bijv. <code>self.naam</code>)</li> <li>Methoden: Functies binnen een klasse, eerste parameter is altijd <code>self</code></li> <li>Return values: Methoden geven data terug (geen print statements)</li> <li>Speciale methoden: <code>__str__</code> bepaalt string representatie</li> </ul>"},{"location":"week2/oop-deel1.html#belangrijke-regels","title":"Belangrijke regels","text":"<ol> <li>Type annotaties altijd gebruiken</li> <li>Return values in plaats van print statements (web-ready code)</li> <li>Elke methode heeft <code>self</code> als eerste parameter</li> <li>Klasse namen beginnen met hoofdletter, methode namen met kleine letter</li> </ol>"},{"location":"week2/oop-deel1.html#volgende-stap","title":"Volgende stap","text":"<p>In het volgende deel: dataclasses - een moderne manier om klassen te maken die vooral data bevatten. Dit maakt je code nog korter en leesbaarder.</p> <p>Maak nu oefening 1.</p>"},{"location":"week2/oop-deel2.html","title":"OOP Python \u2013 Dataclasses","text":""},{"location":"week2/oop-deel2.html#oop-python-dataclasses","title":"OOP Python \u2013 Dataclasses","text":"<p>In het vorige deel heb je gezien hoe je klassen maakt met <code>__init__</code>. Voor klassen die vooral data bevatten, heeft Python een modernere aanpak: dataclasses. Deze maken je code korter en leesbaarder.</p>"},{"location":"week2/oop-deel2.html#het-probleem-met-reguliere-klassen","title":"Het probleem met reguliere klassen","text":"<p>Kijk naar deze <code>Product</code> klasse:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int = 0):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n</code></pre> <p>Dit werkt prima, maar er is veel boilerplate: je typt elke attribuutnaam drie keer. Voor klassen met veel attributen wordt dit vervelend.</p>"},{"location":"week2/oop-deel2.html#dataclasses-minder-code-zelfde-resultaat","title":"Dataclasses: minder code, zelfde resultaat","text":"<p>Python biedt een elegantere manier voor data-klassen: dataclasses.</p> <p>Je herkent een dataclass aan de <code>@dataclass</code> decorator (het <code>@</code>-symbool) boven de klasse:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n</code></pre> <p>Wat betekent <code>@dataclass</code>?</p> <p>De <code>@</code> syntax is een decorator - een speciale aanduiding die functionaliteit toevoegt aan je klasse.</p> <p>Je hoeft nu niet precies te begrijpen hoe decorators werken. Belangrijk is dat <code>@dataclass</code> ervoor zorgt dat Python automatisch een aantal methoden voor je genereert:</p> <ul> <li><code>__init__()</code> - constructor met alle attributen als parameters</li> <li><code>__repr__()</code> - nette string representatie voor debugging</li> <li><code>__eq__()</code> - vergelijking tussen objecten</li> </ul> <p>Dit scheelt veel typwerk en voorkomt fouten. Later zie je meer decorators zoals <code>@app.route</code> in Flask.</p> <p>Je gebruikt de klasse precies hetzelfde:</p> <pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nprint(laptop.naam)        # \"Laptop\"\nprint(laptop.prijs)       # 799.99\nprint(laptop)             # Product(naam='Laptop', prijs=799.99, voorraad=5)\n</code></pre>"},{"location":"week2/oop-deel2.html#methoden-toevoegen-aan-dataclasses","title":"Methoden toevoegen aan dataclasses","text":"<p>Je kunt gewoon methoden toevoegen zoals bij normale klassen:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop een aantal items.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def bereken_voorraadwaarde(self) -&gt; float:\n        \"\"\"Bereken totale waarde van voorraad.\"\"\"\n        return self.prijs * self.voorraad\n\n\nlaptop = Product(\"Laptop\", 799.99, 5)\nlaptop.verkoop(2)\nprint(f\"Voorraadwaarde: \u20ac{laptop.bereken_voorraadwaarde():.2f}\")\n# Output: Voorraadwaarde: \u20ac2399.97\n</code></pre>"},{"location":"week2/oop-deel2.html#type-hints-verdieping","title":"Type hints verdieping","text":"<p>Nu je dataclasses gebruikt, is het tijd om meer type hints te leren kennen.</p>"},{"location":"week2/oop-deel2.html#optional-waarden-die-none-kunnen-zijn","title":"Optional - waarden die None kunnen zijn","text":"<p>Soms mag een waarde <code>None</code> zijn:</p> <pre><code>from dataclasses import dataclass\nfrom typing import Optional\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n    beschrijving: Optional[str] = None  # Mag None zijn\n\nlaptop = Product(\"Laptop\", 799.99, 5, \"Gaming laptop\")\nmuis = Product(\"Muis\", 25.50, 10)  # Geen beschrijving\n\nif laptop.beschrijving:\n    print(laptop.beschrijving)\n</code></pre> <p>Optional is een shortcut</p> <p><code>Optional[str]</code> is hetzelfde als <code>str | None</code> (Python 3.10+). Het betekent: \"een string OF None\".</p>"},{"location":"week2/oop-deel2.html#list-lijsten-met-types","title":"List - lijsten met types","text":"<p>Voor lijsten geef je aan welk type elementen erin zitten:</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Winkelwagen:\n    klant_naam: str\n    producten: list[Product] = field(default_factory=list)\n\n    def voeg_toe(self, product: Product) -&gt; None:\n        \"\"\"Voeg een product toe aan de winkelwagen.\"\"\"\n        self.producten.append(product)\n\n    def bereken_totaal(self) -&gt; float:\n        \"\"\"Bereken totaalprijs van alle producten.\"\"\"\n        return sum(p.prijs for p in self.producten)\n\n\nwagen = Winkelwagen(\"Jan Jansen\")\nwagen.voeg_toe(Product(\"Laptop\", 799.99))\nwagen.voeg_toe(Product(\"Muis\", 25.50))\nprint(f\"Totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n# Output: Totaal: \u20ac825.49\n</code></pre> <p>field(default_factory=list)</p> <p>Voor mutable default waarden (lists, dicts) moet je <code>field(default_factory=list)</code> gebruiken in plaats van <code>= []</code>.</p> <p>Waarom? Een gewoon <code>= []</code> zou gedeeld worden tussen alle instanties (Python quirk). Met <code>default_factory</code> krijgt elke instantie zijn eigen lege lijst.</p>"},{"location":"week2/oop-deel2.html#preview-database-modellen","title":"Preview: Database modellen","text":"<p>Database modellen (die je later gaat maken) lijken erg op dataclasses:</p> <pre><code># Dit is hoe SQLAlchemy 2.0+ modellen eruitzien:\nfrom sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column\n\nclass Base(DeclarativeBase):\n    pass\n\nclass Product(Base):\n    __tablename__ = \"products\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str] = mapped_column(String(100))\n    prijs: Mapped[float]\n    voorraad: Mapped[int] = mapped_column(default=0)\n</code></pre> <p>Zie je de overeenkomst? Type annotations + class attributes, net als dataclasses!</p>"},{"location":"week2/oop-deel2.html#volledige-voorbeeld-webshop","title":"Volledige voorbeeld: Webshop","text":"<p>Een compleet voorbeeld met dataclasses:</p> <pre><code>from dataclasses import dataclass, field\nfrom typing import Optional\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n\n@dataclass\nclass Klant:\n    naam: str\n    email: str\n    korting_percentage: float = 0.0\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        \"\"\"Bereken korting op een bedrag.\"\"\"\n        return bedrag * (self.korting_percentage / 100)\n\n\n@dataclass\nclass Bestelling:\n    klant: Klant\n    producten: list[Product] = field(default_factory=list)\n    betaald: bool = False\n\n    def voeg_product_toe(self, product: Product) -&gt; None:\n        \"\"\"Voeg een product toe aan de bestelling.\"\"\"\n        self.producten.append(product)\n\n    def bereken_subtotaal(self) -&gt; float:\n        \"\"\"Bereken subtotaal (zonder korting).\"\"\"\n        return sum(p.prijs for p in self.producten)\n\n    def bereken_totaal(self) -&gt; float:\n        \"\"\"Bereken totaal (met korting).\"\"\"\n        subtotaal = self.bereken_subtotaal()\n        korting = self.klant.bereken_korting(subtotaal)\n        return subtotaal - korting\n\n\n# Gebruik\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", korting_percentage=10.0)\nbestelling = Bestelling(klant=jan)\n\nlaptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Muis\", 25.50, 20)\n\nbestelling.voeg_product_toe(laptop)\nbestelling.voeg_product_toe(muis)\n\nprint(f\"Subtotaal: \u20ac{bestelling.bereken_subtotaal():.2f}\")\nprint(f\"Korting: \u20ac{jan.bereken_korting(bestelling.bereken_subtotaal()):.2f}\")\nprint(f\"Totaal: \u20ac{bestelling.bereken_totaal():.2f}\")\n\n# Output:\n# Subtotaal: \u20ac825.49\n# Korting: \u20ac82.55\n# Totaal: \u20ac742.94\n</code></pre>"},{"location":"week2/oop-deel2.html#wanneer-dataclasses-gebruiken","title":"Wanneer dataclasses gebruiken?","text":"<p>Gebruik dataclasses: - Voor klassen die vooral data bevatten - Veel attributen, weinig logica - Je wilt clean, leesbare code</p> <p>Gebruik reguliere klassen: - Complexe initialization logic nodig - Veel custom dunder methods (<code>__len__</code>, <code>__iter__</code>, etc.) - Geen data container maar echt gedrag</p> <p>Database modellen zijn dataclass-achtig</p> <p>SQLAlchemy modellen die je later maakt, gebruiken hetzelfde patroon: type annotaties met class attributen. Als je dataclasses begrijpt, begrijp je ook de moderne SQLAlchemy syntax.</p>"},{"location":"week2/oop-deel2.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt nu gezien:</p> <ul> <li>Dataclasses: Minder boilerplate voor data containers met <code>@dataclass</code></li> <li>Type hints: <code>Optional[str]</code>, <code>list[Product]</code> voor complexere types</li> <li>field(): Voor mutable defaults met <code>default_factory</code></li> <li>Preview: Database modellen volgen hetzelfde patroon</li> </ul>"},{"location":"week2/oop-deel2.html#belangrijkste-voordelen-dataclasses","title":"Belangrijkste voordelen dataclasses","text":"<ol> <li>Minder code - geen repetitieve <code>__init__</code></li> <li>Automatische methoden - <code>__repr__</code>, <code>__eq__</code> gratis</li> <li>Type safety - duidelijk welke attributen een klasse heeft</li> <li>Voorbereidend - SQLAlchemy modellen werken vergelijkbaar</li> </ol>"},{"location":"week2/oop-deel2.html#volgende-stap","title":"Volgende stap","text":"<p>In het volgende deel: inheritance - hoe klassen van elkaar kunnen erven. Dit is essentieel voor database modellen.</p> <p>Maak nu oefening 2.</p>"},{"location":"week2/oop-deel3.html","title":"OOP Python \u2013 Inheritance","text":""},{"location":"week2/oop-deel3.html#oop-python-inheritance","title":"OOP Python \u2013 Inheritance","text":"<p>Leestijd: ~20 minuten</p> <p>In dit deel leer je hoe inheritance (overerving) werkt in Python. Dit is een essenti\u00eble basis voor het werken met SQLAlchemy, waar je straks modellen maakt die erven van <code>db.Model</code>.</p>"},{"location":"week2/oop-deel3.html#wat-is-inheritance","title":"Wat is inheritance?","text":"<p>Inheritance betekent dat een klasse eigenschappen en methoden overneemt van een andere klasse:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float):\n        self.naam = naam\n        self.prijs = prijs\n\nclass FysiekProduct(Product):\n    def __init__(self, naam: str, prijs: float, gewicht: float):\n        super().__init__(naam, prijs)  # Roep parent constructor aan\n        self.gewicht = gewicht\n\nlaptop = FysiekProduct(\"Laptop\", 799.99, 2.5)\nprint(laptop.naam)  # Werkt! Overgenomen van Product\n</code></pre> <p>Terminologie: - <code>Product</code> is de parent class (ook wel: superclass, base class) - <code>FysiekProduct</code> is de child class (ook wel: subclass, derived class)</p>"},{"location":"week2/oop-deel3.html#wanneer-gebruik-je-inheritance","title":"Wanneer gebruik je inheritance?","text":"<p>Gebruik inheritance wanneer er een \"is een\" relatie is:</p> <ul> <li>Een <code>FysiekProduct</code> is een <code>Product</code></li> <li>Een <code>DigitaalProduct</code> is een <code>Product</code></li> <li>Een <code>User</code> is een <code>db.Model</code> (SQLAlchemy!)</li> </ul> <p>Is-een vs heeft-een</p> <p>Inheritance (is-een): Een laptop is een product</p> <p>Compositie (heeft-een): Een bestelling heeft een klant (zie deel 4)</p>"},{"location":"week2/oop-deel3.html#super-gebruiken","title":"Super() gebruiken","text":"<p><code>super()</code> roept de parent class aan. Dit gebruik je vooral in <code>__init__</code>:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float):\n        self.naam = naam\n        self.prijs = prijs\n        print(f\"Product aangemaakt: {naam}\")\n\nclass FysiekProduct(Product):\n    def __init__(self, naam: str, prijs: float, gewicht: float):\n        super().__init__(naam, prijs)  # Parent initialisatie\n        self.gewicht = gewicht\n        print(f\"Gewicht: {gewicht} kg\")\n</code></pre> <p>super() is verplicht</p> <p>Als je <code>super().__init__()</code> vergeet, worden de parent attributen niet ge\u00efnitialiseerd. Je krijgt dan fouten als <code>AttributeError: 'FysiekProduct' object has no attribute 'naam'</code>.</p>"},{"location":"week2/oop-deel3.html#methoden-overerven-en-overriden","title":"Methoden overerven en overriden","text":"<p>Child classes erven alle methoden van de parent:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def bereken_waarde(self) -&gt; float:\n        return self.prijs * self.voorraad\n\nclass FysiekProduct(Product):\n    def __init__(self, naam: str, prijs: float, voorraad: int, gewicht: float):\n        super().__init__(naam, prijs, voorraad)\n        self.gewicht = gewicht\n\n    def bereken_verzendkosten(self) -&gt; float:\n        \"\"\"Nieuwe methode, alleen in FysiekProduct.\"\"\"\n        if self.gewicht &lt;= 1.0:\n            return 3.95\n        elif self.gewicht &lt;= 5.0:\n            return 6.95\n        else:\n            return 9.95\n\n# Test\nboek = FysiekProduct(\"Python Crash Course\", 34.95, 10, 0.6)\nboek.verkoop(3)  # Inherited van Product!\nprint(f\"Voorraad: {boek.voorraad}\")  # 7\nprint(f\"Verzendkosten: \u20ac{boek.bereken_verzendkosten():.2f}\")  # \u20ac3.95\n</code></pre>"},{"location":"week2/oop-deel3.html#methoden-overriden","title":"Methoden overriden","text":"<p>Je kunt een parent methode vervangen door dezelfde methode in de child te defini\u00ebren:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float):\n        self.naam = naam\n        self.prijs = prijs\n\n    def __str__(self) -&gt; str:\n        return f\"Product: {self.naam} - \u20ac{self.prijs:.2f}\"\n\nclass DigitaalProduct(Product):\n    def __init__(self, naam: str, prijs: float, bestandsgrootte: float):\n        super().__init__(naam, prijs)\n        self.bestandsgrootte = bestandsgrootte\n\n    def __str__(self) -&gt; str:\n        \"\"\"Override: voeg bestandsgrootte toe.\"\"\"\n        return f\"Digitaal Product: {self.naam} - \u20ac{self.prijs:.2f} ({self.bestandsgrootte} MB)\"\n\nphotoshop = DigitaalProduct(\"Photoshop\", 29.99, 2480.0)\nprint(photoshop)  # Gebruikt de overridden __str__\n</code></pre> <p>Type annotations bij override</p> <p>Gebruik bij een override dezelfde type annotations als de parent methode. Dit houdt je code consistent en voorkomt fouten.</p>"},{"location":"week2/oop-deel3.html#inheritance-met-dataclasses","title":"Inheritance met dataclasses","text":"<p>Dataclasses maken inheritance nog eenvoudiger - je hoeft geen <code>super().__init__()</code> te gebruiken:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n@dataclass\nclass FysiekProduct(Product):\n    gewicht: float = 0.5  # Nieuw attribuut\n\n    def bereken_verzendkosten(self) -&gt; float:\n        if self.gewicht &lt;= 1.0:\n            return 3.95\n        elif self.gewicht &lt;= 5.0:\n            return 6.95\n        else:\n            return 9.95\n\n# Gebruik\nlaptop = FysiekProduct(\"Gaming Laptop\", 1299.99, 5, gewicht=2.5)\nprint(laptop)\n# FysiekProduct(naam='Gaming Laptop', prijs=1299.99, voorraad=5, gewicht=2.5)\n</code></pre> <p>Parent attributen eerst</p> <p>Bij dataclass inheritance komen parent attributen automatisch eerst. Child attributen komen daarna. Je hoeft niets extra's te doen.</p>"},{"location":"week2/oop-deel3.html#meerdere-niveaus-inheritance","title":"Meerdere niveaus inheritance","text":"<p>Je kunt ook van een child class erven (inheritance hierarchie):</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n@dataclass\nclass FysiekProduct(Product):\n    gewicht: float = 0.5\n\n@dataclass\nclass Boek(FysiekProduct):\n    auteur: str = \"\"\n    isbn: str = \"\"\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam} door {self.auteur} (ISBN: {self.isbn})\"\n\n# Boek erft van FysiekProduct, die erft van Product\npython_boek = Boek(\n    naam=\"Python Crash Course\",\n    prijs=34.95,\n    voorraad=8,\n    gewicht=0.6,\n    auteur=\"Eric Matthes\",\n    isbn=\"978-1593279288\"\n)\n\nprint(python_boek)\n# Python Crash Course door Eric Matthes (ISBN: 978-1593279288)\n</code></pre> <p>Inheritance hierarchie</p> <p><code>Boek</code> \u2192 <code>FysiekProduct</code> \u2192 <code>Product</code></p> <p>Een <code>Boek</code> heeft toegang tot alle attributen en methoden van zowel <code>FysiekProduct</code> als <code>Product</code>.</p>"},{"location":"week2/oop-deel3.html#preview-sqlalchemy-modellen","title":"Preview: SQLAlchemy modellen","text":"<p>Dit is waarom je inheritance leert - straks in week 6 ga je database modellen maken:</p> <pre><code>from flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass User(db.Model):  # Erft van db.Model!\n    __tablename__ = 'users'\n\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), nullable=False)\n    email = db.Column(db.String(120), nullable=False)\n\nclass Product(db.Model):  # Erft van db.Model!\n    __tablename__ = 'products'\n\n    id = db.Column(db.Integer, primary_key=True)\n    naam = db.Column(db.String(100), nullable=False)\n    prijs = db.Column(db.Float, nullable=False)\n</code></pre> <p>Door te erven van <code>db.Model</code> krijgen je klassen automatisch alle database functionaliteit: opslaan, opvragen, verwijderen, etc.</p> <p>Waarom OOP voor SQLAlchemy?</p> <p>SQLAlchemy gebruikt OOP omdat het perfect past bij database structuur:</p> <ul> <li>Elke klasse = een database tabel</li> <li>Elk object = een rij in de tabel</li> <li>Inheritance geeft je de database functionaliteit</li> </ul>"},{"location":"week2/oop-deel3.html#praktijkvoorbeeld-producttypes","title":"Praktijkvoorbeeld: Producttypes","text":"<p>Hier een compleet voorbeeld met verschillende producttypes:</p> <pre><code>from dataclasses import dataclass\nfrom typing import Optional\n\n@dataclass\nclass Product:\n    \"\"\"Basis product klasse.\"\"\"\n    naam: str\n    prijs: float\n    voorraad: int = 0\n    beschrijving: Optional[str] = None\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop items. Geeft True terug bij succes.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def voorraad_waarde(self) -&gt; float:\n        \"\"\"Bereken totale waarde van voorraad.\"\"\"\n        return self.prijs * self.voorraad\n\n@dataclass\nclass FysiekProduct(Product):\n    \"\"\"Product dat fysiek verzonden moet worden.\"\"\"\n    gewicht: float = 0.5\n\n    def bereken_verzendkosten(self) -&gt; float:\n        \"\"\"Bereken verzendkosten op basis van gewicht.\"\"\"\n        if self.gewicht &lt;= 1.0:\n            return 3.95\n        elif self.gewicht &lt;= 5.0:\n            return 6.95\n        else:\n            return 9.95\n\n@dataclass\nclass DigitaalProduct(Product):\n    \"\"\"Product dat digitaal geleverd wordt.\"\"\"\n    bestandsgrootte: float = 0.0  # MB\n    download_link: str = \"\"\n    voorraad: int = 999  # Digitale producten zijn bijna onbeperkt\n\n    def download(self) -&gt; dict:\n        \"\"\"Simuleer download. Geeft download info terug.\"\"\"\n        if self.voorraad &gt; 0:\n            self.voorraad -= 1\n            return {\n                \"product\": self.naam,\n                \"link\": self.download_link,\n                \"grootte_mb\": self.bestandsgrootte\n            }\n        return {\"error\": \"Niet beschikbaar\"}\n\n# Test\nlaptop = FysiekProduct(\"Gaming Laptop\", 1299.99, 5, gewicht=2.5)\ngame = DigitaalProduct(\n    \"Cyberpunk 2077\", 59.99,\n    bestandsgrootte=70000.0,\n    download_link=\"https://gog.com/download/cyberpunk\"\n)\n\nprint(f\"Laptop verzendkosten: \u20ac{laptop.bereken_verzendkosten():.2f}\")\ninfo = game.download()\nprint(f\"Download: {info['product']} ({info['grootte_mb']} MB)\")\n</code></pre>"},{"location":"week2/oop-deel3.html#checklist","title":"Checklist","text":"<p>Controleer of je het volgende beheerst:</p> <ul> <li> Begrijpen wanneer je inheritance gebruikt (is-een relatie)</li> <li> <code>super().__init__()</code> correct gebruiken in reguliere klassen</li> <li> Inheritance met dataclasses (automatische parent attributen)</li> <li> Methoden overriden met dezelfde signature</li> <li> Meerdere niveaus inheritance (Boek \u2192 FysiekProduct \u2192 Product)</li> <li> Type annotations bij inherited en overridden methoden</li> <li> Begrijpen waarom SQLAlchemy inheritance gebruikt</li> </ul>"},{"location":"week2/oop-deel3.html#samenvatting","title":"Samenvatting","text":"<p>In dit deel heb je geleerd:</p> <ul> <li>Inheritance: Child class neemt eigenschappen over van parent class</li> <li><code>super()</code>: Roept parent class aan, vooral in <code>__init__()</code></li> <li>Overriding: Child kan parent methoden vervangen</li> <li>Dataclass inheritance: Nog eenvoudiger dan reguliere klassen</li> <li>Hierarchie: Meerdere niveaus inheritance mogelijk</li> <li>SQLAlchemy preview: Database modellen erven van <code>db.Model</code></li> </ul> <p>Volgende stap: In deel 4 leer je over compositie - objecten die andere objecten bevatten. Dit is de basis voor foreign keys in databases.</p> <p>Oefening: Maak Oefening 3 om inheritance te oefenen.</p>"},{"location":"week2/oop-deel4.html","title":"OOP Python \u2013 Objecten &amp; Relaties","text":""},{"location":"week2/oop-deel4.html#oop-python-objecten-relaties","title":"OOP Python \u2013 Objecten &amp; Relaties","text":"<p>Leestijd: ~20 minuten</p> <p>In dit deel leer je hoe objecten andere objecten kunnen bevatten (compositie). Dit is essentieel voor het werken met databases, waar tabellen aan elkaar gereleerd zijn via foreign keys.</p>"},{"location":"week2/oop-deel4.html#wat-is-compositie","title":"Wat is compositie?","text":"<p>Compositie betekent dat een object andere objecten bevat. Dit is een \"heeft een\" relatie:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Klant:\n    naam: str\n    email: str\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n\n@dataclass\nclass Bestelling:\n    klant: Klant  # Bestelling HEEFT EEN klant\n    product: Product  # Bestelling HEEFT EEN product\n\n# Gebruik\njan = Klant(\"Jan Jansen\", \"jan@email.nl\")\nlaptop = Product(\"Laptop\", 799.99)\nbestelling = Bestelling(jan, laptop)\n\nprint(f\"{bestelling.klant.naam} bestelde {bestelling.product.naam}\")\n# Jan Jansen bestelde Laptop\n</code></pre> <p>Compositie vs Inheritance</p> <p>Inheritance (is-een): Een laptop is een product</p> <p>Compositie (heeft-een): Een bestelling heeft een klant</p> <p>In databases: compositie = foreign keys!</p>"},{"location":"week2/oop-deel4.html#waarom-compositie","title":"Waarom compositie?","text":"<p>In webapplicaties heb je vaak objecten die aan elkaar gerelateerd zijn:</p> <ul> <li>Een bestelling heeft een klant</li> <li>Een bestelling heeft producten</li> <li>Een blogpost heeft een auteur</li> <li>Een comment heeft een user en een post</li> </ul> <p>Dit modelleer je met compositie in je code, en met foreign keys in je database.</p>"},{"location":"week2/oop-deel4.html#objects-in-lists","title":"Objects in lists","text":"<p>Een object kan een lijst met andere objecten bevatten:</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n\n@dataclass\nclass Winkelwagen:\n    klant_naam: str\n    items: list[Product] = field(default_factory=list)\n\n    def voeg_toe(self, product: Product) -&gt; None:\n        \"\"\"Voeg product toe aan winkelwagen.\"\"\"\n        self.items.append(product)\n\n    def bereken_totaal(self) -&gt; float:\n        \"\"\"Bereken totaalprijs van alle producten.\"\"\"\n        return sum(product.prijs for product in self.items)\n\n# Gebruik\nwagen = Winkelwagen(\"Jan Jansen\")\nwagen.voeg_toe(Product(\"Laptop\", 799.99))\nwagen.voeg_toe(Product(\"Muis\", 25.50))\n\nprint(f\"Totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n# Totaal: \u20ac825.49\n</code></pre> <p>field(default_factory=list)</p> <p>Voor een lijst als attribuut moet je altijd <code>field(default_factory=list)</code> gebruiken, anders delen alle instanties dezelfde lijst!</p>"},{"location":"week2/oop-deel4.html#return-dicts-voor-gestructureerde-data","title":"Return dicts voor gestructureerde data","text":"<p>In webapplicaties wil je vaak gestructureerde data teruggeven aan templates:</p> <pre><code>from dataclasses import dataclass\nfrom typing import Optional\n\n@dataclass\nclass Klant:\n    naam: str\n    email: str\n    korting_percentage: float = 0.0\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        \"\"\"Bereken kortingsbedrag.\"\"\"\n        return bedrag * (self.korting_percentage / 100)\n\n@dataclass\nclass Bestelling:\n    klant: Klant\n    subtotaal: float\n    verzendkosten: float = 5.95\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"\n        Bereken totaal en geef gestructureerde data terug.\n\n        Returns:\n            dict met keys: subtotaal, korting, verzendkosten, totaal\n        \"\"\"\n        korting = self.klant.bereken_korting(self.subtotaal)\n\n        # Gratis verzending boven \u20ac50 (na korting)\n        verzendkosten = self.verzendkosten\n        if (self.subtotaal - korting) &gt;= 50:\n            verzendkosten = 0.0\n\n        totaal = self.subtotaal - korting + verzendkosten\n\n        return {\n            \"subtotaal\": self.subtotaal,\n            \"korting\": korting,\n            \"verzendkosten\": verzendkosten,\n            \"totaal\": totaal\n        }\n\n# Gebruik\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", korting_percentage=10.0)\nbestelling = Bestelling(jan, subtotaal=125.50)\n\ntotaal_info = bestelling.bereken_totaal()\nprint(f\"Subtotaal: \u20ac{totaal_info['subtotaal']:.2f}\")\nprint(f\"Korting: -\u20ac{totaal_info['korting']:.2f}\")\nprint(f\"Verzendkosten: \u20ac{totaal_info['verzendkosten']:.2f}\")\nprint(f\"Totaal: \u20ac{totaal_info['totaal']:.2f}\")\n</code></pre> <p>Waarom dicts teruggeven?</p> <p>Dicts zijn handig voor templates. In Flask kun je ze doorgeven aan Jinja2 templates:</p> <pre><code>@app.route('/bestelling/&lt;int:id&gt;')\ndef toon_bestelling(id):\n    bestelling = Bestelling.query.get(id)\n    totaal_info = bestelling.bereken_totaal()\n    return render_template('bestelling.html',\n                         bestelling=bestelling,\n                         totaal=totaal_info)\n</code></pre> <p>In het template (<code>bestelling.html</code>) kun je dan de dict gebruiken: </p><pre><code>&lt;p&gt;Subtotaal: \u20ac{{ totaal.subtotaal }}&lt;/p&gt;\n&lt;p&gt;Korting: -\u20ac{{ totaal.korting }}&lt;/p&gt;\n&lt;p&gt;Totaal: \u20ac{{ totaal.totaal }}&lt;/p&gt;\n</code></pre><p></p>"},{"location":"week2/oop-deel4.html#complexe-compositie-complete-bestelling","title":"Complexe compositie: Complete bestelling","text":"<p>Hier een realistisch voorbeeld met meerdere gecomponeerde objecten:</p> <pre><code>from dataclasses import dataclass, field\nfrom typing import Optional\n\n@dataclass\nclass Klant:\n    naam: str\n    email: str\n    korting_percentage: float = 0.0\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        return bedrag * (self.korting_percentage / 100)\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n@dataclass\nclass Betaalmethode:\n    type: str  # \"iDEAL\", \"Creditcard\", \"PayPal\"\n    transactiekosten: float = 0.0\n\n    def bereken_totaal_met_kosten(self, bedrag: float) -&gt; float:\n        return bedrag + self.transactiekosten\n\n@dataclass\nclass Verzendmethode:\n    type: str  # \"Standaard\", \"Express\", \"Afhalen\"\n    kosten: float\n    levertijd: str\n\n@dataclass\nclass Kortingscode:\n    code: str\n    percentage: float\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        return bedrag * (self.percentage / 100)\n\n@dataclass\nclass Bestelling:\n    \"\"\"Complete bestelling met alle relaties.\"\"\"\n    klant: Klant\n    producten: list[Product] = field(default_factory=list)\n    betaalmethode: Optional[Betaalmethode] = None\n    verzendmethode: Optional[Verzendmethode] = None\n    kortingscode: Optional[Kortingscode] = None\n\n    def bereken_subtotaal(self) -&gt; float:\n        \"\"\"Som van alle productprijzen.\"\"\"\n        return sum(p.prijs for p in self.producten)\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"\n        Bereken complete totaal met alle kortingen en kosten.\n\n        Returns:\n            dict met alle bedragen - handig voor templates\n        \"\"\"\n        subtotaal = self.bereken_subtotaal()\n\n        # Kortingscode\n        korting = 0.0\n        if self.kortingscode:\n            korting = self.kortingscode.bereken_korting(subtotaal)\n\n        # Verzendkosten (gratis boven \u20ac50 na korting)\n        verzendkosten = 0.0\n        if self.verzendmethode:\n            verzendkosten = self.verzendmethode.kosten\n            if (subtotaal - korting) &gt;= 50:\n                verzendkosten = 0.0\n\n        # Transactiekosten\n        tussentotaal = subtotaal - korting + verzendkosten\n        transactiekosten = 0.0\n        if self.betaalmethode:\n            transactiekosten = self.betaalmethode.transactiekosten\n\n        totaal = tussentotaal + transactiekosten\n\n        return {\n            \"subtotaal\": subtotaal,\n            \"korting\": korting,\n            \"verzendkosten\": verzendkosten,\n            \"transactiekosten\": transactiekosten,\n            \"totaal\": totaal\n        }\n\n# Test complete systeem\nlaptop = Product(\"Gaming Laptop\", 799.99, 5)\nmuis = Product(\"Gaming Muis\", 89.99, 20)\n\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", korting_percentage=5.0)\n\nbestelling = Bestelling(\n    klant=jan,\n    producten=[laptop, muis],\n    betaalmethode=Betaalmethode(\"iDEAL\", transactiekosten=0.0),\n    verzendmethode=Verzendmethode(\"Standaard\", 5.95, \"2-3 werkdagen\"),\n    kortingscode=Kortingscode(\"WELKOM10\", 10.0)\n)\n\ntotaal_info = bestelling.bereken_totaal()\n\nprint(f\"Klant: {bestelling.klant.naam}\")\nprint(f\"Producten: {len(bestelling.producten)}x\")\nprint(f\"\\nSubtotaal: \u20ac{totaal_info['subtotaal']:.2f}\")\nprint(f\"Korting: -\u20ac{totaal_info['korting']:.2f}\")\nprint(f\"Verzendkosten: \u20ac{totaal_info['verzendkosten']:.2f}\")\nprint(f\"Transactiekosten: \u20ac{totaal_info['transactiekosten']:.2f}\")\nprint(f\"TOTAAL: \u20ac{totaal_info['totaal']:.2f}\")\n</code></pre>"},{"location":"week2/oop-deel4.html#preview-database-relaties-foreign-keys","title":"Preview: Database relaties (Foreign Keys)","text":"<p>Dit is waarom je compositie leert - in databases werk je zo met gerelateerde tabellen:</p> <pre><code>from flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass User(db.Model):\n    __tablename__ = 'users'\n\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), nullable=False)\n    email = db.Column(db.String(120), nullable=False)\n\nclass BlogPost(db.Model):\n    __tablename__ = 'posts'\n\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n\n    # Foreign key: elke post HEEFT EEN auteur\n    author_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n\n    # Relationship: geeft toegang tot het User object\n    author = db.relationship('User', backref='posts')\n\n# Gebruik (week 6!)\nuser = User.query.get(1)\npost = BlogPost(title=\"Mijn blog\", content=\"...\", author=user)\ndb.session.add(post)\ndb.session.commit()\n\n# Compositie in actie:\nprint(f\"{post.title} door {post.author.username}\")\n</code></pre> <p>OOP \u2192 Database mapping</p> <ul> <li>Compositie in Python \u2192 Foreign key in database</li> <li><code>bestelling.klant</code> \u2192 <code>bestellingen.klant_id</code> (foreign key naar <code>klanten.id</code>)</li> <li>Objecten bevatten objecten \u2192 Tabellen verwijzen naar tabellen</li> </ul>"},{"location":"week2/oop-deel4.html#gestructureerde-data-voor-templates","title":"Gestructureerde data voor templates","text":"<p>Voor webapplicaties wil je vaak je data in een gestructureerde vorm aan templates doorgeven:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Klant:\n    naam: str\n    email: str\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n\n@dataclass\nclass Bestelling:\n    klant: Klant\n    producten: list[Product]\n\n    def bereken_overzicht(self) -&gt; dict:\n        \"\"\"Maak een overzicht voor de template.\"\"\"\n        subtotaal = sum(p.prijs for p in self.producten)\n        return {\n            \"klant_naam\": self.klant.naam,\n            \"aantal_producten\": len(self.producten),\n            \"subtotaal\": subtotaal,\n            \"btw\": subtotaal * 0.21,\n            \"totaal\": subtotaal * 1.21\n        }\n\n# Test\njan = Klant(\"Jan Jansen\", \"jan@email.nl\")\nbestelling = Bestelling(\n    klant=jan,\n    producten=[\n        Product(\"Laptop\", 799.99),\n        Product(\"Muis\", 25.50)\n    ]\n)\n\noverzicht = bestelling.bereken_overzicht()\nprint(overzicht)\n</code></pre> <p>Output: </p><pre><code>{\n    'klant_naam': 'Jan Jansen',\n    'aantal_producten': 2,\n    'subtotaal': 825.49,\n    'btw': 173.35,\n    'totaal': 998.84\n}\n</code></pre><p></p> <p>Dataclass \u2192 dict voor debugging</p> <p>Je kunt <code>asdict()</code> gebruiken om een dataclass automatisch naar een dict te converteren. Dit is vooral handig voor debugging:</p> <pre><code>from dataclasses import asdict\n\nklant_dict = asdict(jan)\nprint(klant_dict)\n# {'naam': 'Jan Jansen', 'email': 'jan@email.nl'}\n</code></pre> <p>Let op: in productiecode maak je meestal zelf specifieke dicts met alleen de data die je template nodig heeft.</p>"},{"location":"week2/oop-deel4.html#praktijk-flask-routes-met-templates","title":"Praktijk: Flask routes met templates","text":"<p>Hier zie je hoe dit in een echte Flask applicatie werkt:</p> <pre><code>from flask import Flask, render_template\nfrom dataclasses import dataclass\n\napp = Flask(__name__)\n\n@dataclass\nclass Product:\n    id: int\n    naam: str\n    prijs: float\n\n# In-memory \"database\" (later: echte database!)\nproducten = [\n    Product(1, \"Laptop\", 799.99),\n    Product(2, \"Muis\", 25.50),\n    Product(3, \"Toetsenbord\", 89.99)\n]\n\n@app.route('/producten')\ndef toon_producten():\n    \"\"\"Toon alle producten in een template.\"\"\"\n    return render_template('producten.html', producten=producten)\n\n@app.route('/product/&lt;int:product_id&gt;')\ndef toon_product(product_id):\n    \"\"\"Toon \u00e9\u00e9n product.\"\"\"\n    product = next((p for p in producten if p.id == product_id), None)\n\n    if product:\n        return render_template('product.html', product=product)\n    else:\n        return \"Product niet gevonden\", 404\n</code></pre> <p>In je template (<code>producten.html</code>) kun je dan de objecten gebruiken:</p> <pre><code>&lt;h1&gt;Producten&lt;/h1&gt;\n&lt;ul&gt;\n{% for product in producten %}\n    &lt;li&gt;{{ product.naam }} - \u20ac{{ product.prijs }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre> <p>Return values \u2192 Templates</p> <p>Zie je waarom we altijd return values gebruiken en niet print? In een Flask route moet je data doorgeven aan je template, niet naar de console printen.</p>"},{"location":"week2/oop-deel4.html#separation-of-concerns","title":"Separation of concerns","text":"<p>Goede code scheidt verantwoordelijkheden:</p> <p>Business logic (modellen): </p><pre><code>@dataclass\nclass Bestelling:\n    \"\"\"Bevat business logic en data.\"\"\"\n    klant: Klant\n    producten: list[Product]\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"Bereken totaal - RETURN data.\"\"\"\n        return {\"totaal\": sum(p.prijs for p in self.producten)}\n</code></pre><p></p> <p>Presentation layer (routes): </p><pre><code>@app.route('/bestelling/&lt;int:id&gt;')\ndef toon_bestelling(id):\n    \"\"\"Haalt data op en presenteert het.\"\"\"\n    bestelling = get_bestelling(id)  # Haal op\n    totaal_info = bestelling.bereken_totaal()  # Bereken\n\n    # Presenteer in template\n    return render_template('bestelling.html',\n                         bestelling=bestelling,\n                         totaal=totaal_info)\n</code></pre><p></p> <p>Waarom scheiden?</p> <ul> <li>Business logic is herbruikbaar (webapplicatie, CLI, tests)</li> <li>Makkelijker te testen (geen Flask nodig voor tests)</li> <li>Duidelijke verantwoordelijkheden</li> </ul>"},{"location":"week2/oop-deel4.html#checklist","title":"Checklist","text":"<p>Controleer of je het volgende beheerst:</p> <ul> <li> Compositie: objecten die andere objecten bevatten</li> <li> <code>list[Object]</code> met <code>field(default_factory=list)</code></li> <li> <code>Optional[]</code> voor attributen die None kunnen zijn</li> <li> Methoden die dicts teruggeven voor templates</li> <li> Begrijpen: compositie in code = foreign keys in database</li> <li> Separation of concerns: business logic vs presentation</li> </ul>"},{"location":"week2/oop-deel4.html#samenvatting","title":"Samenvatting","text":"<p>In dit deel heb je geleerd:</p> <ul> <li>Compositie: Objecten die andere objecten bevatten (heeft-een relatie)</li> <li>Type hints: <code>list[Product]</code>, <code>Optional[Klant]</code></li> <li>Return dicts: Gestructureerde data voor templates</li> <li>Database preview: Compositie = foreign keys</li> <li>Separation of concerns: Business logic apart van presentation</li> </ul> <p>Je kunt nu:</p> <ul> <li>Complexe datastructuren modelleren met objecten</li> <li>Web-ready code schrijven die data aan templates doorgeeft</li> <li>Begrijpen hoe SQLAlchemy relaties werkt (foreign keys)</li> <li>Code schrijven die geschikt is voor Flask applicaties</li> </ul> <p>Volgende stap: Later ga je dit toepassen met SQLAlchemy. Je modellen krijgen foreign keys en relationships om tabellen aan elkaar te koppelen.</p> <p>Oefening: Maak Oefening 4 om compositie te oefenen met een compleet bestellingssysteem.</p>"},{"location":"week2/oefeningen/oop-oefening1.html","title":"OOP Python \u2013 Oefening 1","text":""},{"location":"week2/oefeningen/oop-oefening1.html#oop-python-oefening-1","title":"OOP Python \u2013 Oefening 1","text":"<p>In deze oefening ga je een <code>Klant</code> klasse maken voor de webshop. Je past toe wat je in deel 1 hebt geleerd: klassen, type annotations, methoden en return values.</p>"},{"location":"week2/oefeningen/oop-oefening1.html#opdracht","title":"Opdracht","text":"<p>Maak een bestand <code>klant.py</code> met een <code>Klant</code> klasse die het volgende kan:</p>"},{"location":"week2/oefeningen/oop-oefening1.html#a-basis-klasse-opzetten","title":"a. Basis klasse opzetten","text":"<p>De klasse moet deze attributen hebben: - <code>naam</code> (str): De naam van de klant - <code>email</code> (str): Het emailadres - <code>korting_percentage</code> (float): Het kortingspercentage (default: 0.0)</p> <p>Gebruik type annotations bij alle attributen!</p>"},{"location":"week2/oefeningen/oop-oefening1.html#b-methoden-implementeren","title":"b. Methoden implementeren","text":"<p>Voeg de volgende methoden toe:</p> <ol> <li><code>bereken_korting(bedrag: float) -&gt; float</code></li> <li>Berekent de korting op een bepaald bedrag</li> <li> <p>Geeft het kortingsbedrag terug</p> </li> <li> <p><code>bereken_prijs_na_korting(bedrag: float) -&gt; float</code></p> </li> <li>Berekent de prijs na aftrek van korting</li> <li> <p>Geeft de uiteindelijke prijs terug</p> </li> <li> <p><code>__str__() -&gt; str</code></p> </li> <li>Geeft een nette string representatie van de klant</li> <li>Formaat: <code>\"Klant: Jan Jansen (jan@email.nl) - 10% korting\"</code></li> </ol> <p>Return values, geen prints</p> <p>Je methoden moeten waarden teruggeven, niet printen. De aanroepende code beslist wat er met de waarde gebeurt.</p>"},{"location":"week2/oefeningen/oop-oefening1.html#c-testen","title":"c. Testen","text":"<p>Test je klasse met deze code:</p> <pre><code># Maak klanten aan\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", korting_percentage=10.0)\nmarie = Klant(\"Marie Peters\", \"marie@email.nl\")  # Geen korting\n\n# Bereken prijzen\nprijs = 100.0\n\nprint(jan)\nprint(f\"Korting op \u20ac{prijs:.2f}: \u20ac{jan.bereken_korting(prijs):.2f}\")\nprint(f\"Prijs na korting: \u20ac{jan.bereken_prijs_na_korting(prijs):.2f}\")\nprint()\n\nprint(marie)\nprint(f\"Korting op \u20ac{prijs:.2f}: \u20ac{marie.bereken_korting(prijs):.2f}\")\nprint(f\"Prijs na korting: \u20ac{marie.bereken_prijs_na_korting(prijs):.2f}\")\n</code></pre> <p>Verwachte output: </p><pre><code>Klant: Jan Jansen (jan@email.nl) - 10.0% korting\nKorting op \u20ac100.00: \u20ac10.00\nPrijs na korting: \u20ac90.00\n\nKlant: Marie Peters (marie@email.nl) - 0.0% korting\nKorting op \u20ac100.00: \u20ac0.00\nPrijs na korting: \u20ac100.00\n</code></pre><p></p>"},{"location":"week2/oefeningen/oop-oefening1.html#extra-uitdaging-optioneel","title":"Extra uitdaging (optioneel)","text":"<p>Voeg een methode <code>verhoog_korting(extra_percentage: float) -&gt; None</code> toe die het kortingspercentage verhoogt. Beperk de maximale korting tot 50%.</p> <pre><code>jan.verhoog_korting(5.0)  # Nu 15% korting\nprint(jan)\n# Output: Klant: Jan Jansen (jan@email.nl) - 15.0% korting\n\njan.verhoog_korting(40.0)  # Zou 55% worden, maar max is 50%\nprint(jan)\n# Output: Klant: Jan Jansen (jan@email.nl) - 50.0% korting\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening1.html#checklist","title":"Checklist","text":"<p>Controleer voordat je klaar bent:</p> <ul> <li> Type annotations bij alle parameters en return types</li> <li> Methoden geven waarden terug (return), geen print statements</li> <li> <code>__str__</code> methode ge\u00efmplementeerd</li> <li> Default waarde voor <code>korting_percentage</code></li> <li> Code werkt met de testcode</li> <li> Docstrings bij alle methoden</li> </ul>"},{"location":"week2/oefeningen/oop-oefening1.html#tips","title":"Tips","text":"<ul> <li>Gebruik <code>self.attribuut</code> om attributen van het object te benaderen</li> <li>Type annotatie voor return value: <code>-&gt; float</code>, <code>-&gt; str</code>, of <code>-&gt; None</code></li> <li>F-strings zijn handig voor de <code>__str__</code> methode: <code>f\"Tekst {variabele}\"</code></li> <li>Een percentage van 10% bereken je als: <code>bedrag * (percentage / 100)</code></li> </ul>"},{"location":"week2/oefeningen/oop-oefening2.html","title":"OOP Python \u2013 Oefening 2","text":""},{"location":"week2/oefeningen/oop-oefening2.html#oop-python-oefening-2","title":"OOP Python \u2013 Oefening 2","text":"<p>In deze oefening ga je werken met dataclasses en geavanceerde type hints. Je zet een reguliere klasse om naar een dataclass en maakt een winkelwagen systeem.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#deel-a-product-omzetten-naar-dataclass","title":"Deel a: Product omzetten naar dataclass","text":"<p>Je hebt in oefening 1 waarschijnlijk een reguliere <code>Product</code> klasse gemaakt. Nu ga je deze omzetten naar een dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#opdracht","title":"Opdracht","text":"<p>Maak een bestand <code>product.py</code> met een <code>Product</code> dataclass:</p> <p>Attributen: - <code>naam</code> (str): Productnaam - <code>prijs</code> (float): Prijs in euro's - <code>voorraad</code> (int): Aantal op voorraad (default: 0) - <code>beschrijving</code> (Optional[str]): Een optionele beschrijving (default: None)</p> <p>Methoden: - <code>verkoop(aantal: int) -&gt; bool</code>: Verkoop items, geeft True bij succes - <code>voorraad_waarde() -&gt; float</code>: Bereken totale waarde van voorraad</p>"},{"location":"week2/oefeningen/oop-oefening2.html#startcode","title":"Startcode","text":"<pre><code>from dataclasses import dataclass\nfrom typing import Optional\n\n@dataclass\nclass Product:\n    # Jouw code hier\n    pass\n</code></pre> <p>Optional betekent: kan None zijn</p> <p><code>beschrijving: Optional[str] = None</code> betekent dat beschrijving een string OF None kan zijn.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#test-je-product","title":"Test je Product","text":"<pre><code>laptop = Product(\"Laptop\", 799.99, 5, \"Gaming laptop met RGB\")\nmuis = Product(\"Muis\", 25.50, 20)  # Geen beschrijving\n\nprint(laptop)\nprint(f\"Voorraadwaarde: \u20ac{laptop.voorraad_waarde():.2f}\")\n\nlaptop.verkoop(2)\nprint(laptop)\n</code></pre> <p>Verwachte output: </p><pre><code>Product(naam='Laptop', prijs=799.99, voorraad=5, beschrijving='Gaming laptop met RGB')\nVoorraadwaarde: \u20ac3999.95\nProduct(naam='Laptop', prijs=799.99, voorraad=3, beschrijving='Gaming laptop met RGB')\n</code></pre><p></p>"},{"location":"week2/oefeningen/oop-oefening2.html#deel-b-winkelwagen-met-list-type-hint","title":"Deel b: Winkelwagen met list type hint","text":"<p>Maak een bestand <code>winkelwagen.py</code> met een <code>Winkelwagen</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#opdracht_1","title":"Opdracht","text":"<p>Attributen: - <code>klant_naam</code> (str): Naam van de klant - <code>items</code> (list[Product]): Lijst met producten</p> <p>Methoden: - <code>voeg_toe(product: Product) -&gt; None</code>: Voeg product toe - <code>verwijder(product: Product) -&gt; bool</code>: Verwijder product, geeft True als gelukt - <code>bereken_totaal() -&gt; float</code>: Bereken totaalprijs - <code>aantal_items() -&gt; int</code>: Geef aantal items terug</p> <p>Mutable defaults: gebruik field()</p> <p>Voor lists als default waarde moet je <code>field(default_factory=list)</code> gebruiken!</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Winkelwagen:\n    klant_naam: str\n    items: list[Product] = field(default_factory=list)\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening2.html#test-je-winkelwagen","title":"Test je Winkelwagen","text":"<pre><code>from product import Product\nfrom winkelwagen import Winkelwagen\n\n# Maak producten\nlaptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Muis\", 25.50, 20)\ntoetsenbord = Product(\"Toetsenbord\", 89.99, 15)\n\n# Maak winkelwagen\nwagen = Winkelwagen(\"Jan Jansen\")\nprint(f\"Aantal items: {wagen.aantal_items()}\")  # Should be 0\n\n# Voeg producten toe\nwagen.voeg_toe(laptop)\nwagen.voeg_toe(muis)\nwagen.voeg_toe(toetsenbord)\n\nprint(f\"Aantal items: {wagen.aantal_items()}\")\nprint(f\"Totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n\n# Verwijder item\nif wagen.verwijder(muis):\n    print(\"Muis verwijderd\")\n\nprint(f\"Nieuw totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n</code></pre> <p>Verwachte output: </p><pre><code>Aantal items: 0\nAantal items: 3\nTotaal: \u20ac915.48\nMuis verwijderd\nNieuw totaal: \u20ac889.98\n</code></pre><p></p>"},{"location":"week2/oefeningen/oop-oefening2.html#checklist","title":"Checklist","text":"<p>Controleer voordat je klaar bent:</p> <ul> <li> <code>Product</code> gebruikt <code>@dataclass</code> decorator</li> <li> <code>Optional[str]</code> gebruikt voor beschrijving</li> <li> <code>Winkelwagen</code> gebruikt <code>list[Product]</code> type hint</li> <li> <code>field(default_factory=list)</code> gebruikt voor items</li> <li> Alle methoden hebben return type annotations</li> <li> Code werkt met de testcode</li> </ul>"},{"location":"week2/oefeningen/oop-oefening2.html#wat-je-geleerd-hebt","title":"Wat je geleerd hebt","text":"<ul> <li><code>@dataclass</code> vermindert boilerplate code</li> <li><code>Optional[]</code> voor waarden die None kunnen zijn</li> <li><code>list[Type]</code> voor typed lists</li> <li><code>field(default_factory=list)</code> voor mutable defaults</li> </ul> <p>Tip: Deze patterns zie je later terug in SQLAlchemy modellen!</p>"},{"location":"week2/oefeningen/oop-oefening3.html","title":"OOP Python \u2013 Oefening 3","text":""},{"location":"week2/oefeningen/oop-oefening3.html#oop-python-oefening-3","title":"OOP Python \u2013 Oefening 3","text":"<p>In deze oefening pas je inheritance (overerving) toe. Je maakt subklassen van <code>Product</code> voor verschillende producttypen, wat je voorbereidt op het werken met database modellen die erven van <code>db.Model</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#achtergrond","title":"Achtergrond","text":"<p>In een webshop heb je verschillende soorten producten: - Fysieke producten: hebben gewicht en verzendkosten - Digitale producten: hebben bestandsgrootte en geen verzending</p> <p>Dit is een perfect geval voor inheritance: beide zijn producten, maar met specifieke eigenschappen.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#deel-a-fysiekproduct","title":"Deel a: FysiekProduct","text":"<p>Maak een <code>FysiekProduct</code> klasse die erft van <code>Product</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#opdracht","title":"Opdracht","text":"<p>Extra attributen: - <code>gewicht</code> (float): Gewicht in kg</p> <p>Extra methoden: - <code>bereken_verzendkosten() -&gt; float</code>: Bereken verzendkosten op basis van gewicht   - Tot 1 kg: \u20ac3.95   - Tot 5 kg: \u20ac6.95   - Meer dan 5 kg: \u20ac9.95</p>"},{"location":"week2/oefeningen/oop-oefening3.html#startcode","title":"Startcode","text":"<pre><code>from dataclasses import dataclass\nfrom product import Product\n\n@dataclass\nclass FysiekProduct(Product):\n    gewicht: float = 0.5  # Default 0.5 kg\n\n    def bereken_verzendkosten(self) -&gt; float:\n        # Jouw code hier\n        pass\n</code></pre> <p>Werken met dataclass inheritance</p> <p>Bij dataclasses hoef je geen <code>super().__init__()</code> te gebruiken - de parent attributen worden automatisch overgenomen!</p>"},{"location":"week2/oefeningen/oop-oefening3.html#test-je-fysiekproduct","title":"Test je FysiekProduct","text":"<pre><code>boek = FysiekProduct(\n    naam=\"Python Crash Course\",\n    prijs=34.95,\n    voorraad=8,\n    gewicht=0.6\n)\n\nprint(boek)\nprint(f\"Verzendkosten: \u20ac{boek.bereken_verzendkosten():.2f}\")\n\nlaptop = FysiekProduct(\"Gaming Laptop\", 1299.99, 3, gewicht=2.5)\nprint(f\"Verzendkosten laptop: \u20ac{laptop.bereken_verzendkosten():.2f}\")\n</code></pre> <p>Verwachte output: </p><pre><code>FysiekProduct(naam='Python Crash Course', prijs=34.95, voorraad=8, beschrijving=None, gewicht=0.6)\nVerzendkosten: \u20ac3.95\nVerzendkosten laptop: \u20ac6.95\n</code></pre><p></p>"},{"location":"week2/oefeningen/oop-oefening3.html#deel-b-digitaalproduct","title":"Deel b: DigitaalProduct","text":"<p>Maak een <code>DigitaalProduct</code> klasse die erft van <code>Product</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#opdracht_1","title":"Opdracht","text":"<p>Extra attributen: - <code>bestandsgrootte</code> (float): Grootte in MB - <code>download_link</code> (str): URL voor download</p> <p>Defaults: - <code>voorraad</code>: 999 (digitale producten zijn bijna onbeperkt beschikbaar)</p> <p>Extra methoden: - <code>download() -&gt; dict</code>: Simuleer een download   - Verminder voorraad met 1   - Geef een dict terug met info: <code>{\"product\": naam, \"link\": download_link, \"grootte_mb\": bestandsgrootte}</code></p>"},{"location":"week2/oefeningen/oop-oefening3.html#startcode_1","title":"Startcode","text":"<pre><code>@dataclass\nclass DigitaalProduct(Product):\n    bestandsgrootte: float = 0.0  # MB\n    download_link: str = \"\"\n    voorraad: int = 999  # Override parent default\n\n    def download(self) -&gt; dict:\n        # Jouw code hier\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#test-je-digitaalproduct","title":"Test je DigitaalProduct","text":"<pre><code>photoshop = DigitaalProduct(\n    naam=\"Adobe Photoshop\",\n    prijs=29.99,\n    bestandsgrootte=2480.0,\n    download_link=\"https://adobe.com/download/ps\"\n)\n\nprint(photoshop)\ninfo = photoshop.download()\nprint(f\"Download info: {info}\")\nprint(f\"Voorraad na download: {photoshop.voorraad}\")\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#deel-c-subklasse-van-subklasse","title":"Deel c: Subklasse van subklasse","text":"<p>Maak een <code>Boek</code> klasse die erft van <code>FysiekProduct</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#opdracht_2","title":"Opdracht","text":"<p>Extra attributen: - <code>auteur</code> (str): Naam van de auteur - <code>isbn</code> (str): ISBN nummer</p> <p>Defaults: - <code>gewicht</code>: 0.5 kg (boeken zijn meestal licht)</p> <p>Override <code>__str__()</code>: Maak een custom string representatie die ook auteur en ISBN toont.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#startcode_2","title":"Startcode","text":"<pre><code>@dataclass\nclass Boek(FysiekProduct):\n    auteur: str = \"\"\n    isbn: str = \"\"\n    gewicht: float = 0.5\n\n    def __str__(self) -&gt; str:\n        # Hint: gebruik f-string met alle relevante info\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#test-je-boek","title":"Test je Boek","text":"<pre><code>python_boek = Boek(\n    naam=\"Python Crash Course\",\n    prijs=34.95,\n    voorraad=8,\n    auteur=\"Eric Matthes\",\n    isbn=\"978-1593279288\"\n)\n\nprint(python_boek)\nprint(f\"Verzendkosten: \u20ac{python_boek.bereken_verzendkosten():.2f}\")\n\n# Test verkoop (inherited van Product)\npython_boek.verkoop(3)\nprint(f\"Voorraad na verkoop: {python_boek.voorraad}\")\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#extra-uitdaging-software-klasse-optioneel","title":"Extra uitdaging: Software klasse (optioneel)","text":"<p>Maak een <code>Software</code> klasse die erft van <code>DigitaalProduct</code> met extra attributen: - <code>versie</code> (str): Versienummer - <code>besturingssysteem</code> (str): \"Windows\", \"Mac\", \"Linux\", etc.</p> <p>Test door een instantie te maken en downloads te simuleren.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#checklist","title":"Checklist","text":"<p>Controleer voordat je klaar bent:</p> <ul> <li> <code>FysiekProduct</code> erft van <code>Product</code></li> <li> <code>DigitaalProduct</code> erft van <code>Product</code></li> <li> <code>Boek</code> erft van <code>FysiekProduct</code></li> <li> Alle type annotations aanwezig</li> <li> <code>download()</code> geeft een dict terug (geen print)</li> <li> <code>bereken_verzendkosten()</code> werkt correct</li> <li> <code>__str__()</code> override in <code>Boek</code> klasse</li> <li> Code werkt met alle testcode</li> </ul>"},{"location":"week2/oefeningen/oop-oefening3.html#wat-je-geleerd-hebt","title":"Wat je geleerd hebt","text":"<ul> <li>Inheritance met dataclasses</li> <li>Override van default waarden in subklassen</li> <li>Override van methoden (<code>__str__</code>)</li> <li>Inheritance hierarchie (Boek \u2192 FysiekProduct \u2192 Product)</li> <li>Return dicts voor gestructureerde data</li> </ul> <p>Preview: Database modellen werken precies zo - je maakt klassen die erven van <code>db.Model</code>!</p>"},{"location":"week2/oefeningen/oop-oefening4.html","title":"OOP Python \u2013 Oefening 4","text":""},{"location":"week2/oefeningen/oop-oefening4.html#oop-python-oefening-4","title":"OOP Python \u2013 Oefening 4","text":"<p>In deze oefening werk je met compositie - objecten die andere objecten bevatten. Je bouwt een compleet bestellingssysteem dat je voorbereidt op het werken met database relaties (foreign keys).</p>"},{"location":"week2/oefeningen/oop-oefening4.html#achtergrond","title":"Achtergrond","text":"<p>Een bestelling in een webshop is samengesteld uit meerdere objecten: - Een Klant (wie bestelt?) - Een lijst met Producten (wat wordt besteld?) - Een Betaalmethode (hoe betalen?) -Een Verzendmethode (hoe verzenden?) - Optioneel: een Kortingscode</p> <p>Dit is compositie: de <code>Bestelling</code> heeft een klant, heeft producten, etc.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-a-betaalmethode","title":"Deel a: Betaalmethode","text":"<p>Maak een <code>Betaalmethode</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht","title":"Opdracht","text":"<p>Attributen: - <code>type</code> (str): Type betaling (\"iDEAL\", \"Creditcard\", \"PayPal\") - <code>transactiekosten</code> (float): Kosten voor deze betaalmethode (default: 0.0)</p> <p>Methoden: - <code>bereken_totaal_met_kosten(bedrag: float) -&gt; float</code>: Geef bedrag + transactiekosten terug</p>"},{"location":"week2/oefeningen/oop-oefening4.html#code","title":"Code","text":"<pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Betaalmethode:\n    type: str\n    transactiekosten: float = 0.0\n\n    def bereken_totaal_met_kosten(self, bedrag: float) -&gt; float:\n        # Jouw code hier\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-b-verzendmethode","title":"Deel b: Verzendmethode","text":"<p>Maak een <code>Verzendmethode</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht_1","title":"Opdracht","text":"<p>Attributen: - <code>type</code> (str): Type verzending (\"Standaard\", \"Express\", \"Afhalen\") - <code>kosten</code> (float): Verzendkosten - <code>levertijd</code> (str): Verwachte levertijd (bijv. \"2-3 werkdagen\")</p>"},{"location":"week2/oefeningen/oop-oefening4.html#code_1","title":"Code","text":"<pre><code>@dataclass\nclass Verzendmethode:\n    type: str\n    kosten: float\n    levertijd: str\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-c-kortingscode-optioneel-maar-aanbevolen","title":"Deel c: Kortingscode (optioneel maar aanbevolen)","text":"<p>Maak een <code>Kortingscode</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht_2","title":"Opdracht","text":"<p>Attributen: - <code>code</code> (str): De kortingscode (bijv. \"ZOMER2024\") - <code>percentage</code> (float): Kortingspercentage (bijv. 15.0 voor 15%)</p> <p>Methoden: - <code>bereken_korting(bedrag: float) -&gt; float</code>: Bereken kortingsbedrag</p>"},{"location":"week2/oefeningen/oop-oefening4.html#code_2","title":"Code","text":"<pre><code>@dataclass\nclass Kortingscode:\n    code: str\n    percentage: float\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        # Jouw code hier\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-d-bestelling-compositie","title":"Deel d: Bestelling (compositie!)","text":"<p>Nu komt het allemaal samen. Maak een <code>Bestelling</code> dataclass die alle andere objecten gebruikt.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht_3","title":"Opdracht","text":"<p>Attributen: - <code>klant</code> (Klant): Klant object - <code>producten</code> (list[Product]): Lijst met producten - <code>betaalmethode</code> (Betaalmethode): Betaalmethode object - <code>verzendmethode</code> (Verzendmethode): Verzendmethode object - <code>kortingscode</code> (Optional[Kortingscode]): Optionele kortingscode (default: None)</p> <p>Methoden:</p> <ol> <li><code>bereken_subtotaal() -&gt; float</code></li> <li> <p>Som van alle productprijzen</p> </li> <li> <p><code>bereken_totaal() -&gt; dict</code></p> </li> <li>Bereken complete totaal en geef gestructureerde data terug</li> <li>Return dictionary met alle details (zie voorbeeld)</li> </ol> <p>Return dict, geen print</p> <p>De <code>bereken_totaal()</code> methode moet een dictionary teruggeven met alle bedragen. Zo kun je de data gemakkelijk aan templates doorgeven!</p>"},{"location":"week2/oefeningen/oop-oefening4.html#startcode","title":"Startcode","text":"<pre><code>from dataclasses import dataclass, field\nfrom typing import Optional\n\n@dataclass\nclass Bestelling:\n    klant: Klant\n    producten: list[Product] = field(default_factory=list)\n    betaalmethode: Betaalmethode = None\n    verzendmethode: Verzendmethode = None\n    kortingscode: Optional[Kortingscode] = None\n\n    def bereken_subtotaal(self) -&gt; float:\n        # Jouw code hier\n        pass\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"\n        Bereken totaal en geef gestructureerde data terug.\n\n        Returns:\n            dict met keys: subtotaal, korting, verzendkosten,\n                          transactiekosten, totaal\n        \"\"\"\n        subtotaal = self.bereken_subtotaal()\n\n        # Bereken korting\n        korting = 0.0\n        if self.kortingscode:\n            korting = self.kortingscode.bereken_korting(subtotaal)\n\n        # Verzendkosten\n        verzendkosten = self.verzendmethode.kosten if self.verzendmethode else 0.0\n\n        # Gratis verzending boven \u20ac50\n        if (subtotaal - korting) &gt;= 50:\n            verzendkosten = 0.0\n\n        # Transactiekosten\n        tussentotaal = subtotaal - korting + verzendkosten\n        transactiekosten = self.betaalmethode.transactiekosten if self.betaalmethode else 0.0\n\n        totaal = tussentotaal + transactiekosten\n\n        return {\n            \"subtotaal\": subtotaal,\n            \"korting\": korting,\n            \"verzendkosten\": verzendkosten,\n            \"transactiekosten\": transactiekosten,\n            \"totaal\": totaal\n        }\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#test-je-complete-systeem","title":"Test je complete systeem","text":"<pre><code>from product import Product\nfrom klant import Klant\nfrom bestelling import Bestelling, Betaalmethode, Verzendmethode, Kortingscode\n\n# Maak producten\nlaptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Muis\", 25.50, 20)\n\n# Maak klant\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", korting_percentage=5.0)\n\n# Maak bestelling\nbestelling = Bestelling(\n    klant=jan,\n    producten=[laptop, muis],\n    betaalmethode=Betaalmethode(\"iDEAL\", transactiekosten=0.0),\n    verzendmethode=Verzendmethode(\"Standaard\", 5.95, \"2-3 werkdagen\"),\n    kortingscode=Kortingscode(\"WELKOM10\", 10.0)\n)\n\n# Bereken totaal\ntotaal_info = bestelling.bereken_totaal()\n\n# Toon resultaten\nprint(f\"Klant: {bestelling.klant.naam}\")\nprint(f\"Aantal producten: {len(bestelling.producten)}\")\nprint(f\"\\nSubtotaal: \u20ac{totaal_info['subtotaal']:.2f}\")\nprint(f\"Korting (-{bestelling.kortingscode.percentage}%): -\u20ac{totaal_info['korting']:.2f}\")\nprint(f\"Verzendkosten: \u20ac{totaal_info['verzendkosten']:.2f}\")\nprint(f\"Transactiekosten: \u20ac{totaal_info['transactiekosten']:.2f}\")\nprint(f\"Totaal: \u20ac{totaal_info['totaal']:.2f}\")\n</code></pre> <p>Verwachte output: </p><pre><code>Klant: Jan Jansen\nAantal producten: 2\n\nSubtotaal: \u20ac825.49\nKorting (-10.0%): -\u20ac82.55\nVerzendkosten: \u20ac0.00\nTransactiekosten: \u20ac0.00\nTotaal: \u20ac742.94\n</code></pre><p></p> <p>Gratis verzending boven \u20ac50</p> <p>Let op: de verzendkosten zijn \u20ac0.00 omdat het subtotaal na korting boven de \u20ac50 is!</p>"},{"location":"week2/oefeningen/oop-oefening4.html#extra-uitdaging-data-overzicht-optioneel","title":"Extra uitdaging: Data overzicht (optioneel)","text":"<p>Voeg een methode <code>maak_overzicht() -&gt; dict</code> toe aan <code>Bestelling</code> die een volledig overzicht van de bestelling teruggeeft:</p> <pre><code>def maak_overzicht(self) -&gt; dict:\n    \"\"\"Maak een dict met alle bestellingsgegevens.\"\"\"\n    totaal_info = self.bereken_totaal()\n\n    data = {\n        \"klant\": {\n            \"naam\": self.klant.naam,\n            \"email\": self.klant.email\n        },\n        \"producten\": [\n            {\"naam\": p.naam, \"prijs\": p.prijs}\n            for p in self.producten\n        ],\n        \"betaling\": self.betaalmethode.type,\n        \"verzending\": self.verzendmethode.type,\n        \"totaal\": totaal_info\n    }\n\n    return data\n</code></pre> <p>Test: </p><pre><code>overzicht = bestelling.maak_overzicht()\nprint(overzicht)\n</code></pre><p></p>"},{"location":"week2/oefeningen/oop-oefening4.html#checklist","title":"Checklist","text":"<ul> <li> Alle dataclasses gebruiken <code>@dataclass</code></li> <li> <code>Bestelling</code> gebruikt compositie (bevat andere objecten)</li> <li> <code>bereken_totaal()</code> geeft dict terug voor templates</li> <li> <code>Optional[Kortingscode]</code> gebruikt</li> <li> <code>list[Product]</code> met <code>field(default_factory=list)</code></li> <li> Gratis verzending boven \u20ac50 werkt</li> <li> Type annotations overal</li> <li> Code werkt met testcode</li> </ul>"},{"location":"week2/oefeningen/oop-oefening4.html#wat-je-geleerd-hebt","title":"Wat je geleerd hebt","text":"<ul> <li>Compositie: Objecten die andere objecten bevatten (has-a relatie)</li> <li>Return dicts: Gestructureerde data voor templates</li> <li>Optional: Voor attributen die None kunnen zijn</li> <li>Complex data modeling: Realistische webshop structuur</li> </ul> <p>Preview: Database relaties werken precies zo - een <code>Order</code> heeft een foreign key naar <code>Customer</code>, <code>Product</code>, etc.!</p>"},{"location":"week3/sql-deel1.html","title":"SQLite in Python","text":""},{"location":"week3/sql-deel1.html#sqlite-in-python","title":"SQLite in Python","text":"<p>Leestijd: ~10 minuten</p> <p>In het vak Databases heb je geleerd werken met PostgreSQL - een krachtige relationele database. Voor webapplicaties gebruik je vaak dezelfde database, maar voor development, testing en kleine applicaties is SQLite een handige en lichtgewicht alternatief.</p>"},{"location":"week3/sql-deel1.html#waarom-sqlite","title":"Waarom SQLite?","text":"<p>SQLite verschilt op belangrijke punten van PostgreSQL:</p> Aspect PostgreSQL SQLite Server Aparte database server Geen server - gewoon een bestand Setup Installatie + configuratie Built-in met Python Gebruik Productie webapplicaties Development, testing, kleine apps Concurrency Veel gelijktijdige gebruikers Beperkt (file locking) SQL dialect PostgreSQL SQL SQLite SQL (kleine verschillen) <p>Voordelen voor deze cursus: - Geen server setup nodig - Database = gewoon een <code>.sqlite</code> bestand - Makkelijk te backuppen (kopieer het bestand) - Ideaal voor Flask development</p> <p>SQLite vs PostgreSQL SQL</p> <p>De SQL syntax is grotendeels hetzelfde. Kleine verschillen:</p> <ul> <li>SQLite heeft minder datatypes (TEXT, INTEGER, REAL, BLOB)</li> <li>Geen <code>ALTER TABLE</code> voor het wijzigen van kolommen</li> <li>Type validatie is minder strikt</li> </ul> <p>Later (bij SQLAlchemy) gebruik je een ORM die deze verschillen abstraheert.</p>"},{"location":"week3/sql-deel1.html#sqlite-cli-kort","title":"SQLite CLI (kort)","text":"<p>Je kunt SQLite via de command-line gebruiken (vergelijkbaar met <code>psql</code> voor PostgreSQL):</p> <pre><code>$ sqlite3 test.db\nSQLite version 3.39.5\nEnter \".help\" for usage hints.\nsqlite&gt; .tables\nsqlite&gt; .quit\n</code></pre> <p>Handige punt-commando's (vergelijkbaar met <code>\\d</code> commando's in psql):</p> Commando Betekenis <code>.tables</code> Toon alle tabellen <code>.schema</code> Toon tabelstructuur <code>.quit</code> Afsluiten <p>Maar: In deze cursus gebruik je SQLite vooral vanuit Python, niet via de CLI. De focus ligt op het integreren van databases in Flask applicaties.</p> <p>Visueel werken met DB Browser for SQLite</p> <p>Als je liever visueel werkt (vergelijkbaar met pgAdmin voor PostgreSQL), gebruik dan DB Browser for SQLite.</p> <p>Voordelen: - Tabellen visueel bekijken en bewerken - SQL queries runnen met syntax highlighting - Database structure inspecteren - Handig tijdens Flask development om snel data te checken</p> <p>Download: sqlitebrowser.org</p> <p>Dit is optioneel - je kunt alles ook via Python of de CLI doen. DB Browser is vooral handig voor debugging tijdens development.</p>"},{"location":"week3/sql-deel1.html#sqlite-in-python_1","title":"SQLite in Python","text":"<p>Python heeft <code>sqlite3</code> built-in. In het volgende deel leer je hoe je SQLite gebruikt vanuit Python met moderne patterns zoals:</p> <ul> <li>Type annotations</li> <li>Context managers (<code>with</code> statements)</li> <li>Proper error handling</li> <li>Voorbereiding op SQLAlchemy</li> </ul> <p>Volgende stap: In Deel 2 ga je direct aan de slag met SQLite in Python.</p>"},{"location":"week3/sql-deel2.html","title":"SQLite in Python: Basics","text":""},{"location":"week3/sql-deel2.html#sqlite-in-python-basics","title":"SQLite in Python: Basics","text":"<p>Je kent SQL al van het vak Databases. In dit deel leer je hoe je SQLite gebruikt vanuit Python met de <code>sqlite3</code> library. We gebruiken moderne Python patterns: type annotations, context managers en proper error handling.</p>"},{"location":"week3/sql-deel2.html#database-connectie","title":"Database connectie","text":"<p>De basis: database connectie maken en een tabel aanmaken.</p> <pre><code>import sqlite3\nfrom sqlite3 import Connection\n\ndef create_database() -&gt; Connection:\n    \"\"\"Maak database connectie en tabel aan.\"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    # Maak contacts tabel\n    conn.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS contacts (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            name TEXT NOT NULL,\n            email TEXT NOT NULL UNIQUE,\n            phone TEXT\n        )\n    \"\"\")\n\n    conn.commit()\n    return conn\n\n# Gebruik\nconn = create_database()\nprint(\"Database en tabel aangemaakt\")\nconn.close()\n</code></pre> <p>CREATE TABLE IF NOT EXISTS</p> <p>Dit voorkomt errors als de tabel al bestaat. Handig tijdens development wanneer je het script meerdere keren uitvoert.</p>"},{"location":"week3/sql-deel2.html#insert-data-toevoegen","title":"Insert: Data toevoegen","text":"<p>Voeg contacten toe aan de database:</p> <pre><code>import sqlite3\n\ndef add_contact(name: str, email: str, phone: str | None = None) -&gt; int:\n    \"\"\"\n    Voeg een contact toe aan de database.\n\n    Returns:\n        int: ID van het toegevoegde contact\n    \"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    cursor = conn.execute(\n        \"INSERT INTO contacts (name, email, phone) VALUES (?, ?, ?)\",\n        (name, email, phone)\n    )\n\n    contact_id = cursor.lastrowid\n    conn.commit()\n    conn.close()\n\n    return contact_id\n\n# Gebruik\njan_id = add_contact(\"Jan Jansen\", \"jan@email.nl\", \"06-12345678\")\nsara_id = add_contact(\"Sara de Vries\", \"sara@email.nl\")\n\nprint(f\"Jan toegevoegd met ID: {jan_id}\")\nprint(f\"Sara toegevoegd met ID: {sara_id}\")\n</code></pre> <p>SQL Injection voorkomen met placeholders</p> <p>Gebruik altijd <code>?</code> placeholders in plaats van f-strings:</p> <p>Goed: </p><pre><code>cursor.execute(\"SELECT * FROM contacts WHERE name = ?\", (name,))\n</code></pre><p></p> <p>FOUT (SQL injection risico!): </p><pre><code>cursor.execute(f\"SELECT * FROM contacts WHERE name = '{name}'\")\n</code></pre><p></p> <p>Dit wordt uitgebreid besproken in Deel 5 over SQL injection.</p>"},{"location":"week3/sql-deel2.html#select-data-ophalen","title":"Select: Data ophalen","text":"<p>Haal data op met <code>SELECT</code> queries:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef get_all_contacts() -&gt; list[Row]:\n    \"\"\"Haal alle contacten op.\"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n    conn.row_factory = Row  # Zodat we kolommen bij naam kunnen benaderen\n\n    cursor = conn.execute(\"SELECT * FROM contacts ORDER BY name\")\n    contacts = cursor.fetchall()\n\n    conn.close()\n    return contacts\n\n# Gebruik\ncontacts = get_all_contacts()\n\nfor contact in contacts:\n    print(f\"{contact['name']}: {contact['email']}\")\n</code></pre> <p>Output: </p><pre><code>Jan Jansen: jan@email.nl\nSara de Vries: sara@email.nl\n</code></pre><p></p> <p>row_factory = Row</p> <p>Met <code>row_factory = Row</code> kun je kolommen benaderen via <code>row['name']</code> in plaats van <code>row[0]</code>. Dit maakt code leesbaarder.</p>"},{"location":"week3/sql-deel2.html#enkele-rij-ophalen","title":"Enkele rij ophalen","text":"<p>Gebruik <code>fetchone()</code> voor \u00e9\u00e9n result:</p> <pre><code>def get_contact_by_email(email: str) -&gt; Row | None:\n    \"\"\"Haal \u00e9\u00e9n contact op op basis van email.\"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n    conn.row_factory = Row\n\n    cursor = conn.execute(\n        \"SELECT * FROM contacts WHERE email = ?\",\n        (email,)\n    )\n\n    contact = cursor.fetchone()\n    conn.close()\n\n    return contact\n\n# Gebruik\ncontact = get_contact_by_email(\"jan@email.nl\")\n\nif contact:\n    print(f\"Gevonden: {contact['name']}\")\nelse:\n    print(\"Contact niet gevonden\")\n</code></pre>"},{"location":"week3/sql-deel2.html#update-data-wijzigen","title":"Update: Data wijzigen","text":"<p>Wijzig bestaande records met <code>UPDATE</code>:</p> <pre><code>def update_phone(email: str, new_phone: str) -&gt; bool:\n    \"\"\"\n    Update telefoonnummer van een contact.\n\n    Returns:\n        bool: True als update gelukt, False als contact niet bestaat\n    \"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    cursor = conn.execute(\n        \"UPDATE contacts SET phone = ? WHERE email = ?\",\n        (new_phone, email)\n    )\n\n    conn.commit()\n    rows_affected = cursor.rowcount\n    conn.close()\n\n    return rows_affected &gt; 0\n\n# Gebruik\nsuccess = update_phone(\"jan@email.nl\", \"06-98765432\")\n\nif success:\n    print(\"Telefoonnummer bijgewerkt\")\nelse:\n    print(\"Contact niet gevonden\")\n</code></pre> <p>Altijd WHERE clausule bij UPDATE</p> <p>Zonder <code>WHERE</code> clausule worden alle rijen ge\u00fcpdatet:</p> <pre><code># GEVAARLIJK - iedereen krijgt hetzelfde telefoonnummer!\nconn.execute(\"UPDATE contacts SET phone = ?\", (phone,))\n</code></pre>"},{"location":"week3/sql-deel2.html#delete-data-verwijderen","title":"Delete: Data verwijderen","text":"<p>Verwijder records met <code>DELETE</code>:</p> <pre><code>def delete_contact(email: str) -&gt; bool:\n    \"\"\"\n    Verwijder een contact op basis van email.\n\n    Returns:\n        bool: True als delete gelukt, False als contact niet bestaat\n    \"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    cursor = conn.execute(\n        \"DELETE FROM contacts WHERE email = ?\",\n        (email,)\n    )\n\n    conn.commit()\n    rows_affected = cursor.rowcount\n    conn.close()\n\n    return rows_affected &gt; 0\n\n# Gebruik\ndeleted = delete_contact(\"sara@email.nl\")\n\nif deleted:\n    print(\"Contact verwijderd\")\nelse:\n    print(\"Contact niet gevonden\")\n</code></pre> <p>Altijd WHERE clausule bij DELETE</p> <p>Zonder <code>WHERE</code> clausule worden alle rijen verwijderd:</p> <pre><code># GEVAARLIJK - ALLE contacten worden gewist!\nconn.execute(\"DELETE FROM contacts\")\n</code></pre>"},{"location":"week3/sql-deel2.html#context-managers-with-statement","title":"Context managers (with statement)","text":"<p>Bovenstaande code heeft een probleem: als er een error optreedt, wordt <code>conn.close()</code> niet aangeroepen. Gebruik <code>with</code> voor automatic cleanup:</p> <pre><code>def add_contact_safe(name: str, email: str, phone: str | None = None) -&gt; int:\n    \"\"\"Voeg contact toe met automatic connection cleanup.\"\"\"\n    with sqlite3.connect(\"contacts.db\") as conn:\n        cursor = conn.execute(\n            \"INSERT INTO contacts (name, email, phone) VALUES (?, ?, ?)\",\n            (name, email, phone)\n        )\n        contact_id = cursor.lastrowid\n        conn.commit()\n        return contact_id\n    # conn.close() wordt automatisch aangeroepen\n\n# Gebruik\ntry:\n    contact_id = add_contact_safe(\"Piet Bakker\", \"piet@email.nl\")\n    print(f\"Contact toegevoegd met ID: {contact_id}\")\nexcept sqlite3.IntegrityError:\n    print(\"Email bestaat al (UNIQUE constraint)\")\n</code></pre> <p>Altijd with gebruiken</p> <p>De <code>with</code> statement zorgt dat de connectie altijd wordt gesloten, ook bij errors. Dit is de preferred way om met databases te werken.</p>"},{"location":"week3/sql-deel2.html#complete-voorbeeld","title":"Complete voorbeeld","text":"<p>Hier een volledig voorbeeld dat alle CRUD operaties combineert:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass ContactDatabase:\n    \"\"\"Database manager voor contacten.\"\"\"\n\n    def __init__(self, db_path: str = \"contacts.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak contacts tabel aan als deze niet bestaat.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS contacts (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    name TEXT NOT NULL,\n                    email TEXT NOT NULL UNIQUE,\n                    phone TEXT\n                )\n            \"\"\")\n            conn.commit()\n\n    def add(self, name: str, email: str, phone: str | None = None) -&gt; int:\n        \"\"\"Voeg contact toe.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"INSERT INTO contacts (name, email, phone) VALUES (?, ?, ?)\",\n                (name, email, phone)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    def get_all(self) -&gt; list[Row]:\n        \"\"\"Haal alle contacten op.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\"SELECT * FROM contacts ORDER BY name\")\n            return cursor.fetchall()\n\n    def get_by_email(self, email: str) -&gt; Row | None:\n        \"\"\"Haal \u00e9\u00e9n contact op.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\n                \"SELECT * FROM contacts WHERE email = ?\",\n                (email,)\n            )\n            return cursor.fetchone()\n\n    def update_phone(self, email: str, phone: str) -&gt; bool:\n        \"\"\"Update telefoonnummer.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"UPDATE contacts SET phone = ? WHERE email = ?\",\n                (phone, email)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n    def delete(self, email: str) -&gt; bool:\n        \"\"\"Verwijder contact.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"DELETE FROM contacts WHERE email = ?\",\n                (email,)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n# Gebruik\ndb = ContactDatabase()\n\n# Create\njan_id = db.add(\"Jan Jansen\", \"jan@email.nl\", \"06-12345678\")\nsara_id = db.add(\"Sara de Vries\", \"sara@email.nl\")\n\n# Read\ncontacts = db.get_all()\nfor contact in contacts:\n    print(f\"{contact['name']}: {contact['email']}\")\n\n# Update\ndb.update_phone(\"jan@email.nl\", \"06-98765432\")\n\n# Delete\ndb.delete(\"sara@email.nl\")\n\n# Verify\nprint(\"\\nNa delete:\")\nfor contact in db.get_all():\n    print(f\"{contact['name']}: {contact['email']}\")\n</code></pre>"},{"location":"week3/sql-deel2.html#verschillen-met-postgresql","title":"Verschillen met PostgreSQL","text":"<p>Je bent gewend aan PostgreSQL. Enkele verschillen met SQLite:</p> Aspect PostgreSQL SQLite Datatypes Veel types (VARCHAR, TIMESTAMP, etc.) Weinig types (TEXT, INTEGER, REAL, BLOB) Constraints Alle constraints Beperkte constraint support ALTER TABLE Volledig support Zeer beperkt (meestal: nieuwe tabel maken) Type checking Strikt Losjes (string in INTEGER kolom kan!) Concurrent writes Veel users tegelijk File locking (\u00e9\u00e9n writer tegelijk) <p>SQLite type validatie is losjes</p> <p>SQLite accepteert dit zonder error:</p> <pre><code># phone is INTEGER, maar dit werkt:\nconn.execute(\"INSERT INTO contacts VALUES (?, ?, ?)\",\n             (\"Jan\", 123, \"tekst-in-integer-kolom\"))\n</code></pre> <p>PostgreSQL zou dit afwijzen. Zorg dus zelf voor correcte types!</p>"},{"location":"week3/sql-deel2.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Database connectie maken met <code>sqlite3.connect()</code></li> <li>CRUD operaties: <code>INSERT</code>, <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code></li> <li>Placeholders (<code>?</code>) gebruiken tegen SQL injection</li> <li><code>row_factory = Row</code> voor dict-like access</li> <li>Context managers (<code>with</code>) voor automatic cleanup</li> <li>Type annotations en moderne Python patterns</li> </ul> <p>Volgende stap: In Deel 3 werk je met een grotere database en leer je JOIN queries.</p> <p>Waarom dit leren? Deze patterns zijn de basis voor SQLAlchemy (Week 6), waar je niet meer zelf SQL schrijft maar via een ORM werkt. Begrijpen hoe sqlite3 werkt, helpt je begrijpen wat SQLAlchemy onder de motorkap doet.</p>"},{"location":"week3/sql-deel3.html","title":"SQLite in Python: JOINs en Queries","text":""},{"location":"week3/sql-deel3.html#sqlite-in-python-joins-en-queries","title":"SQLite in Python: JOINs en Queries","text":"<p>In het vorige deel heb je gewerkt met een eenvoudige contacts database. Nu gaan we werken met een realistische database met meerdere tabellen en JOIN queries. Je kent JOINs al van het vak Databases - hier leer je hoe je ze gebruikt vanuit Python.</p>"},{"location":"week3/sql-deel3.html#de-music-database","title":"De music database","text":"<p>Download de <code>music.sqlite</code> database. Deze bevat drie tabellen die je ook bij OOP hebt gezien, maar nu met veel meer data:</p> <ul> <li><code>artists</code> - Artiesten (201 records)</li> <li><code>albums</code> - Albums (439 records)</li> <li><code>songs</code> - Songs (5350 records)</li> </ul>"},{"location":"week3/sql-deel3.html#database-structuur-inspecteren","title":"Database structuur inspecteren","text":"<p>Laten we eerst de database verkennen vanuit Python:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef inspect_database(db_path: str = \"music.sqlite\") -&gt; None:\n    \"\"\"Toon database structuur en basisstatistieken.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        # Haal schema informatie op\n        cursor = conn.execute(\"\"\"\n            SELECT name, sql\n            FROM sqlite_master\n            WHERE type='table'\n        \"\"\")\n\n        print(\"Database tabellen:\\n\")\n        for table in cursor.fetchall():\n            print(f\"Tabel: {table['name']}\")\n\n            # Tel records per tabel\n            count_cursor = conn.execute(f\"SELECT COUNT(*) as count FROM {table['name']}\")\n            count = count_cursor.fetchone()['count']\n            print(f\"Aantal records: {count}\\n\")\n\n# Gebruik\ninspect_database()\n</code></pre> <p>Output: </p><pre><code>Database tabellen:\n\nTabel: artists\nAantal records: 201\n\nTabel: albums\nAantal records: 439\n\nTabel: songs\nAantal records: 5350\n</code></pre><p></p> <p>PRIMARY KEY AUTOINCREMENT</p> <p>SQLite vult automatisch de primary key kolom <code>_id</code> in wanneer je een nieuwe record toevoegt:</p> <pre><code>cursor = conn.execute(\"INSERT INTO artists (name) VALUES (?)\", (\"Travis\",))\nnew_id = cursor.lastrowid  # 202\n</code></pre> <p>Dit werkt hetzelfde als PostgreSQL's <code>SERIAL</code> type.</p>"},{"location":"week3/sql-deel3.html#eenvoudige-queries","title":"Eenvoudige queries","text":"<p>Laten we beginnen met een paar eenvoudige queries om weer in te komen:</p> <pre><code>def get_album_by_id(album_id: int, db_path: str = \"music.sqlite\") -&gt; Row | None:\n    \"\"\"Haal \u00e9\u00e9n album op op basis van ID.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            \"SELECT * FROM albums WHERE _id = ?\",\n            (album_id,)\n        )\n        return cursor.fetchone()\n\n# Gebruik\nalbum = get_album_by_id(167)\nif album:\n    print(f\"Album {album['_id']}: {album['name']}\")\n</code></pre> <p>Output: </p><pre><code>Album 167: Blurring The Edges\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#sorteren-met-order-by","title":"Sorteren met ORDER BY","text":"<p>Je kunt resultaten sorteren met <code>ORDER BY</code>:</p> <pre><code>def get_artists_sorted(db_path: str = \"music.sqlite\", desc: bool = False) -&gt; list[Row]:\n    \"\"\"Haal alle artiesten op, gesorteerd op naam.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        order = \"DESC\" if desc else \"ASC\"\n        cursor = conn.execute(f\"SELECT * FROM artists ORDER BY name {order}\")\n\n        return cursor.fetchall()\n\n# Gebruik\nartists = get_artists_sorted(desc=True)\nfor artist in artists[:5]:  # Toon eerste 5\n    print(f\"{artist['_id']}: {artist['name']}\")\n</code></pre> <p>Output: </p><pre><code>23: ZZ Top\n179: Yngwie Malmsteen\n148: Yardbirds\n97: Yes\n14: Who\n</code></pre><p></p> <p>SQL injection bij ORDER BY</p> <p>In het voorbeeld hierboven gebruiken we f-string voor <code>order</code> (<code>ASC</code>/<code>DESC</code>). Dit is veilig omdat we de waarde zelf controleren (boolean \u2192 \"ASC\" of \"DESC\").</p> <p>Doe dit NOOIT met user input: </p><pre><code># GEVAARLIJK - SQL injection risico!\norder = input(\"ASC or DESC? \")\ncursor.execute(f\"SELECT * FROM artists ORDER BY name {order}\")\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#joins-meerdere-tabellen-combineren","title":"JOINs: meerdere tabellen combineren","text":"<p>Tot nu toe hebben we met \u00e9\u00e9n tabel gewerkt. Maar de echte kracht van SQL komt pas bij JOINs. Je kent dit al van PostgreSQL - in Python werkt het precies hetzelfde.</p>"},{"location":"week3/sql-deel3.html#simpele-join-songs-met-albums","title":"Simpele JOIN: Songs met Albums","text":"<p>Laten we songs combineren met albums om te zien op welk album elke song staat:</p> <pre><code>def get_songs_with_albums(db_path: str = \"music.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal alle songs op met hun album naam.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT s.track, s.title, a.name AS album_name\n            FROM songs s\n            JOIN albums a ON s.album = a._id\n            ORDER BY s.title\n        \"\"\")\n\n        return cursor.fetchall()\n\n# Gebruik\nsongs = get_songs_with_albums()\nfor song in songs[:5]:  # Toon eerste 5\n    print(f\"Track {song['track']}: {song['title']} (op {song['album_name']})\")\n</code></pre> <p>Output: </p><pre><code>Track 4: #1 Zero (op The Colour And The Shape)\nTrack 1: 'Desolation Row' (op Desire)\nTrack 1: '74-'75 (op Sheer Heart Attack)\nTrack 6: (I Can't Get No) Satisfaction (op The Big Come Up)\nTrack 2: (I Can't Get No) Satisfaction (op Singles Collection: The London Years)\n</code></pre><p></p> <p>JOIN syntax</p> <p>De JOIN syntax is identiek aan PostgreSQL:</p> <pre><code>SELECT kolommen\nFROM tabel1 alias1\nJOIN tabel2 alias2 ON alias1.foreign_key = alias2.primary_key\n</code></pre> <ul> <li><code>s</code> en <code>a</code> zijn aliases (afkortingen)</li> <li><code>ON</code> specificeert de relatie tussen tabellen</li> <li><code>a.name AS album_name</code> geeft de kolom een duidelijke naam</li> </ul>"},{"location":"week3/sql-deel3.html#join-met-where-artiesten-met-albums","title":"JOIN met WHERE: Artiesten met Albums","text":"<p>Nu gaan we artiesten ophalen met hun albums, alfabetisch gerangschikt:</p> <pre><code>def get_artists_with_albums(db_path: str = \"music.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal alle artiesten op met hun albums.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT ar.name AS artist, al.name AS album\n            FROM artists ar\n            JOIN albums al ON ar._id = al.artist\n            ORDER BY ar.name, al.name\n        \"\"\")\n\n        return cursor.fetchall()\n\n# Gebruik\nartists_albums = get_artists_with_albums()\nfor item in artists_albums[:10]:  # Toon eerste 10\n    print(f\"{item['artist']}: {item['album']}\")\n</code></pre> <p>Output: </p><pre><code>1000 Maniacs: Our Time in Eden\n10cc: The Best Of The Early Years\nAC DC: For Those About To Rock (We Salute You)\nAC DC: If You Want Blood You've Got It\nAerosmith: Night In The Ruts\nAerosmith: Rocks\nAlice Cooper: Beast Of Alice Cooper\n...\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#dubbele-join-artiesten-albums-songs","title":"Dubbele JOIN: Artiesten, Albums, Songs","text":"<p>Nu wordt het interessanter: we combineren alle drie de tabellen. Hiervoor hebben we twee JOINs nodig:</p> <pre><code>def get_complete_music_catalog(db_path: str = \"music.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal alle songs op met artiest en album informatie.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT\n                ar.name AS artist,\n                al.name AS album,\n                s.track,\n                s.title\n            FROM songs s\n            JOIN albums al ON s.album = al._id\n            JOIN artists ar ON al.artist = ar._id\n            ORDER BY ar.name, al.name, s.track\n        \"\"\")\n\n        return cursor.fetchall()\n\n# Gebruik\ncatalog = get_complete_music_catalog()\nfor item in catalog[:10]:\n    print(f\"{item['artist']} - {item['album']} - Track {item['track']}: {item['title']}\")\n</code></pre> <p>Output: </p><pre><code>1000 Maniacs - Our Time in Eden - Track 1: These Are Days\n1000 Maniacs - Our Time in Eden - Track 2: Eat For Two\n1000 Maniacs - Our Time in Eden - Track 3: Candy Everybody Wants\n1000 Maniacs - Our Time in Eden - Track 4: Tolerance\n...\n</code></pre><p></p> <p>Meerdere JOINs</p> <p>Bij meerdere JOINs werk je van binnen naar buiten:</p> <ol> <li><code>songs</code> JOIN <code>albums</code> (via <code>s.album = al._id</code>)</li> <li><code>albums</code> JOIN <code>artists</code> (via <code>al.artist = ar._id</code>)</li> </ol> <p>Dit is hetzelfde als bij PostgreSQL. De volgorde maakt uit!</p>"},{"location":"week3/sql-deel3.html#join-met-where-zoeken-in-resultaten","title":"JOIN met WHERE: Zoeken in resultaten","text":"<p>We kunnen ook filteren op JOIN resultaten met een <code>WHERE</code> clausule. Bijvoorbeeld: zoek alle songs met \"doctor\" in de titel:</p> <pre><code>def search_songs_by_title(\n    search_term: str,\n    db_path: str = \"music.sqlite\"\n) -&gt; list[Row]:\n    \"\"\"Zoek songs op basis van titel, inclusief artiest en album info.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT\n                ar.name AS artist,\n                al.name AS album,\n                s.track,\n                s.title\n            FROM songs s\n            JOIN albums al ON s.album = al._id\n            JOIN artists ar ON al.artist = ar._id\n            WHERE s.title LIKE ?\n            ORDER BY ar.name, al.name, s.title\n        \"\"\", (f\"%{search_term}%\",))\n\n        return cursor.fetchall()\n\n# Gebruik\ndoctor_songs = search_songs_by_title(\"doctor\")\nprint(f\"Gevonden {len(doctor_songs)} songs met 'doctor' in de titel:\\n\")\nfor song in doctor_songs:\n    print(f\"{song['artist']}: {song['title']} (op {song['album']})\")\n</code></pre> <p>Output: </p><pre><code>Gevonden 13 songs met 'doctor' in de titel:\n\nBlack Sabbath: Rock 'N' Roll Doctor (op Technical Ecstasy)\nDr Feelgood: You Shouldn't Call The Doctor (If You Can't Afford The Bills) (op Malpractice)\nDr Feelgood: Down At The Doctors (op Private Practice)\nFleetwood Mac: Doctor Brown (op The Best of)\n...\n</code></pre><p></p> <p>LIKE operator en wildcard</p> <ul> <li><code>LIKE '%doctor%'</code> zoekt overal in de string</li> <li><code>%</code> is een wildcard (= 0 of meer karakters)</li> <li>We gebruiken <code>?</code> placeholder met <code>f\"%{search_term}%\"</code> voor veiligheid</li> </ul> <p>Dit is identiek aan PostgreSQL's <code>LIKE</code> operator.</p>"},{"location":"week3/sql-deel3.html#views-optioneel","title":"Views (optioneel)","text":"<p>Een view is een virtuele tabel - een opgeslagen query die je kunt gebruiken alsof het een echte tabel is. Views worden gebruikt voor:</p> <ul> <li>Security: Gevoelige kolommen verbergen (zoals salaris)</li> <li>Simplificatie: Complexe queries herbruikbaar maken</li> <li>Abstraction layer: Database structuur verbergen voor gebruikers</li> </ul> <p>Views in modern Python apps</p> <p>In Python/Flask apps gebruik je views minder vaak. Met SQLAlchemy (Week 6) schrijf je queries direct in Python en gebruik je geen SQL views meer.</p> <p>Views zijn wel handig als je een database deelt met andere applicaties of rapportage tools.</p>"},{"location":"week3/sql-deel3.html#view-maken-en-gebruiken-in-python","title":"View maken en gebruiken in Python","text":"<p>Laten we een view maken voor de \"doctor songs\" query van eerder:</p> <pre><code>def create_doctor_songs_view(db_path: str = \"music.sqlite\") -&gt; None:\n    \"\"\"Maak een view voor songs met 'doctor' in de titel.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        # Verwijder view als deze al bestaat\n        conn.execute(\"DROP VIEW IF EXISTS vDoctorSongs\")\n\n        # Maak nieuwe view\n        conn.execute(\"\"\"\n            CREATE VIEW vDoctorSongs AS\n            SELECT\n                ar.name AS artist,\n                al.name AS album,\n                s.track,\n                s.title\n            FROM songs s\n            JOIN albums al ON s.album = al._id\n            JOIN artists ar ON al.artist = ar._id\n            WHERE s.title LIKE '%doctor%'\n            ORDER BY ar.name, al.name, s.title\n        \"\"\")\n\n        conn.commit()\n        print(\"View 'vDoctorSongs' aangemaakt\")\n\ndef query_view(view_name: str, db_path: str = \"music.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal data op uit een view.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(f\"SELECT * FROM {view_name}\")\n        return cursor.fetchall()\n\n# Gebruik\ncreate_doctor_songs_view()\n\n# Query de view alsof het een tabel is\ndoctor_songs = query_view(\"vDoctorSongs\")\nfor song in doctor_songs:\n    print(f\"{song['artist']}: {song['title']}\")\n</code></pre> <p>Output: </p><pre><code>View 'vDoctorSongs' aangemaakt\nBlack Sabbath: Rock 'N' Roll Doctor\nDr Feelgood: You Shouldn't Call The Doctor (If You Can't Afford The Bills)\nDr Feelgood: Down At The Doctors\nFleetwood Mac: Doctor Brown\n...\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#view-met-filter","title":"View met filter","text":"<p>Je kunt de view ook filteren, net als een normale tabel:</p> <pre><code>def search_in_view(\n    view_name: str,\n    artist_filter: str,\n    db_path: str = \"music.sqlite\"\n) -&gt; list[Row]:\n    \"\"\"Zoek in een view met extra filtering.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            f\"SELECT * FROM {view_name} WHERE artist LIKE ?\",\n            (f\"%{artist_filter}%\",)\n        )\n        return cursor.fetchall()\n\n# Gebruik\nfeelgood_songs = search_in_view(\"vDoctorSongs\", \"feelgood\")\nfor song in feelgood_songs:\n    print(f\"{song['artist']}: {song['title']} (op {song['album']})\")\n</code></pre> <p>Output: </p><pre><code>Dr Feelgood: You Shouldn't Call The Doctor (If You Can't Afford The Bills) (op Malpractice)\nDr Feelgood: Down At The Doctors (op Private Practice)\n</code></pre><p></p> <p>Views bekijken</p> <p>Je kunt alle views in de database opvragen:</p> <pre><code>cursor = conn.execute(\"\"\"\n    SELECT name, sql\n    FROM sqlite_master\n    WHERE type='view'\n\"\"\")\n</code></pre>"},{"location":"week3/sql-deel3.html#voorbereiding-op-sqlalchemy","title":"Voorbereiding op SQLAlchemy","text":"<p>De patterns die je hier leert, komen terug bij SQLAlchemy (Week 6):</p> sqlite3 pattern SQLAlchemy equivalent JOIN queries Relationships tussen models Placeholders (<code>?</code>) Automatisch escaped parameters row_factory = Row SQLAlchemy Row objects (standaard) Context managers Session management Views Queries in Python (niet SQL views) <p>Waarom dit leren? Begrijpen hoe JOINs werken helpt je begrijpen wat SQLAlchemy doet. Bijvoorbeeld:</p> <pre><code># Wat je nu schrijft (sqlite3):\ncursor.execute(\"\"\"\n    SELECT ar.name, al.name\n    FROM artists ar\n    JOIN albums al ON ar._id = al.artist\n\"\"\")\n\n# Wordt later (SQLAlchemy):\nfor artist in session.query(Artist):\n    for album in artist.albums:  # Automatische JOIN!\n        print(f\"{artist.name}: {album.name}\")\n</code></pre> <p>SQLAlchemy abstraheert de SQL weg, maar onder de motorkap gebruikt het precies dezelfde JOINs.</p>"},{"location":"week3/sql-deel3.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Database structuur inspecteren met <code>sqlite_master</code></li> <li>JOINs gebruiken om meerdere tabellen te combineren</li> <li>Simpele JOIN (2 tabellen), dubbele JOIN (3 tabellen)</li> <li>WHERE clausules combineren met JOINs</li> <li>LIKE operator voor tekst zoeken met wildcards</li> <li>Views maken en gebruiken (optioneel)</li> <li>Placeholders gebruiken voor SQL injection preventie</li> <li>Link tussen sqlite3 patterns en SQLAlchemy</li> </ul> <p>Volgende stap: In Deel 4 leer je werken met een complete MusicDatabase class die alle functionaliteit combineert.</p> <p>Oefening: Maak nu oefening 1.</p>"},{"location":"week3/sql-deel4.html","title":"Complete Database Class: MusicDatabase","text":""},{"location":"week3/sql-deel4.html#complete-database-class-musicdatabase","title":"Complete Database Class: MusicDatabase","text":"<p>In de vorige delen heb je afzonderlijke functies gezien voor database operaties. Nu gaan we alles combineren in een database class - een moderne, herbruikbare oplossing voor het werken met de music database.</p>"},{"location":"week3/sql-deel4.html#waarom-een-database-class","title":"Waarom een database class?","text":"<p>Een database class biedt verschillende voordelen:</p> <ul> <li>Encapsulation: Alle database logica op \u00e9\u00e9n plek</li> <li>Herbruikbaarheid: Makkelijk te gebruiken in verschillende scripts</li> <li>Consistency: Altijd dezelfde patterns (context managers, placeholders, etc.)</li> <li>Onderhoudbaarheid: Aanpassingen hoef je maar op \u00e9\u00e9n plek te maken</li> </ul> <p>Deze aanpak komt overeen met hoe je later met SQLAlchemy werkt.</p>"},{"location":"week3/sql-deel4.html#de-complete-musicdatabase-class","title":"De complete MusicDatabase class","text":"<p>Hier is een complete implementatie met alle patterns die je tot nu toe hebt geleerd:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\nfrom typing import Optional\n\n\nclass MusicDatabase:\n    \"\"\"Database manager voor de music.sqlite database.\n\n    Deze class biedt methoden voor het ophalen van artiesten, albums en songs\n    uit de music database, inclusief JOIN queries.\n\n    Attributes:\n        db_path (str): Pad naar de SQLite database file.\n    \"\"\"\n\n    def __init__(self, db_path: str = \"music.sqlite\"):\n        \"\"\"Initialiseer de database manager.\n\n        Args:\n            db_path: Pad naar de database file (default: \"music.sqlite\")\n        \"\"\"\n        self.db_path = db_path\n\n    def _get_connection(self) -&gt; sqlite3.Connection:\n        \"\"\"Maak database connectie met row_factory ingesteld.\n\n        Returns:\n            sqlite3.Connection: Database connectie object\n        \"\"\"\n        conn = sqlite3.connect(self.db_path)\n        conn.row_factory = Row\n        return conn\n\n    # ==================== ARTISTS ====================\n\n    def get_all_artists(self, order_by: str = \"name\") -&gt; list[Row]:\n        \"\"\"Haal alle artiesten op, gesorteerd.\n\n        Args:\n            order_by: Kolom om op te sorteren (default: \"name\")\n\n        Returns:\n            Lijst met alle artiesten\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(f\"SELECT * FROM artists ORDER BY {order_by}\")\n            return cursor.fetchall()\n\n    def get_artist_by_id(self, artist_id: int) -&gt; Optional[Row]:\n        \"\"\"Haal \u00e9\u00e9n artiest op op basis van ID.\n\n        Args:\n            artist_id: ID van de artiest\n\n        Returns:\n            Artiest record of None als niet gevonden\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM artists WHERE _id = ?\",\n                (artist_id,)\n            )\n            return cursor.fetchone()\n\n    def search_artists(self, search_term: str) -&gt; list[Row]:\n        \"\"\"Zoek artiesten op basis van naam.\n\n        Args:\n            search_term: Zoekterm voor artiest naam\n\n        Returns:\n            Lijst met matchende artiesten\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM artists WHERE name LIKE ? ORDER BY name\",\n                (f\"%{search_term}%\",)\n            )\n            return cursor.fetchall()\n\n    # ==================== ALBUMS ====================\n\n    def get_all_albums(self) -&gt; list[Row]:\n        \"\"\"Haal alle albums op met artiest informatie.\"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    al._id,\n                    al.name AS album,\n                    ar.name AS artist\n                FROM albums al\n                JOIN artists ar ON al.artist = ar._id\n                ORDER BY ar.name, al.name\n            \"\"\")\n            return cursor.fetchall()\n\n    def get_albums_by_artist(self, artist_id: int) -&gt; list[Row]:\n        \"\"\"Haal alle albums op van een specifieke artiest.\n\n        Args:\n            artist_id: ID van de artiest\n\n        Returns:\n            Lijst met albums van deze artiest\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM albums WHERE artist = ? ORDER BY name\",\n                (artist_id,)\n            )\n            return cursor.fetchall()\n\n    # ==================== SONGS ====================\n\n    def get_songs_by_album(self, album_id: int) -&gt; list[Row]:\n        \"\"\"Haal alle songs op van een specifiek album.\n\n        Args:\n            album_id: ID van het album\n\n        Returns:\n            Lijst met songs van dit album, gesorteerd op track nummer\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM songs WHERE album = ? ORDER BY track\",\n                (album_id,)\n            )\n            return cursor.fetchall()\n\n    def search_songs(self, search_term: str) -&gt; list[Row]:\n        \"\"\"Zoek songs inclusief artiest en album informatie.\n\n        Args:\n            search_term: Zoekterm voor song titel\n\n        Returns:\n            Lijst met matchende songs met volledige informatie\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    ar.name AS artist,\n                    al.name AS album,\n                    s.track,\n                    s.title\n                FROM songs s\n                JOIN albums al ON s.album = al._id\n                JOIN artists ar ON al.artist = ar._id\n                WHERE s.title LIKE ?\n                ORDER BY ar.name, al.name, s.track\n            \"\"\", (f\"%{search_term}%\",))\n            return cursor.fetchall()\n\n    # ==================== CATALOG ====================\n\n    def get_artist_catalog(self, artist_id: int) -&gt; dict:\n        \"\"\"Haal complete catalogus op voor een artiest.\n\n        Args:\n            artist_id: ID van de artiest\n\n        Returns:\n            Dictionary met artiest info, albums en songs\n        \"\"\"\n        artist = self.get_artist_by_id(artist_id)\n        if not artist:\n            return {}\n\n        albums = self.get_albums_by_artist(artist_id)\n\n        # Haal songs op per album\n        catalog = {\n            \"artist\": artist[\"name\"],\n            \"artist_id\": artist_id,\n            \"albums\": []\n        }\n\n        for album in albums:\n            songs = self.get_songs_by_album(album[\"_id\"])\n            catalog[\"albums\"].append({\n                \"album_name\": album[\"name\"],\n                \"album_id\": album[\"_id\"],\n                \"songs\": [\n                    {\"track\": song[\"track\"], \"title\": song[\"title\"]}\n                    for song in songs\n                ]\n            })\n\n        return catalog\n\n    # ==================== STATISTICS ====================\n\n    def get_statistics(self) -&gt; dict:\n        \"\"\"Haal database statistieken op.\n\n        Returns:\n            Dictionary met statistieken\n        \"\"\"\n        with self._get_connection() as conn:\n            stats = {}\n\n            # Tel artiesten\n            cursor = conn.execute(\"SELECT COUNT(*) as count FROM artists\")\n            stats[\"total_artists\"] = cursor.fetchone()[\"count\"]\n\n            # Tel albums\n            cursor = conn.execute(\"SELECT COUNT(*) as count FROM albums\")\n            stats[\"total_albums\"] = cursor.fetchone()[\"count\"]\n\n            # Tel songs\n            cursor = conn.execute(\"SELECT COUNT(*) as count FROM songs\")\n            stats[\"total_songs\"] = cursor.fetchone()[\"count\"]\n\n            return stats\n\n\n# ==================== GEBRUIK ====================\n\nif __name__ == \"__main__\":\n    db = MusicDatabase()\n\n    # Toon statistieken\n    stats = db.get_statistics()\n    print(\"=== Music Database Statistics ===\")\n    print(f\"Artiesten: {stats['total_artists']}\")\n    print(f\"Albums: {stats['total_albums']}\")\n    print(f\"Songs: {stats['total_songs']}\\n\")\n\n    # Zoek artiesten\n    print(\"=== Artiesten met 'black' in de naam ===\")\n    artists = db.search_artists(\"black\")\n    for artist in artists:\n        print(f\"- {artist['name']}\")\n\n    print()\n\n    # Haal complete catalogus op\n    print(\"=== Catalogus van AC/DC (artist_id=3) ===\")\n    catalog = db.get_artist_catalog(3)\n    if catalog:\n        print(f\"Artiest: {catalog['artist']}\\n\")\n        for album in catalog[\"albums\"]:\n            print(f\"Album: {album['album_name']}\")\n            for song in album[\"songs\"]:\n                print(f\"  {song['track']:2d}. {song['title']}\")\n            print()\n\n    # Zoek songs\n    print(\"=== Songs met 'love' in de titel ===\")\n    songs = db.search_songs(\"love\")\n    for song in songs[:5]:  # Toon eerste 5\n        print(f\"{song['artist']}: {song['title']} (op {song['album']})\")\n</code></pre>"},{"location":"week3/sql-deel4.html#gebruik-van-de-class","title":"Gebruik van de class","text":""},{"location":"week3/sql-deel4.html#basis-gebruik","title":"Basis gebruik","text":"<pre><code># Maak een database instance\ndb = MusicDatabase()\n\n# Haal alle artiesten op\nartists = db.get_all_artists()\nfor artist in artists:\n    print(f\"{artist['_id']}: {artist['name']}\")\n\n# Zoek specifiek\nbeatles_songs = db.search_songs(\"revolution\")\nfor song in beatles_songs:\n    print(f\"{song['title']} door {song['artist']}\")\n</code></pre>"},{"location":"week3/sql-deel4.html#catalogus-ophalen","title":"Catalogus ophalen","text":"<pre><code># Haal alle albums en songs op voor een artiest\ncatalog = db.get_artist_catalog(artist_id=42)\n\nprint(f\"Artiest: {catalog['artist']}\")\nfor album in catalog['albums']:\n    print(f\"\\nAlbum: {album['album_name']}\")\n    for song in album['songs']:\n        print(f\"  Track {song['track']}: {song['title']}\")\n</code></pre>"},{"location":"week3/sql-deel4.html#eigen-database-pad","title":"Eigen database pad","text":"<pre><code># Gebruik een andere database file\ndb = MusicDatabase(\"path/to/other/music.sqlite\")\n</code></pre>"},{"location":"week3/sql-deel4.html#design-patterns-in-de-class","title":"Design patterns in de class","text":"<p>Deze class demonstreert verschillende belangrijke patterns:</p>"},{"location":"week3/sql-deel4.html#1-private-helper-method","title":"1. Private helper method","text":"<pre><code>def _get_connection(self) -&gt; sqlite3.Connection:\n    \"\"\"Helper method die niet bedoeld is voor extern gebruik.\"\"\"\n    # ...\n</code></pre> <p>De underscore <code>_</code> geeft aan dat dit een interne method is.</p>"},{"location":"week3/sql-deel4.html#2-type-hints-overal","title":"2. Type hints overal","text":"<pre><code>def get_artist_by_id(self, artist_id: int) -&gt; Optional[Row]:\n    #                           \u2191 input type    \u2191 return type\n</code></pre>"},{"location":"week3/sql-deel4.html#3-docstrings-met-args-en-returns","title":"3. Docstrings met Args en Returns","text":"<pre><code>def search_artists(self, search_term: str) -&gt; list[Row]:\n    \"\"\"Zoek artiesten op basis van naam.\n\n    Args:\n        search_term: Zoekterm voor artiest naam\n\n    Returns:\n        Lijst met matchende artiesten\n    \"\"\"\n</code></pre>"},{"location":"week3/sql-deel4.html#4-context-managers","title":"4. Context managers","text":"<pre><code>with self._get_connection() as conn:\n    # Gebruik connection\n    # Automatische cleanup\n</code></pre>"},{"location":"week3/sql-deel4.html#5-placeholders-tegen-sql-injection","title":"5. Placeholders tegen SQL injection","text":"<pre><code>cursor.execute(\n    \"SELECT * FROM artists WHERE name LIKE ?\",\n    (f\"%{search_term}%\",)  # Veilig!\n)\n</code></pre>"},{"location":"week3/sql-deel4.html#uitbreidingen-optioneel","title":"Uitbreidingen (optioneel)","text":"<p>Je kunt de class uitbreiden met extra functionaliteit:</p>"},{"location":"week3/sql-deel4.html#data-toevoegen","title":"Data toevoegen","text":"<pre><code>def add_artist(self, name: str) -&gt; int:\n    \"\"\"Voeg een nieuwe artiest toe.\"\"\"\n    with self._get_connection() as conn:\n        cursor = conn.execute(\n            \"INSERT INTO artists (name) VALUES (?)\",\n            (name,)\n        )\n        conn.commit()\n        return cursor.lastrowid\n</code></pre>"},{"location":"week3/sql-deel4.html#data-wijzigen","title":"Data wijzigen","text":"<pre><code>def update_song_title(self, song_id: int, new_title: str) -&gt; bool:\n    \"\"\"Update de titel van een song.\"\"\"\n    with self._get_connection() as conn:\n        cursor = conn.execute(\n            \"UPDATE songs SET title = ? WHERE _id = ?\",\n            (new_title, song_id)\n        )\n        conn.commit()\n        return cursor.rowcount &gt; 0\n</code></pre>"},{"location":"week3/sql-deel4.html#error-handling","title":"Error handling","text":"<pre><code>def get_artist_by_id(self, artist_id: int) -&gt; Optional[Row]:\n    \"\"\"Haal artiest op met error handling.\"\"\"\n    try:\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM artists WHERE _id = ?\",\n                (artist_id,)\n            )\n            return cursor.fetchone()\n    except sqlite3.Error as e:\n        print(f\"Database error: {e}\")\n        return None\n</code></pre>"},{"location":"week3/sql-deel4.html#van-sqlite3-naar-sqlalchemy","title":"Van sqlite3 naar SQLAlchemy","text":"<p>Deze MusicDatabase class lijkt al veel op hoe je later met SQLAlchemy werkt:</p> <pre><code># Wat je nu schrijft (sqlite3):\ndb = MusicDatabase()\nartists = db.get_all_artists()\n\n# Wordt later (SQLAlchemy):\nsession = Session()\nartists = session.query(Artist).all()\n</code></pre> <p>Beide gebruiken een class-based approach met methods voor database operaties. Het grote verschil:</p> <ul> <li>sqlite3: Je schrijft SQL, class is een wrapper</li> <li>SQLAlchemy: Je schrijft Python, SQL wordt automatisch gegenereerd</li> </ul>"},{"location":"week3/sql-deel4.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Een complete database class bouwen</li> <li>Methods organiseren per entiteit (artists, albums, songs)</li> <li>Private helper methods gebruiken (<code>_get_connection</code>)</li> <li>Complexe data structuren returnen (catalogus dictionary)</li> <li>Type hints en docstrings consequent toepassen</li> <li>Alle patterns combineren (context managers, placeholders, row_factory)</li> </ul> <p>Volgende stap: In Deel 5 leer je over SQL injection en hoe je je code beveiligt.</p> <p>Tip: Gebruik deze MusicDatabase class als template voor je eigen database classes in Flask applicaties!</p>"},{"location":"week3/sql-deel5.html","title":"SQL Injection: Beveiliging","text":""},{"location":"week3/sql-deel5.html#sql-injection-beveiliging","title":"SQL Injection: Beveiliging","text":"<p>SQL injection is \u00e9\u00e9n van de meest voorkomende en gevaarlijkste beveiligingslekken in webapplicaties. In dit deel leer je wat SQL injection is, waarom het gevaarlijk is, en vooral: hoe je het voorkomt met de patterns die je al hebt geleerd.</p> <p>OWASP Top 10</p> <p>SQL injection staat al jaren in de OWASP Top 10 van meest kritieke webapplicatie beveiligingsrisico's. Dit is essenti\u00eble kennis voor elke webdeveloper.</p>"},{"location":"week3/sql-deel5.html#wat-is-sql-injection","title":"Wat is SQL injection?","text":"<p>SQL injection is een aanval waarbij een kwaadwillende gebruiker SQL code injecteert via user input. Dit kan leiden tot:</p> <ul> <li>Data diefstal: Toegang tot alle data in de database</li> <li>Data verlies: Verwijderen van tabellen of records</li> <li>Ongeautoriseerde toegang: Inloggen als andere gebruikers</li> <li>Complete compromise: Overame van de database server</li> </ul>"},{"location":"week3/sql-deel5.html#voorbeeld-onveilige-code","title":"Voorbeeld: onveilige code","text":"<p>Stel je hebt een login functie die user input direct in SQL zet:</p> <pre><code>import sqlite3\n\ndef login_unsafe(username: str, password: str) -&gt; bool:\n    \"\"\"GEVAARLIJK - gebruik dit NOOIT!\"\"\"\n    conn = sqlite3.connect(\"users.db\")\n\n    # FOUT: f-string met user input in SQL!\n    query = f\"SELECT * FROM users WHERE username = '{username}' AND password = '{password}'\"\n\n    cursor = conn.execute(query)\n    user = cursor.fetchone()\n    conn.close()\n\n    return user is not None\n\n# Normale login\nresult = login_unsafe(\"jan\", \"geheim123\")  # Werkt normaal\n\n# SQL injection attack!\nresult = login_unsafe(\"admin' --\", \"whatever\")\n# Query wordt: SELECT * FROM users WHERE username = 'admin' --' AND password = 'whatever'\n# De -- maakt de rest commentaar, dus password check wordt overgeslagen!\n</code></pre> <p>De aanvaller kan nu inloggen als admin zonder het wachtwoord te weten!</p>"},{"location":"week3/sql-deel5.html#andere-aanvallen","title":"Andere aanvallen","text":"<p>SQL injection kan ook gebruikt worden voor:</p> <p>Data diefstal: </p><pre><code># User input: ' OR '1'='1\nquery = f\"SELECT * FROM users WHERE username = '{user_input}'\"\n# Wordt: SELECT * FROM users WHERE username = '' OR '1'='1'\n# Dit returnt ALLE gebruikers!\n</code></pre><p></p> <p>Data vernietiging: </p><pre><code># User input: '; DROP TABLE users; --\nquery = f\"DELETE FROM messages WHERE id = {message_id}\"\n# Zou kunnen worden: DELETE FROM messages WHERE id = 1; DROP TABLE users; --\n# (Dit werkt gelukkig niet altijd, maar het risico bestaat)\n</code></pre><p></p>"},{"location":"week3/sql-deel5.html#de-oplossing-placeholders","title":"De oplossing: placeholders","text":"<p>Je hebt de oplossing al gezien in eerdere delen: placeholders (<code>?</code>). Dit is de enige veilige manier om user input in SQL te gebruiken.</p>"},{"location":"week3/sql-deel5.html#veilige-login-functie","title":"Veilige login functie","text":"<pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef login_safe(username: str, password: str) -&gt; bool:\n    \"\"\"Veilige login met placeholders.\"\"\"\n    with sqlite3.connect(\"users.db\") as conn:\n        conn.row_factory = Row\n\n        # VEILIG: gebruik placeholders!\n        cursor = conn.execute(\n            \"SELECT * FROM users WHERE username = ? AND password = ?\",\n            (username, password)\n        )\n\n        user = cursor.fetchone()\n        return user is not None\n\n# Normale login werkt\nresult = login_safe(\"jan\", \"geheim123\")\n\n# SQL injection attack wordt onschadelijk gemaakt\nresult = login_safe(\"admin' --\", \"whatever\")\n# De ' wordt ge\u00ebscaped, wordt gezocht naar username \"admin' --\"\n# Geen gevaar!\n</code></pre>"},{"location":"week3/sql-deel5.html#waarom-placeholders-veilig-zijn","title":"Waarom placeholders veilig zijn","text":"<p>Placeholders zorgen voor automatische escaping van speciale karakters:</p> <pre><code>def search_users_safe(search_term: str) -&gt; list[Row]:\n    \"\"\"Zoek gebruikers veilig.\"\"\"\n    with sqlite3.connect(\"users.db\") as conn:\n        conn.row_factory = Row\n\n        # Gevaarlijke input wordt automatisch ge\u00ebscaped\n        cursor = conn.execute(\n            \"SELECT * FROM users WHERE username LIKE ?\",\n            (f\"%{search_term}%\",)\n        )\n\n        return cursor.fetchall()\n\n# SQL injection poging\nusers = search_users_safe(\"'; DROP TABLE users; --\")\n# Zoekt letterlijk naar de string \"'; DROP TABLE users; --\"\n# Geen SQL code executie!\n</code></pre> <p>De database driver escapet automatisch: - Enkele quotes (<code>'</code>) \u2192 <code>\\'</code> - Dubbele quotes (<code>\"</code>) \u2192 <code>\\\"</code> - Puntkomma's (<code>;</code>) - Backslashes (<code>\\</code>)</p>"},{"location":"week3/sql-deel5.html#common-mistakes-zelfs-met-placeholders","title":"Common mistakes (zelfs met placeholders!)","text":"<p>Er zijn een paar situaties waar placeholders niet werken. Pas hier extra op:</p>"},{"location":"week3/sql-deel5.html#1-tablecolumn-names","title":"1. Table/column names","text":"<p>Placeholders werken NIET voor tabel- of kolomnamen:</p> <pre><code># FOUT - dit werkt niet!\ntable_name = \"users\"\ncursor.execute(\"SELECT * FROM ?\", (table_name,))  # ERROR\n\n# Oplossing: whitelist validatie\nALLOWED_TABLES = [\"users\", \"products\", \"orders\"]\n\ndef get_all_from_table(table_name: str) -&gt; list[Row]:\n    \"\"\"Haal data op met veilige tabel selectie.\"\"\"\n    if table_name not in ALLOWED_TABLES:\n        raise ValueError(f\"Invalid table: {table_name}\")\n\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = Row\n        # Nu is f-string veilig omdat we gevalideerd hebben\n        cursor = conn.execute(f\"SELECT * FROM {table_name}\")\n        return cursor.fetchall()\n</code></pre>"},{"location":"week3/sql-deel5.html#2-order-by-direction","title":"2. ORDER BY direction","text":"<pre><code># FOUT - ORDER BY richting kan niet als placeholder\ncursor.execute(\"SELECT * FROM users ORDER BY name ?\", (\"DESC\",))  # ERROR\n\n# Oplossing: valideer input\ndef get_users_sorted(desc: bool = False) -&gt; list[Row]:\n    \"\"\"Haal gebruikers gesorteerd op.\"\"\"\n    # Controleer zelf welke waarde er komt\n    order = \"DESC\" if desc else \"ASC\"\n\n    with sqlite3.connect(\"users.db\") as conn:\n        conn.row_factory = Row\n        # Nu is f-string veilig\n        cursor = conn.execute(f\"SELECT * FROM users ORDER BY name {order}\")\n        return cursor.fetchall()\n</code></pre>"},{"location":"week3/sql-deel5.html#3-limit-en-offset","title":"3. LIMIT en OFFSET","text":"<p>Deze werken meestal WEL als placeholders, maar niet in alle SQL databases:</p> <pre><code># SQLite: dit werkt\ndef get_users_paginated(limit: int, offset: int) -&gt; list[Row]:\n    \"\"\"Paginatie met placeholders (veilig in SQLite).\"\"\"\n    with sqlite3.connect(\"users.db\") as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            \"SELECT * FROM users LIMIT ? OFFSET ?\",\n            (limit, offset)\n        )\n        return cursor.fetchall()\n</code></pre>"},{"location":"week3/sql-deel5.html#volledige-veilige-database-class","title":"Volledige veilige database class","text":"<p>Hier is een complete voorbeeld met alle veilige patterns:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass UserDatabase:\n    \"\"\"Veilige user database met SQL injection bescherming.\"\"\"\n\n    def __init__(self, db_path: str = \"users.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak users tabel aan.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    username TEXT NOT NULL UNIQUE,\n                    email TEXT NOT NULL,\n                    password TEXT NOT NULL\n                )\n            \"\"\")\n            conn.commit()\n\n    def add_user(self, username: str, email: str, password: str) -&gt; int:\n        \"\"\"Voeg user toe (altijd veilig met placeholders).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"INSERT INTO users (username, email, password) VALUES (?, ?, ?)\",\n                (username, email, password)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    def login(self, username: str, password: str) -&gt; Row | None:\n        \"\"\"Login user (veilig tegen SQL injection).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\n                \"SELECT * FROM users WHERE username = ? AND password = ?\",\n                (username, password)\n            )\n            return cursor.fetchone()\n\n    def search_users(self, search_term: str) -&gt; list[Row]:\n        \"\"\"Zoek users (veilig met placeholder in LIKE).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\n                \"SELECT id, username, email FROM users WHERE username LIKE ?\",\n                (f\"%{search_term}%\",)\n            )\n            return cursor.fetchall()\n\n    def update_email(self, user_id: int, new_email: str) -&gt; bool:\n        \"\"\"Update email (veilig met placeholders).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"UPDATE users SET email = ? WHERE id = ?\",\n                (new_email, user_id)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n    def delete_user(self, user_id: int) -&gt; bool:\n        \"\"\"Verwijder user (veilig met placeholder).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"DELETE FROM users WHERE id = ?\",\n                (user_id,)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n\n# Gebruik (veilig tegen alle SQL injection pogingen)\ndb = UserDatabase()\n\n# Normale gebruik\ndb.add_user(\"jan\", \"jan@email.nl\", \"geheim123\")\n\n# SQL injection pogingen worden onschadelijk gemaakt\ndb.add_user(\"'; DROP TABLE users; --\", \"evil@hacker.com\", \"whatever\")\n# Dit maakt gewoon een user met username \"'; DROP TABLE users; --\"\n# Geen gevaar!\n\n# Veilig inloggen\nuser = db.login(\"jan\", \"geheim123\")\nif user:\n    print(f\"Ingelogd als {user['username']}\")\n\n# Veilig zoeken\nusers = db.search_users(\"'; DELETE FROM users; --\")\n# Zoekt letterlijk naar die string, geen SQL executie\n</code></pre>"},{"location":"week3/sql-deel5.html#flask-en-sql-injection","title":"Flask en SQL injection","text":"<p>In Flask applicaties is SQL injection een groot risico omdat je direct met user input werkt:</p> <pre><code>from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route('/search')\ndef search():\n    # User input komt uit URL parameters\n    query = request.args.get('q', '')\n\n    # GEVAARLIJK - NOOIT DOEN!\n    # results = conn.execute(f\"SELECT * FROM products WHERE name LIKE '%{query}%'\")\n\n    # VEILIG - altijd placeholders gebruiken\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            \"SELECT * FROM products WHERE name LIKE ?\",\n            (f\"%{query}%\",)\n        )\n        results = cursor.fetchall()\n\n    return render_template('search.html', results=results)\n</code></pre> <p>Later met SQLAlchemy (Week 6) krijg je deze beveiliging automatisch:</p> <pre><code># SQLAlchemy (Week 6) - automatisch veilig\nproducts = session.query(Product).filter(\n    Product.name.like(f\"%{query}%\")\n).all()\n# Placeholders worden automatisch gebruikt!\n</code></pre>"},{"location":"week3/sql-deel5.html#best-practices-samenvatting","title":"Best practices samenvatting","text":"<p>\u2705 DOE WEL: - Gebruik altijd placeholders (<code>?</code>) voor values - Gebruik context managers (<code>with</code>) - Valideer input bij table/column names (whitelist) - Gebruik type hints - Test met bekende SQL injection strings</p> <p>\u274c DOE NIET: - F-strings of string concatenatie met user input in SQL - User input direct in SQL queries - <code>executescript()</code> met user input - Vertrouwen op client-side validatie alleen</p>"},{"location":"week3/sql-deel5.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Wat SQL injection is en waarom het gevaarlijk is</li> <li>Placeholders gebruiken als enige veilige methode</li> <li>Common mistakes (table names, ORDER BY, etc.)</li> <li>Veilige patterns voor alle CRUD operaties</li> <li>Flask specifieke risico's en oplossingen</li> <li>Best practices voor veilige database code</li> </ul> <p>Volgende stap: In Deel 6 leer je over exception handling bij database operaties.</p> <p>Oefening: Maak nu oefening 2 over SQL injection.</p> <p>Test je beveiliging</p> <p>Test je applicaties altijd met deze input strings: </p><pre><code>' OR '1'='1\n' OR '1'='1' --\n'; DROP TABLE users; --\n1' AND '1'='2\n</code></pre> Als deze niet gewoon als letterlijke strings behandeld worden, heb je een probleem!<p></p>"},{"location":"week3/sql-deel6.html","title":"Exception Handling bij Database Operaties","text":""},{"location":"week3/sql-deel6.html#exception-handling-bij-database-operaties","title":"Exception Handling bij Database Operaties","text":"<p>Bij het werken met databases kunnen allerlei fouten optreden: database niet gevonden, constraint violations, connection errors, etc. In dit deel leer je hoe je deze fouten netjes afvangt en afhandelt in plaats van je applicatie te laten crashen.</p>"},{"location":"week3/sql-deel6.html#waarom-exception-handling-belangrijk-is","title":"Waarom exception handling belangrijk is","text":"<p>In productie Flask applicaties wil je nooit dat gebruikers stack traces te zien krijgen. In plaats daarvan:</p> <ul> <li>Vang fouten af met <code>try</code>/<code>except</code></li> <li>Log de fout voor debugging</li> <li>Toon een gebruiksvriendelijke foutmelding</li> <li>Blijf in een consistente staat (geen corrupte data)</li> </ul>"},{"location":"week3/sql-deel6.html#database-exceptions-in-sqlite","title":"Database exceptions in SQLite","text":"<p>SQLite heeft verschillende exception types die allemaal erven van <code>sqlite3.Error</code>:</p> <pre><code>import sqlite3\n\n# Basis exception types:\n# - sqlite3.Error (parent van alle database errors)\n# - sqlite3.IntegrityError (constraint violations: UNIQUE, NOT NULL, etc.)\n# - sqlite3.OperationalError (database locked, table not found, etc.)\n# - sqlite3.ProgrammingError (SQL syntax errors)\n</code></pre>"},{"location":"week3/sql-deel6.html#basic-exception-handling","title":"Basic exception handling","text":""},{"location":"week3/sql-deel6.html#voorbeeld-zonder-error-handling-slecht","title":"Voorbeeld zonder error handling (slecht)","text":"<pre><code>import sqlite3\n\ndef add_user_unsafe(username: str, email: str) -&gt; int:\n    \"\"\"GEEN error handling - crasht bij fouten!\"\"\"\n    with sqlite3.connect(\"users.db\") as conn:\n        cursor = conn.execute(\n            \"INSERT INTO users (username, email) VALUES (?, ?)\",\n            (username, email)\n        )\n        conn.commit()\n        return cursor.lastrowid\n\n# Dit crasht als username al bestaat (UNIQUE constraint)\nuser_id = add_user_unsafe(\"jan\", \"jan@email.nl\")  # Werkt\nuser_id = add_user_unsafe(\"jan\", \"jan@email.nl\")  # CRASH!\n# sqlite3.IntegrityError: UNIQUE constraint failed: users.username\n</code></pre>"},{"location":"week3/sql-deel6.html#voorbeeld-met-error-handling-goed","title":"Voorbeeld met error handling (goed)","text":"<pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef add_user_safe(username: str, email: str) -&gt; int | None:\n    \"\"\"Met error handling - geeft None terug bij fout.\"\"\"\n    try:\n        with sqlite3.connect(\"users.db\") as conn:\n            cursor = conn.execute(\n                \"INSERT INTO users (username, email) VALUES (?, ?)\",\n                (username, email)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    except sqlite3.IntegrityError as e:\n        # UNIQUE constraint violation\n        print(f\"Fout: gebruiker '{username}' bestaat al\")\n        return None\n\n    except sqlite3.Error as e:\n        # Andere database fouten\n        print(f\"Database fout: {e}\")\n        return None\n\n# Gebruik\nuser_id = add_user_safe(\"jan\", \"jan@email.nl\")\nif user_id:\n    print(f\"User aangemaakt met ID {user_id}\")\nelse:\n    print(\"User niet aangemaakt\")\n\n# Tweede keer - geen crash, netjes afgehandeld\nuser_id = add_user_safe(\"jan\", \"jan@email.nl\")\nif user_id:\n    print(f\"User aangemaakt met ID {user_id}\")\nelse:\n    print(\"User niet aangemaakt\")  # Dit wordt geprint\n</code></pre>"},{"location":"week3/sql-deel6.html#specifieke-exceptions-afhandelen","title":"Specifieke exceptions afhandelen","text":""},{"location":"week3/sql-deel6.html#integrityerror-constraint-violations","title":"IntegrityError (constraint violations)","text":"<pre><code>def add_product(name: str, price: float, stock: int) -&gt; int | None:\n    \"\"\"Voeg product toe met constraint validation.\"\"\"\n    try:\n        with sqlite3.connect(\"shop.db\") as conn:\n            cursor = conn.execute(\n                \"INSERT INTO products (name, price, stock) VALUES (?, ?, ?)\",\n                (name, price, stock)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    except sqlite3.IntegrityError as e:\n        error_msg = str(e)\n\n        if \"UNIQUE\" in error_msg:\n            print(f\"Product '{name}' bestaat al\")\n        elif \"NOT NULL\" in error_msg:\n            print(f\"Verplichte velden mogen niet leeg zijn\")\n        elif \"CHECK\" in error_msg:\n            print(f\"Ongeldige waarde (bijv. negatieve prijs)\")\n        else:\n            print(f\"Database constraint error: {error_msg}\")\n\n        return None\n\n# Test\nadd_product(\"Laptop\", 799.99, 10)  # Werkt\nadd_product(\"Laptop\", 899.99, 5)   # Duplicate - netjes afgehandeld\nadd_product(\"\", 299.99, 2)         # NOT NULL - netjes afgehandeld\n</code></pre>"},{"location":"week3/sql-deel6.html#operationalerror-database-problemen","title":"OperationalError (database problemen)","text":"<pre><code>def get_all_products() -&gt; list[Row]:\n    \"\"\"Haal producten op met error handling.\"\"\"\n    try:\n        with sqlite3.connect(\"shop.db\") as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\"SELECT * FROM products\")\n            return cursor.fetchall()\n\n    except sqlite3.OperationalError as e:\n        error_msg = str(e)\n\n        if \"no such table\" in error_msg:\n            print(\"Database tabel bestaat niet - run eerst de setup!\")\n            return []\n        elif \"locked\" in error_msg:\n            print(\"Database is locked - probeer later opnieuw\")\n            return []\n        else:\n            print(f\"Database error: {error_msg}\")\n            return []\n\n    except sqlite3.Error as e:\n        print(f\"Onverwachte database fout: {e}\")\n        return []\n\n# Gebruik\nproducts = get_all_products()\nif products:\n    for product in products:\n        print(f\"{product['name']}: \u20ac {product['price']}\")\nelse:\n    print(\"Geen producten gevonden (of fout opgetreden)\")\n</code></pre>"},{"location":"week3/sql-deel6.html#complete-database-class-met-error-handling","title":"Complete database class met error handling","text":"<p>Hier is een volledige class met proper exception handling:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\nfrom typing import Optional\nimport logging\n\n# Setup logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\nclass ProductDatabase:\n    \"\"\"Product database met complete error handling.\"\"\"\n\n    def __init__(self, db_path: str = \"shop.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak products tabel aan.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                conn.execute(\"\"\"\n                    CREATE TABLE IF NOT EXISTS products (\n                        id INTEGER PRIMARY KEY AUTOINCREMENT,\n                        name TEXT NOT NULL UNIQUE,\n                        price REAL NOT NULL CHECK(price &gt; 0),\n                        stock INTEGER NOT NULL CHECK(stock &gt;= 0)\n                    )\n                \"\"\")\n                conn.commit()\n                logger.info(\"Products tabel aangemaakt\")\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij aanmaken tabel: {e}\")\n            raise  # Re-raise omdat dit een kritieke fout is\n\n    def add(self, name: str, price: float, stock: int) -&gt; Optional[int]:\n        \"\"\"Voeg product toe met error handling.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                cursor = conn.execute(\n                    \"INSERT INTO products (name, price, stock) VALUES (?, ?, ?)\",\n                    (name, price, stock)\n                )\n                conn.commit()\n                product_id = cursor.lastrowid\n                logger.info(f\"Product '{name}' toegevoegd met ID {product_id}\")\n                return product_id\n\n        except sqlite3.IntegrityError as e:\n            if \"UNIQUE\" in str(e):\n                logger.warning(f\"Product '{name}' bestaat al\")\n            elif \"CHECK\" in str(e):\n                logger.warning(f\"Ongeldige waarde voor '{name}': prijs={price}, stock={stock}\")\n            else:\n                logger.error(f\"Integrity error bij toevoegen '{name}': {e}\")\n            return None\n\n        except sqlite3.Error as e:\n            logger.error(f\"Database fout bij toevoegen '{name}': {e}\")\n            return None\n\n    def get_all(self) -&gt; list[Row]:\n        \"\"\"Haal alle producten op.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                conn.row_factory = Row\n                cursor = conn.execute(\"SELECT * FROM products ORDER BY name\")\n                return cursor.fetchall()\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij ophalen producten: {e}\")\n            return []\n\n    def get_by_id(self, product_id: int) -&gt; Optional[Row]:\n        \"\"\"Haal \u00e9\u00e9n product op.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                conn.row_factory = Row\n                cursor = conn.execute(\n                    \"SELECT * FROM products WHERE id = ?\",\n                    (product_id,)\n                )\n                return cursor.fetchone()\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij ophalen product {product_id}: {e}\")\n            return None\n\n    def update_stock(self, product_id: int, new_stock: int) -&gt; bool:\n        \"\"\"Update voorraad met validatie.\"\"\"\n        if new_stock &lt; 0:\n            logger.warning(f\"Negatieve voorraad niet toegestaan: {new_stock}\")\n            return False\n\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                cursor = conn.execute(\n                    \"UPDATE products SET stock = ? WHERE id = ?\",\n                    (new_stock, product_id)\n                )\n                conn.commit()\n\n                if cursor.rowcount &gt; 0:\n                    logger.info(f\"Stock update voor product {product_id}: {new_stock}\")\n                    return True\n                else:\n                    logger.warning(f\"Product {product_id} niet gevonden\")\n                    return False\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij update stock voor product {product_id}: {e}\")\n            return False\n\n    def delete(self, product_id: int) -&gt; bool:\n        \"\"\"Verwijder product.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                cursor = conn.execute(\n                    \"DELETE FROM products WHERE id = ?\",\n                    (product_id,)\n                )\n                conn.commit()\n\n                if cursor.rowcount &gt; 0:\n                    logger.info(f\"Product {product_id} verwijderd\")\n                    return True\n                else:\n                    logger.warning(f\"Product {product_id} niet gevonden\")\n                    return False\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij verwijderen product {product_id}: {e}\")\n            return False\n\n\n# Gebruik\ndb = ProductDatabase()\n\n# Succesvol toevoegen\nproduct_id = db.add(\"Laptop\", 799.99, 10)\nif product_id:\n    print(f\"Product toegevoegd met ID {product_id}\")\n\n# Duplicate - wordt netjes afgevangen\nduplicate_id = db.add(\"Laptop\", 899.99, 5)\nif not duplicate_id:\n    print(\"Product niet toegevoegd (bestaat al)\")\n\n# Ongeldige waarde - wordt netjes afgevangen\ninvalid_id = db.add(\"Monitor\", -50.00, 3)  # Negatieve prijs\nif not invalid_id:\n    print(\"Product niet toegevoegd (ongeldige prijs)\")\n\n# Stock update\nif db.update_stock(1, 15):\n    print(\"Stock bijgewerkt\")\n\n# Haal alle producten op\nproducts = db.get_all()\nfor product in products:\n    print(f\"{product['name']}: \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre>"},{"location":"week3/sql-deel6.html#flask-specifieke-error-handling","title":"Flask specifieke error handling","text":"<p>In Flask wil je errors netjes afhandelen voor gebruikers:</p> <pre><code>from flask import Flask, jsonify, request\nimport sqlite3\nimport logging\n\napp = Flask(__name__)\nlogger = logging.getLogger(__name__)\n\n\n@app.route('/products', methods=['POST'])\ndef add_product():\n    \"\"\"Voeg product toe via API.\"\"\"\n    data = request.get_json()\n\n    try:\n        name = data['name']\n        price = float(data['price'])\n        stock = int(data['stock'])\n\n        db = ProductDatabase()\n        product_id = db.add(name, price, stock)\n\n        if product_id:\n            return jsonify({\n                'success': True,\n                'id': product_id,\n                'message': f'Product {name} toegevoegd'\n            }), 201\n        else:\n            return jsonify({\n                'success': False,\n                'message': 'Product kon niet worden toegevoegd (mogelijk duplicate)'\n            }), 400\n\n    except KeyError as e:\n        return jsonify({\n            'success': False,\n            'message': f'Ontbrekend veld: {e}'\n        }), 400\n\n    except ValueError as e:\n        return jsonify({\n            'success': False,\n            'message': f'Ongeldige waarde: {e}'\n        }), 400\n\n    except Exception as e:\n        logger.error(f\"Onverwachte fout: {e}\")\n        return jsonify({\n            'success': False,\n            'message': 'Server error'\n        }), 500\n\n\n@app.route('/products/&lt;int:product_id&gt;')\ndef get_product(product_id):\n    \"\"\"Haal product op via API.\"\"\"\n    try:\n        db = ProductDatabase()\n        product = db.get_by_id(product_id)\n\n        if product:\n            return jsonify({\n                'success': True,\n                'product': dict(product)\n            })\n        else:\n            return jsonify({\n                'success': False,\n                'message': 'Product niet gevonden'\n            }), 404\n\n    except Exception as e:\n        logger.error(f\"Fout bij ophalen product {product_id}: {e}\")\n        return jsonify({\n            'success': False,\n            'message': 'Server error'\n        }), 500\n</code></pre>"},{"location":"week3/sql-deel6.html#best-practices","title":"Best practices","text":"<p>\u2705 DOE WEL: - Gebruik specifieke exceptions (<code>IntegrityError</code>, <code>OperationalError</code>) - Log errors voor debugging (<code>logging.error()</code>) - Return None of lege lijst bij fouten (geen crash) - Gebruik type hints (<code>Optional[int]</code>, <code>list[Row]</code>) - Test error paths (wat gebeurt bij duplicates?)</p> <p>\u274c DOE NIET: - Bare <code>except:</code> zonder exception type - Fouten negeren (silent failures) - Stack traces tonen aan gebruikers - Exceptions gebruiken voor flow control - Sensitive info in error messages (geen SQL queries!)</p>"},{"location":"week3/sql-deel6.html#common-patterns","title":"Common patterns","text":""},{"location":"week3/sql-deel6.html#pattern-1-try-except-met-return","title":"Pattern 1: Try-except met return","text":"<pre><code>def safe_operation() -&gt; Optional[Row]:\n    \"\"\"Veilige operatie met Optional return.\"\"\"\n    try:\n        # Database operatie\n        return result\n    except sqlite3.Error as e:\n        logger.error(f\"Fout: {e}\")\n        return None\n</code></pre>"},{"location":"week3/sql-deel6.html#pattern-2-try-except-met-boolean","title":"Pattern 2: Try-except met boolean","text":"<pre><code>def safe_update() -&gt; bool:\n    \"\"\"Update met success boolean.\"\"\"\n    try:\n        # Update operatie\n        return True\n    except sqlite3.Error as e:\n        logger.error(f\"Fout: {e}\")\n        return False\n</code></pre>"},{"location":"week3/sql-deel6.html#pattern-3-try-except-met-default-waarde","title":"Pattern 3: Try-except met default waarde","text":"<pre><code>def get_count() -&gt; int:\n    \"\"\"Haal count op, return 0 bij fout.\"\"\"\n    try:\n        # Count query\n        return count\n    except sqlite3.Error as e:\n        logger.error(f\"Fout: {e}\")\n        return 0\n</code></pre>"},{"location":"week3/sql-deel6.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Database-specifieke exceptions (<code>IntegrityError</code>, <code>OperationalError</code>)</li> <li>Try-except patterns voor veilige database operaties</li> <li>Logging voor debugging (niet print!)</li> <li>Return types die fouten aangeven (<code>None</code>, <code>False</code>, empty list)</li> <li>Flask error handling voor API's</li> <li>Best practices voor production code</li> </ul> <p>Tip: Test altijd je error handling! Probeer bewust fouten te veroorzaken (duplicates, missing tables, etc.) om te zien of je code netjes reageert.</p> <p>Volgende stap: Je hebt nu alle SQLite basics! In Week 6 leer je SQLAlchemy - een ORM die veel van deze error handling automatisch doet.</p>"},{"location":"week3/oefeningen/sql-oefening1.html","title":"Oefening 1: CRUD Operaties met Python","text":""},{"location":"week3/oefeningen/sql-oefening1.html#oefening-1-crud-operaties-met-python","title":"Oefening 1: CRUD Operaties met Python","text":"<p>Deze oefening past bij SQL Deel 2 en Deel 3.</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-1-database-en-tabel-aanmaken","title":"Opgave 1: Database en Tabel Aanmaken","text":"<p>Maak een Python bestand <code>bedrijf_db.py</code> en maak een database class:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass BedrijfDatabase:\n    \"\"\"Database voor bedrijfsgegevens.\"\"\"\n\n    def __init__(self, db_path: str = \"bedrijf.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak bedrijf tabel aan met constraints.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS bedrijf (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    naam TEXT NOT NULL,\n                    plaats TEXT NOT NULL,\n                    salaris REAL NOT NULL CHECK(salaris &gt; 0)\n                )\n            \"\"\")\n            conn.commit()\n</code></pre> <p>Vraag: Waarom gebruiken we <code>CHECK(salaris &gt; 0)</code>?</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-2-data-toevoegen","title":"Opgave 2: Data Toevoegen","text":"<p>Voeg een method toe om werknemers toe te voegen:</p> <pre><code>def add_werknemer(self, naam: str, plaats: str, salaris: float) -&gt; int | None:\n    \"\"\"Voeg werknemer toe.\"\"\"\n    # TODO: Implementeer deze method\n    # - Gebruik placeholders\n    # - Return lastrowid bij succes\n    # - Return None bij fout (try/except)\n    pass\n</code></pre> <p>Test je code door deze 4 werknemers toe te voegen:</p> ID Naam Plaats Salaris 1 Aad Amsterdam 60000 2 Bea Berlijn 70000 3 Coen Cairo 65000 4 Daphne Dortmund 65000 <p>Tip: Je hoeft de ID niet mee te geven - die wordt automatisch gegenereerd (AUTOINCREMENT).</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-3-data-ophalen","title":"Opgave 3: Data Ophalen","text":"<p>Voeg een method toe om alle werknemers op te halen:</p> <pre><code>def get_all(self) -&gt; list[Row]:\n    \"\"\"Haal alle werknemers op.\"\"\"\n    # TODO: Implementeer deze method\n    # - Gebruik with statement\n    # - Gebruik row_factory = Row\n    # - ORDER BY naam\n    pass\n</code></pre> <p>Voeg ook een method toe om \u00e9\u00e9n werknemer op ID op te halen:</p> <pre><code>def get_by_id(self, werknemer_id: int) -&gt; Row | None:\n    \"\"\"Haal \u00e9\u00e9n werknemer op.\"\"\"\n    # TODO: Implementeer deze method\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-4-data-wijzigen","title":"Opgave 4: Data Wijzigen","text":"<p>Voeg methods toe voor UPDATE operaties:</p> <pre><code>def update_salaris(self, werknemer_id: int, nieuw_salaris: float) -&gt; bool:\n    \"\"\"Update salaris van een werknemer.\"\"\"\n    # TODO: Implementeer deze method\n    # - Return True bij succes\n    # - Return False bij fout of niet gevonden\n    pass\n\ndef update_naam(self, werknemer_id: int, nieuwe_naam: str) -&gt; bool:\n    \"\"\"Update naam van een werknemer.\"\"\"\n    # TODO: Implementeer deze method\n    pass\n</code></pre> <p>Test je code: - Wijzig het salaris van Aad (ID 1) naar 90000 - Wijzig de naam van Bea (ID 2) naar \"Beatrix\" - Print telkens alle werknemers om te verifi\u00ebren</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-5-data-verwijderen","title":"Opgave 5: Data Verwijderen","text":"<p>Voeg een method toe om een werknemer te verwijderen:</p> <pre><code>def delete(self, werknemer_id: int) -&gt; bool:\n    \"\"\"Verwijder een werknemer.\"\"\"\n    # TODO: Implementeer deze method\n    pass\n</code></pre> <p>Test door Beatrix (ID 2) te verwijderen.</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-6-gebruik-de-class","title":"Opgave 6: Gebruik de Class","text":"<p>Schrijf een <code>main()</code> functie die alle operaties demonstreert:</p> <pre><code>def main():\n    db = BedrijfDatabase()\n\n    # Voeg werknemers toe\n    print(\"=== Toevoegen ===\")\n    werknemers = [\n        (\"Aad\", \"Amsterdam\", 60000),\n        (\"Bea\", \"Berlijn\", 70000),\n        (\"Coen\", \"Cairo\", 65000),\n        (\"Daphne\", \"Dortmund\", 65000)\n    ]\n\n    for naam, plaats, salaris in werknemers:\n        werknemer_id = db.add_werknemer(naam, plaats, salaris)\n        print(f\"{naam} toegevoegd met ID {werknemer_id}\")\n\n    # TODO: Implementeer de rest\n    # - Toon alle werknemers\n    # - Update salaris van Aad\n    # - Update naam van Bea\n    # - Verwijder Beatrix\n    # - Toon finale lijst\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#bonusopdracht-statistieken","title":"Bonusopdracht: Statistieken","text":"<p>Voeg methods toe voor statistieken:</p> <pre><code>def get_gemiddeld_salaris(self) -&gt; float:\n    \"\"\"Bereken gemiddeld salaris.\"\"\"\n    with sqlite3.connect(self.db_path) as conn:\n        cursor = conn.execute(\"SELECT AVG(salaris) as avg_salaris FROM bedrijf\")\n        result = cursor.fetchone()\n        return result[0] if result[0] else 0.0\n\ndef get_werknemers_per_plaats(self) -&gt; list[Row]:\n    \"\"\"Tel werknemers per plaats.\"\"\"\n    # TODO: Gebruik GROUP BY\n    pass\n\ndef get_hoogste_salaris(self) -&gt; Row | None:\n    \"\"\"Vind werknemer met hoogste salaris.\"\"\"\n    # TODO: Gebruik ORDER BY ... DESC LIMIT 1\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#verwachte-output","title":"Verwachte Output","text":"<pre><code>=== Toevoegen ===\nAad toegevoegd met ID 1\nBea toegevoegd met ID 2\nCoen toegevoegd met ID 3\nDaphne toegevoegd met ID 4\n\n=== Alle Werknemers ===\n1: Aad (Amsterdam) - \u20ac60000.00\n2: Bea (Berlijn) - \u20ac70000.00\n3: Coen (Cairo) - \u20ac65000.00\n4: Daphne (Dortmund) - \u20ac65000.00\n\n=== Na Updates ===\n1: Aad (Amsterdam) - \u20ac90000.00\n2: Beatrix (Berlijn) - \u20ac70000.00\n3: Coen (Cairo) - \u20ac65000.00\n4: Daphne (Dortmund) - \u20ac65000.00\n\n=== Na Verwijderen ===\n1: Aad (Amsterdam) - \u20ac90000.00\n3: Coen (Cairo) - \u20ac65000.00\n4: Daphne (Dortmund) - \u20ac65000.00\n\nGemiddeld salaris: \u20ac73333.33\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#checklist","title":"Checklist","text":"<p>\u2705 Class met <code>__init__</code> en <code>_create_table</code> \u2705 CRUD methods: add, get_all, get_by_id, update, delete \u2705 Placeholders (<code>?</code>) gebruikt \u2705 Context managers (<code>with</code>) gebruikt \u2705 Type hints op alle methods \u2705 row_factory = Row voor dict-like access \u2705 Error handling (try/except) waar nodig \u2705 main() functie die alles demonstreert</p>"},{"location":"week3/oefeningen/sql-oefening2.html","title":"Oefening 2: JOINs met de Music Database","text":""},{"location":"week3/oefeningen/sql-oefening2.html#oefening-2-joins-met-de-music-database","title":"Oefening 2: JOINs met de Music Database","text":"<p>Deze oefening past bij SQL Deel 3.</p> <p>Download de music.sqlite database en plaats deze in je project folder.</p>"},{"location":"week3/oefeningen/sql-oefening2.html#voorbereiding","title":"Voorbereiding","text":"<p>Maak een Python bestand <code>music_queries.py</code> met een basis class:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass MusicDatabase:\n    \"\"\"Database voor music queries.\"\"\"\n\n    def __init__(self, db_path: str = \"music.sqlite\"):\n        self.db_path = db_path\n\n    def _execute_query(self, query: str, params: tuple = ()) -&gt; list[Row]:\n        \"\"\"Helper method om queries uit te voeren.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(query, params)\n            return cursor.fetchall()\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-1-songs-van-een-album","title":"Opgave 1: Songs van een Album","text":"<p>Vraag: Toon alle songs van het album 'Forbidden'.</p> <p>Implementeer deze method:</p> <pre><code>def get_songs_by_album(self, album_name: str) -&gt; list[Row]:\n    \"\"\"Haal alle songs op van een specifiek album.\"\"\"\n    # TODO: Implementeer deze query\n    # - JOIN songs met albums\n    # - WHERE album.name = ?\n    # - Gebruik _execute_query helper\n    pass\n</code></pre> <p>Test: </p><pre><code>db = MusicDatabase()\nsongs = db.get_songs_by_album(\"Forbidden\")\nfor song in songs:\n    print(f\"{song['title']}\")\n</code></pre><p></p>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-2-songs-gesorteerd-op-track","title":"Opgave 2: Songs Gesorteerd op Track","text":"<p>Vraag: Toon dezelfde songs, maar nu gesorteerd op tracknummer.</p> <pre><code>def get_songs_by_album_sorted(self, album_name: str) -&gt; list[Row]:\n    \"\"\"Haal songs op gesorteerd op track nummer.\"\"\"\n    # TODO: Voeg ORDER BY track toe\n    pass\n</code></pre> <p>Test opnieuw en vergelijk de output.</p>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-3-songs-van-een-artiest","title":"Opgave 3: Songs van een Artiest","text":"<p>Vraag: Toon alle songs van de band 'Deep Purple'.</p> <p>Hint: Dit vereist een dubbele JOIN (songs \u2192 albums \u2192 artists)</p> <pre><code>def get_songs_by_artist(self, artist_name: str) -&gt; list[Row]:\n    \"\"\"Haal alle songs op van een specifieke artiest.\"\"\"\n    # TODO: Implementeer dubbele JOIN\n    # FROM songs s\n    # JOIN albums al ON s.album = al._id\n    # JOIN artists ar ON al.artist = ar._id\n    # WHERE ar.name = ?\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-4-artiest-naam-wijzigen","title":"Opgave 4: Artiest Naam Wijzigen","text":"<p>Vraag: Wijzig de naam van de band 'Mehitabel' in 'One Kitten'.</p> <pre><code>def update_artist_name(self, old_name: str, new_name: str) -&gt; bool:\n    \"\"\"Update artiest naam.\"\"\"\n    # TODO: Implementeer UPDATE met WHERE\n    # Return True als gelukt, False anders\n    # Gebruik cursor.rowcount om te checken of er iets is gewijzigd\n    pass\n</code></pre> <p>Test: </p><pre><code>if db.update_artist_name(\"Mehitabel\", \"One Kitten\"):\n    print(\"Artiest naam bijgewerkt\")\n\n# Verifieer\nsongs = db.get_songs_by_artist(\"One Kitten\")\nprint(f\"One Kitten heeft {len(songs)} songs\")\n</code></pre><p></p>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-5-unieke-song-titels","title":"Opgave 5: Unieke Song Titels","text":"<p>Vraag: Toon alle unieke song titels van 'Aerosmith' in alfabetische volgorde.</p> <p>Hint: Gebruik <code>SELECT DISTINCT</code></p> <pre><code>def get_unique_song_titles(self, artist_name: str) -&gt; list[Row]:\n    \"\"\"Haal unieke song titels op van een artiest.\"\"\"\n    # TODO: Gebruik SELECT DISTINCT s.title\n    # ORDER BY s.title\n    pass\n</code></pre> <p>Test: </p><pre><code>titles = db.get_unique_song_titles(\"Aerosmith\")\nprint(f\"Unieke Aerosmith songs: {len(titles)}\")\nfor song in titles:\n    print(f\"  - {song['title']}\")\n</code></pre><p></p>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-6-aantal-unieke-songs","title":"Opgave 6: Aantal Unieke Songs","text":"<p>Vraag: Tel het aantal unieke songs van 'Aerosmith'.</p> <p>Hint: Gebruik <code>SELECT COUNT(DISTINCT ...)</code></p> <pre><code>def count_unique_songs(self, artist_name: str) -&gt; int:\n    \"\"\"Tel unieke songs van een artiest.\"\"\"\n    # TODO: Gebruik COUNT(DISTINCT s.title)\n    # Return 0 als artiest niet bestaat\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-7-aantal-albums","title":"Opgave 7: Aantal Albums","text":"<p>Vraag: Tel het aantal unieke albums van 'Aerosmith'.</p> <pre><code>def count_albums(self, artist_name: str) -&gt; int:\n    \"\"\"Tel aantal albums van een artiest.\"\"\"\n    # TODO: JOIN artists met albums\n    # COUNT(DISTINCT al._id) of COUNT(al._id) als elke album_id uniek is\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#bonusopdracht-1-top-5-artiesten","title":"Bonusopdracht 1: Top 5 Artiesten","text":"<p>Maak een method die de top 5 artiesten met de meeste songs laat zien:</p> <pre><code>def get_top_artists(self, limit: int = 5) -&gt; list[Row]:\n    \"\"\"Haal top artiesten op basis van aantal songs.\"\"\"\n    # TODO: GROUP BY artist\n    # COUNT(*) as song_count\n    # ORDER BY song_count DESC\n    # LIMIT ?\n    pass\n</code></pre> <p>Verwachte output format: </p><pre><code>Top 5 artiesten:\n1. Deep Purple (57 songs)\n2. Iron Maiden (45 songs)\n...\n</code></pre><p></p>"},{"location":"week3/oefeningen/sql-oefening2.html#bonusopdracht-2-langste-album","title":"Bonusopdracht 2: Langste Album","text":"<p>Vind het album met de meeste songs:</p> <pre><code>def get_longest_album(self) -&gt; Row | None:\n    \"\"\"Vind album met meeste songs.\"\"\"\n    # TODO: GROUP BY album\n    # COUNT(*) as song_count\n    # ORDER BY song_count DESC\n    # LIMIT 1\n    # Include artiest naam (JOIN met artists)\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#bonusopdracht-3-complete-catalogus","title":"Bonusopdracht 3: Complete Catalogus","text":"<p>Maak een method die een complete artiest catalogus laat zien (artiest \u2192 albums \u2192 songs):</p> <pre><code>def get_artist_catalog(self, artist_name: str) -&gt; dict:\n    \"\"\"Haal complete catalogus op van een artiest.\"\"\"\n    # Return format:\n    # {\n    #     'artist': 'Deep Purple',\n    #     'albums': [\n    #         {\n    #             'name': 'Machine Head',\n    #             'songs': [\n    #                 {'track': 1, 'title': 'Highway Star'},\n    #                 {'track': 2, 'title': 'Maybe I'm a Leo'},\n    #                 ...\n    #             ]\n    #         },\n    #         ...\n    #     ]\n    # }\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#main-functie","title":"Main Functie","text":"<p>Schrijf een main functie die alle queries demonstreert:</p> <pre><code>def main():\n    db = MusicDatabase()\n\n    print(\"=== Opgave 1: Songs van Forbidden ===\")\n    # ...\n\n    print(\"\\n=== Opgave 2: Gesorteerd op Track ===\")\n    # ...\n\n    # etc.\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#verwachte-output-voorbeelden","title":"Verwachte Output Voorbeelden","text":"<pre><code>=== Opgave 1: Songs van Forbidden ===\nAfter Forever\nThe Illusion of Power\nGet a Grip\nCan't Get Close Enough\nShaking Off The Chains\nI Witness\nCross of Thorns\nPsychophobia\nThe Hand That Rocks The Cradle\nCardinal Sin\nForbidden\nRusty Angels\n\n=== Opgave 5: Unieke Aerosmith Songs ===\nUnieke Aerosmith songs: 79\n  - Adam's Apple\n  - Ain't Got You\n  - Amazing\n  ...\n\n=== Opgave 7: Aantal Albums ===\nAerosmith heeft 15 albums\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#checklist","title":"Checklist","text":"<p>\u2705 Alle queries gebruiken placeholders (<code>?</code>) \u2705 Context managers (<code>with</code>) gebruikt \u2705 Type hints op alle methods \u2705 row_factory = Row gebruikt \u2705 JOIN queries correct (INNER JOIN standaard) \u2705 DISTINCT voor unieke waarden \u2705 COUNT voor aggregaties \u2705 ORDER BY voor sortering \u2705 Helper method <code>_execute_query</code> gebruikt</p>"},{"location":"week3/oefeningen/sql-oefening3.html","title":"Oefening 3: SQL Injection Beveiliging","text":""},{"location":"week3/oefeningen/sql-oefening3.html#oefening-3-sql-injection-beveiliging","title":"Oefening 3: SQL Injection Beveiliging","text":"<p>Deze oefening past bij SQL Deel 5.</p> <p>In deze oefening ga je zelf ervaren hoe SQL injection werkt en hoe je het voorkomt. Je bouwt een login systeem en test het met bekende SQL injection aanvallen.</p>"},{"location":"week3/oefeningen/sql-oefening3.html#voorbereiding","title":"Voorbereiding","text":"<p>Maak een Python bestand <code>auth_system.py</code> met een basis class voor gebruikersbeheer:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass AuthDatabase:\n    \"\"\"Gebruikersauthenticatie database.\"\"\"\n\n    def __init__(self, db_path: str = \"users.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak users tabel aan.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    username TEXT NOT NULL UNIQUE,\n                    password TEXT NOT NULL,\n                    email TEXT NOT NULL,\n                    is_admin BOOLEAN DEFAULT 0\n                )\n            \"\"\")\n            conn.commit()\n\n    def add_user(self, username: str, password: str, email: str, is_admin: bool = False) -&gt; int:\n        \"\"\"Voeg user toe (veilig met placeholders).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"INSERT INTO users (username, password, email, is_admin) VALUES (?, ?, ?, ?)\",\n                (username, password, email, is_admin)\n            )\n            conn.commit()\n            return cursor.lastrowid\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-1-onveilige-login-gevaarlijk","title":"Opgave 1: Onveilige Login (GEVAARLIJK!)","text":"<p>Doel: Zie met eigen ogen hoe SQL injection werkt.</p> <p>Voeg deze onveilige login method toe:</p> <pre><code>def login_unsafe(self, username: str, password: str) -&gt; Row | None:\n    \"\"\"GEVAARLIJK - gebruik f-string in SQL!\"\"\"\n    # TODO: Implementeer deze ONVEILIGE method\n    # - Gebruik een f-string om de query te maken\n    # - Query: SELECT * FROM users WHERE username = '{username}' AND password = '{password}'\n    # - Return de user row als gevonden, None anders\n    # - GEBRUIK GEEN PLACEHOLDERS (dat is juist de fout!)\n    pass\n</code></pre> <p>Test met normale input \u00e9n SQL injection:</p> <pre><code>db = AuthDatabase()\n\n# Voeg test users toe\ndb.add_user(\"jan\", \"geheim123\", \"jan@email.nl\", is_admin=False)\ndb.add_user(\"admin\", \"super_secret\", \"admin@email.nl\", is_admin=True)\n\n# Test 1: Normale login (werkt)\nuser = db.login_unsafe(\"jan\", \"geheim123\")\nprint(f\"Test 1: {user['username'] if user else 'Geen match'}\")\n\n# Test 2: Verkeerd wachtwoord (werkt niet)\nuser = db.login_unsafe(\"jan\", \"fout_wachtwoord\")\nprint(f\"Test 2: {user['username'] if user else 'Geen match'}\")\n\n# Test 3: SQL injection attack! \u26a0\ufe0f\nuser = db.login_unsafe(\"admin' --\", \"whatever\")\nprint(f\"Test 3: {user['username'] if user else 'Geen match'}\")  # GEVAAR: ingelogd als admin!\n</code></pre> <p>Vraag: Wat gebeurt er bij Test 3? Waarom werkt deze aanval?</p> Klik voor uitleg  De query wordt: <pre><code>SELECT * FROM users WHERE username = 'admin' --' AND password = 'whatever'\n</code></pre>  De `--` maakt alles daarna commentaar, dus de password check wordt overgeslagen!"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-2-sql-injection-aanvallen-testen","title":"Opgave 2: SQL Injection Aanvallen Testen","text":"<p>Test je <code>login_unsafe()</code> met deze bekende SQL injection strings:</p> <pre><code># SQL injection test strings\ninjection_tests = [\n    (\"admin' --\", \"anything\"),           # Commentaar truc\n    (\"' OR '1'='1\", \"' OR '1'='1\"),      # Altijd waar\n    (\"admin' OR '1'='1' --\", \"\"),        # Combinatie\n]\n\nprint(\"\\n=== SQL Injection Tests ===\")\nfor username, password in injection_tests:\n    user = db.login_unsafe(username, password)\n    if user:\n        print(f\"\u26a0\ufe0f  GEVAAR: Ingelogd als '{user['username']}' (admin={user['is_admin']})\")\n    else:\n        print(f\"\u2705 Geblokkeerd: {username}\")\n</code></pre> <p>Vraag: Welke aanvallen werken? Probeer te begrijpen waarom.</p>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-3-veilige-login-method","title":"Opgave 3: Veilige Login Method","text":"<p>Doel: Implementeer een veilige login met placeholders.</p> <pre><code>def login_safe(self, username: str, password: str) -&gt; Row | None:\n    \"\"\"Veilige login met placeholders.\"\"\"\n    # TODO: Implementeer deze VEILIGE method\n    # - Gebruik placeholders (?)\n    # - Query: SELECT * FROM users WHERE username = ? AND password = ?\n    # - Gebruik row_factory = Row\n    # - Return de user row als gevonden, None anders\n    pass\n</code></pre> <p>Test met dezelfde SQL injection strings:</p> <pre><code>print(\"\\n=== Veilige Login Tests ===\")\nfor username, password in injection_tests:\n    user = db.login_safe(username, password)\n    if user:\n        print(f\"\u26a0\ufe0f  Ingelogd als '{user['username']}'\")\n    else:\n        print(f\"\u2705 Geblokkeerd: {username}\")\n\n# Test normale login (moet nog steeds werken!)\nuser = db.login_safe(\"jan\", \"geheim123\")\nprint(f\"\\nNormale login: {user['username'] if user else 'Geen match'}\")\n</code></pre> <p>Vraag: Wat is het verschil? Waarom werken de aanvallen nu niet meer?</p>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-4-veilige-search-functie","title":"Opgave 4: Veilige Search Functie","text":"<p>Implementeer een veilige zoekfunctie met <code>LIKE</code>:</p> <pre><code>def search_users(self, search_term: str) -&gt; list[Row]:\n    \"\"\"Zoek gebruikers op basis van username of email.\"\"\"\n    # TODO: Implementeer veilige search\n    # - Gebruik LIKE met placeholders\n    # - Zoek in username EN email (OR)\n    # - Return lijst van users (zonder passwords!)\n    # Tip: SELECT id, username, email FROM users WHERE username LIKE ? OR email LIKE ?\n    pass\n</code></pre> <p>Test met SQL injection pogingen:</p> <pre><code># Normale search\nusers = db.search_users(\"jan\")\nprint(f\"\\nSearch 'jan': {len(users)} resultaten\")\n\n# SQL injection poging\nusers = db.search_users(\"'; DROP TABLE users; --\")\nprint(f\"Search met injection: {len(users)} resultaten\")  # Moet 0 zijn (veilig!)\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-5-whitelist-validatie","title":"Opgave 5: Whitelist Validatie","text":"<p>Soms kun je geen placeholders gebruiken (bijvoorbeeld bij table names). Dan moet je input valideren met een whitelist.</p> <p>Implementeer een method die data ophaalt uit verschillende tabellen:</p> <pre><code>def get_all_from_table(self, table_name: str) -&gt; list[Row]:\n    \"\"\"Haal alle records op uit een tabel (met whitelist validatie).\"\"\"\n    # TODO: Implementeer met whitelist\n    # - Maak een lijst van toegestane tabellen: [\"users\"]\n    # - Check of table_name in de whitelist staat\n    # - Raise ValueError als niet toegestaan\n    # - Gebruik f-string voor table name (nu veilig omdat gevalideerd!)\n    # - Query: SELECT * FROM {table_name}\n    pass\n</code></pre> <p>Test:</p> <pre><code># Toegestane tabel - werkt\nusers = db.get_all_from_table(\"users\")\nprint(f\"\\nUsers tabel: {len(users)} records\")\n\n# SQL injection poging - wordt geblokkeerd\ntry:\n    db.get_all_from_table(\"users; DROP TABLE users; --\")\nexcept ValueError as e:\n    print(f\"\u2705 Geblokkeerd: {e}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#bonusopdracht-1-login-met-rate-limiting","title":"Bonusopdracht 1: Login Met Rate Limiting","text":"<p>Voeg een simpele vorm van rate limiting toe om brute force aanvallen te voorkomen:</p> <pre><code>class AuthDatabase:\n    def __init__(self, db_path: str = \"users.db\"):\n        self.db_path = db_path\n        self._create_table()\n        self.login_attempts = {}  # {username: aantal_pogingen}\n\n    def login_with_rate_limit(self, username: str, password: str, max_attempts: int = 3) -&gt; Row | None:\n        \"\"\"Login met rate limiting.\"\"\"\n        # TODO: Implementeer rate limiting\n        # - Check of username al max_attempts heeft bereikt\n        # - Zo ja: return None en print waarschuwing\n        # - Zo nee: probeer login_safe()\n        # - Bij succes: reset attempts voor deze user\n        # - Bij falen: verhoog attempts voor deze user\n        pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#bonusopdracht-2-password-hashing","title":"Bonusopdracht 2: Password Hashing","text":"<p>In productie sla je nooit plain text passwords op! Gebruik een hash:</p> <pre><code>import hashlib\n\nclass AuthDatabase:\n    def _hash_password(self, password: str) -&gt; str:\n        \"\"\"Hash password met SHA256.\"\"\"\n        return hashlib.sha256(password.encode()).hexdigest()\n\n    def add_user_hashed(self, username: str, password: str, email: str, is_admin: bool = False) -&gt; int:\n        \"\"\"Voeg user toe met gehashed password.\"\"\"\n        # TODO: Gebruik _hash_password() voordat je password opslaat\n        pass\n\n    def login_hashed(self, username: str, password: str) -&gt; Row | None:\n        \"\"\"Login met gehashed password compare.\"\"\"\n        # TODO: Hash input password en vergelijk met database\n        # Tip: Haal user op met username, vergelijk gehashte passwords\n        pass\n</code></pre> <p>Let op: SHA256 is NIET veilig genoeg voor productie! Gebruik in echte applicaties libraries zoals <code>bcrypt</code> of <code>argon2</code>.</p>"},{"location":"week3/oefeningen/sql-oefening3.html#verwachte-output","title":"Verwachte Output","text":"<pre><code>Test 1: jan\nTest 2: Geen match\nTest 3: admin  \u2190 GEVAAR!\n\n=== SQL Injection Tests ===\n\u26a0\ufe0f  GEVAAR: Ingelogd als 'admin' (admin=1)\n\u26a0\ufe0f  GEVAAR: Ingelogd als 'jan' (admin=0)\n\u26a0\ufe0f  GEVAAR: Ingelogd als 'admin' (admin=1)\n\n=== Veilige Login Tests ===\n\u2705 Geblokkeerd: admin' --\n\u2705 Geblokkeerd: ' OR '1'='1\n\u2705 Geblokkeerd: admin' OR '1'='1' --\n\nNormale login: jan\n\nSearch 'jan': 1 resultaten\nSearch met injection: 0 resultaten\n\nUsers tabel: 2 records\n\u2705 Geblokkeerd: Invalid table: users; DROP TABLE users; --\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#checklist","title":"Checklist","text":"<p>\u2705 <code>login_unsafe()</code> ge\u00efmplementeerd (met f-string - FOUT!) \u2705 SQL injection aanvallen getest en begrepen \u2705 <code>login_safe()</code> ge\u00efmplementeerd (met placeholders) \u2705 <code>search_users()</code> met LIKE en placeholders \u2705 <code>get_all_from_table()</code> met whitelist validatie \u2705 Verschil tussen unsafe en safe begrepen \u2705 Nooit f-strings of concatenatie met user input in SQL \u2705 Altijd placeholders (<code>?</code>) voor values</p>"},{"location":"week3/oefeningen/sql-oefening3.html#belangrijke-lessen","title":"Belangrijke Lessen","text":"<ol> <li>Placeholders zijn de ENIGE veilige methode voor values in SQL</li> <li>F-strings/concatenatie met user input = SQL injection risico</li> <li>Whitelist validatie voor table/column names (placeholders werken daar niet)</li> <li>Test altijd met bekende injection strings</li> <li>Hash passwords (nooit plain text)</li> </ol> <p>Tip: Test je eigen Flask applicaties altijd met deze strings. Als ze niet gewoon als letterlijke tekst behandeld worden, heb je een probleem!</p>"},{"location":"week3/oefeningen/sql-oefening4.html","title":"Oefening 4: Database Exception Handling","text":""},{"location":"week3/oefeningen/sql-oefening4.html#oefening-4-database-exception-handling","title":"Oefening 4: Database Exception Handling","text":"<p>Deze oefening past bij SQL Deel 6.</p> <p>In deze oefening leer je database-specifieke exceptions afvangen en netjes afhandelen. Je bouwt een producten database met constraints en test wat er gebeurt bij verschillende fouten.</p>"},{"location":"week3/oefeningen/sql-oefening4.html#voorbereiding","title":"Voorbereiding","text":"<p>Maak een Python bestand <code>shop_db.py</code> met een basis product database class:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\nimport logging\n\n# Setup logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\nclass ProductDatabase:\n    \"\"\"Product database met error handling.\"\"\"\n\n    def __init__(self, db_path: str = \"shop.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak products tabel aan met constraints.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS products (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    name TEXT NOT NULL UNIQUE,\n                    price REAL NOT NULL CHECK(price &gt; 0),\n                    stock INTEGER NOT NULL CHECK(stock &gt;= 0),\n                    category TEXT NOT NULL\n                )\n            \"\"\")\n            conn.commit()\n            logger.info(\"Products tabel aangemaakt\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-1-basic-error-handling","title":"Opgave 1: Basic Error Handling","text":"<p>Implementeer een <code>add_product()</code> method zonder error handling, test deze en observeer wat er gebeurt:</p> <pre><code>def add_product_unsafe(self, name: str, price: float, stock: int, category: str) -&gt; int:\n    \"\"\"Voeg product toe ZONDER error handling.\"\"\"\n    # TODO: Implementeer deze method ZONDER try/except\n    # - Gebruik placeholders (veilig!)\n    # - Return lastrowid\n    # - Laat de method crashen bij fouten (dat is juist de bedoeling)\n    pass\n</code></pre> <p>Test met verschillende scenario's:</p> <pre><code>db = ProductDatabase()\n\n# Test 1: Normale toevoeging (werkt)\nproduct_id = db.add_product_unsafe(\"Laptop\", 799.99, 10, \"Electronics\")\nprint(f\"Product toegevoegd met ID {product_id}\")\n\n# Test 2: Duplicate naam (crasht!)\ntry:\n    db.add_product_unsafe(\"Laptop\", 899.99, 5, \"Electronics\")\nexcept sqlite3.IntegrityError as e:\n    print(f\"CRASH: {e}\")\n\n# Test 3: Negatieve prijs (crasht!)\ntry:\n    db.add_product_unsafe(\"Monitor\", -50.00, 3, \"Electronics\")\nexcept sqlite3.IntegrityError as e:\n    print(f\"CRASH: {e}\")\n\n# Test 4: Lege naam (crasht!)\ntry:\n    db.add_product_unsafe(\"\", 299.99, 2, \"Electronics\")\nexcept sqlite3.IntegrityError as e:\n    print(f\"CRASH: {e}\")\n</code></pre> <p>Vraag: Welke errors krijg je? Wat staat er in de error messages?</p>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-2-integrityerror-handling","title":"Opgave 2: IntegrityError Handling","text":"<p>Nu ga je errors netjes afvangen. Implementeer een veilige versie:</p> <pre><code>def add_product(self, name: str, price: float, stock: int, category: str) -&gt; int | None:\n    \"\"\"Voeg product toe met error handling.\"\"\"\n    # TODO: Implementeer met try/except\n    # - Vang sqlite3.IntegrityError af (voor UNIQUE, CHECK, NOT NULL)\n    # - Check of \"UNIQUE\" in error message staat\n    # - Check of \"CHECK\" in error message staat\n    # - Check of \"NOT NULL\" in error message staat\n    # - Log de juiste foutmelding (logger.warning)\n    # - Return None bij fout, lastrowid bij succes\n    pass\n</code></pre> <p>Test dezelfde scenario's:</p> <pre><code># Test met error handling\nprint(\"\\n=== Met Error Handling ===\")\n\n# Test 1: Succesvol\nproduct_id = db.add_product(\"Laptop\", 799.99, 10, \"Electronics\")\nif product_id:\n    print(f\"\u2705 Product toegevoegd met ID {product_id}\")\n\n# Test 2: Duplicate - netjes afgevangen\nproduct_id = db.add_product(\"Laptop\", 899.99, 5, \"Electronics\")\nif not product_id:\n    print(\"\u274c Product niet toegevoegd (bestaat al)\")\n\n# Test 3: Negatieve prijs - netjes afgevangen\nproduct_id = db.add_product(\"Monitor\", -50.00, 3, \"Electronics\")\nif not product_id:\n    print(\"\u274c Product niet toegevoegd (ongeldige prijs)\")\n\n# Test 4: Lege naam - netjes afgevangen\nproduct_id = db.add_product(\"\", 299.99, 2, \"Electronics\")\nif not product_id:\n    print(\"\u274c Product niet toegevoegd (naam is verplicht)\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-3-operationalerror-handling","title":"Opgave 3: OperationalError Handling","text":"<p>Implementeer een method om producten op te halen met error handling voor database problemen:</p> <pre><code>def get_all_products(self) -&gt; list[Row]:\n    \"\"\"Haal alle producten op met error handling.\"\"\"\n    # TODO: Implementeer met try/except\n    # - Vang sqlite3.OperationalError af\n    # - Check of \"no such table\" in error message staat\n    # - Check of \"locked\" in error message staat\n    # - Log de fout (logger.error)\n    # - Return lege lijst bij fout\n    pass\n</code></pre> <p>Test:</p> <pre><code># Normale ophaling\nproducts = db.get_all_products()\nprint(f\"\\n{len(products)} producten gevonden\")\n\n# Simuleer locked database (moeilijk te testen, maar error handling is klaar!)\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-4-update-met-error-handling","title":"Opgave 4: Update Met Error Handling","text":"<p>Implementeer een method om voorraad te updaten met validatie en error handling:</p> <pre><code>def update_stock(self, product_id: int, new_stock: int) -&gt; bool:\n    \"\"\"Update voorraad met validatie en error handling.\"\"\"\n    # TODO: Implementeer met error handling\n    # - Valideer dat new_stock &gt;= 0 (return False als niet)\n    # - Gebruik try/except voor database errors\n    # - Check cursor.rowcount om te zien of product bestaat\n    # - Log succesvolle updates (logger.info)\n    # - Log failures (logger.warning of logger.error)\n    # - Return True bij succes, False bij fout\n    pass\n</code></pre> <p>Test:</p> <pre><code># Test stock updates\nprint(\"\\n=== Stock Updates ===\")\n\n# Succesvolle update\nif db.update_stock(1, 15):\n    print(\"\u2705 Voorraad bijgewerkt\")\n\n# Negatieve voorraad (validatiefout)\nif not db.update_stock(1, -5):\n    print(\"\u274c Negatieve voorraad niet toegestaan\")\n\n# Non-existent product\nif not db.update_stock(999, 10):\n    print(\"\u274c Product niet gevonden\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-5-delete-met-error-handling","title":"Opgave 5: Delete Met Error Handling","text":"<p>Implementeer een delete method:</p> <pre><code>def delete_product(self, product_id: int) -&gt; bool:\n    \"\"\"Verwijder product met error handling.\"\"\"\n    # TODO: Implementeer met error handling\n    # - Gebruik try/except voor sqlite3.Error\n    # - Check cursor.rowcount\n    # - Log succesvolle deletes\n    # - Log als product niet bestaat\n    # - Return True bij succes, False bij fout\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-6-complete-error-handler","title":"Opgave 6: Complete Error Handler","text":"<p>Maak een method die verschillende errors kan onderscheiden:</p> <pre><code>def safe_add_product(self, name: str, price: float, stock: int, category: str) -&gt; tuple[bool, str]:\n    \"\"\"Voeg product toe en return (success, message).\"\"\"\n    # TODO: Implementeer met gedetailleerde error messages\n    # Return voorbeelden:\n    # - (True, \"Product toegevoegd met ID 5\")\n    # - (False, \"Product naam bestaat al\")\n    # - (False, \"Prijs moet positief zijn\")\n    # - (False, \"Naam is verplicht\")\n    # - (False, \"Database error: ...\")\n    #\n    # Vang verschillende exceptions af:\n    # - sqlite3.IntegrityError met specifieke checks\n    # - sqlite3.OperationalError\n    # - sqlite3.Error (catch-all)\n    pass\n</code></pre> <p>Test:</p> <pre><code>print(\"\\n=== Safe Add Product ===\")\n\ntest_cases = [\n    (\"Keyboard\", 49.99, 20, \"Electronics\"),      # Succes\n    (\"Keyboard\", 59.99, 10, \"Electronics\"),      # Duplicate\n    (\"Mouse\", -10.00, 5, \"Electronics\"),         # Negatieve prijs\n    (\"\", 29.99, 3, \"Electronics\"),               # Lege naam\n    (\"Webcam\", 89.99, -2, \"Electronics\"),        # Negatieve stock\n]\n\nfor name, price, stock, category in test_cases:\n    success, message = db.safe_add_product(name, price, stock, category)\n    status = \"\u2705\" if success else \"\u274c\"\n    print(f\"{status} {message}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#bonusopdracht-1-custom-exception-class","title":"Bonusopdracht 1: Custom Exception Class","text":"<p>Maak een custom exception voor product-specifieke fouten:</p> <pre><code>class ProductError(Exception):\n    \"\"\"Custom exception voor product errors.\"\"\"\n    pass\n\n\nclass ProductDatabase:\n    def add_product_custom(self, name: str, price: float, stock: int, category: str) -&gt; int:\n        \"\"\"Voeg product toe met custom exceptions.\"\"\"\n        # TODO: Implementeer met custom exceptions\n        # - Raise ProductError(\"Product naam bestaat al\") bij duplicate\n        # - Raise ProductError(\"Prijs moet positief zijn\") bij &lt; 0\n        # - Raise ProductError(\"Voorraad kan niet negatief zijn\") bij &lt; 0\n        # - Vang sqlite3 errors en converteer naar ProductError\n        pass\n</code></pre> <p>Gebruik:</p> <pre><code>try:\n    db.add_product_custom(\"Laptop\", 799.99, 10, \"Electronics\")\n    print(\"\u2705 Product toegevoegd\")\nexcept ProductError as e:\n    print(f\"\u274c {e}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#bonusopdracht-2-transaction-error-handling","title":"Bonusopdracht 2: Transaction Error Handling","text":"<p>Implementeer een method die meerdere producten toevoegt in een transactie:</p> <pre><code>def add_products_batch(self, products: list[tuple]) -&gt; tuple[int, list[str]]:\n    \"\"\"Voeg meerdere producten toe in \u00e9\u00e9n transactie.\n\n    Returns:\n        (aantal_toegevoegd, lijst_met_errors)\n    \"\"\"\n    # TODO: Implementeer met transactie\n    # - Gebruik \u00e9\u00e9n connection voor alle inserts\n    # - Bij fout: rollback (automatisch met context manager)\n    # - Bij succes: commit (automatisch met context manager)\n    # - Return aantal succesvolle inserts en lijst met error messages\n    # - Hint: Gebruik niet automatisch commit, doe handmatig conn.rollback() bij fout\n    pass\n</code></pre> <p>Test:</p> <pre><code>products = [\n    (\"Phone\", 599.99, 15, \"Electronics\"),\n    (\"Tablet\", 399.99, 8, \"Electronics\"),\n    (\"Invalid\", -50.00, 3, \"Electronics\"),  # Deze faalt\n]\n\nadded, errors = db.add_products_batch(products)\nprint(f\"\\n{added} producten toegevoegd, {len(errors)} fouten\")\nfor error in errors:\n    print(f\"  - {error}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#verwachte-output","title":"Verwachte Output","text":"<pre><code>INFO:__main__:Products tabel aangemaakt\nProduct toegevoegd met ID 1\nCRASH: UNIQUE constraint failed: products.name\nCRASH: CHECK constraint failed: price &gt; 0\nCRASH: NOT NULL constraint failed: products.name\n\n=== Met Error Handling ===\nINFO:__main__:Product 'Laptop' toegevoegd met ID 1\n\u2705 Product toegevoegd met ID 1\nWARNING:__main__:Product 'Laptop' bestaat al\n\u274c Product niet toegevoegd (bestaat al)\nWARNING:__main__:Ongeldige waarde voor 'Monitor': prijs=-50.0, stock=3\n\u274c Product niet toegevoegd (ongeldige prijs)\nWARNING:__main__:Product '' kon niet worden toegevoegd\n\u274c Product niet toegevoegd (naam is verplicht)\n\n3 producten gevonden\n\n=== Stock Updates ===\nINFO:__main__:Stock update voor product 1: 15\n\u2705 Voorraad bijgewerkt\nWARNING:__main__:Negatieve voorraad niet toegestaan: -5\n\u274c Negatieve voorraad niet toegestaan\nWARNING:__main__:Product 999 niet gevonden\n\u274c Product niet gevonden\n\n=== Safe Add Product ===\n\u2705 Product toegevoegd met ID 2\n\u274c Product naam bestaat al\n\u274c Prijs moet positief zijn\n\u274c Naam is verplicht\n\u274c Voorraad kan niet negatief zijn\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#checklist","title":"Checklist","text":"<p>\u2705 Database-specifieke exceptions gebruikt (<code>IntegrityError</code>, <code>OperationalError</code>) \u2705 Error messages onderscheiden (UNIQUE, CHECK, NOT NULL) \u2705 Logging gebruikt (<code>logger.info</code>, <code>logger.warning</code>, <code>logger.error</code>) \u2705 Type hints met <code>Optional</code> of <code>|</code> syntax \u2705 Return <code>None</code>, <code>False</code>, of lege lijst bij fouten (geen crash!) \u2705 <code>cursor.rowcount</code> gebruikt om te checken of iets gewijzigd is \u2705 Try/except patterns consequent toegepast \u2705 Context managers gebruikt (<code>with sqlite3.connect()</code>) \u2705 Gebruiksvriendelijke error messages \u2705 Validatie VOOR database operaties waar mogelijk</p>"},{"location":"week3/oefeningen/sql-oefening4.html#belangrijke-lessen","title":"Belangrijke Lessen","text":"<ol> <li>Specifieke exceptions: Gebruik <code>IntegrityError</code>, <code>OperationalError</code>, niet alleen <code>Exception</code></li> <li>Logging, niet print: <code>logger.error()</code> voor productie code</li> <li>Graceful degradation: Return safe defaults (None, [], False) bij errors</li> <li>Error message parsing: Check <code>str(e)</code> voor specifieke constraint violations</li> <li>Validatie: Check input voor database operaties</li> <li>Type hints: <code>Optional[int]</code>, <code>list[Row]</code>, <code>bool</code> voor duidelijkheid</li> <li>cursor.rowcount: Controleer of UPDATE/DELETE iets veranderd heeft</li> </ol> <p>Volgende stap: In Week 6 leer je SQLAlchemy, een ORM die veel van deze error handling automatisch doet!</p>"},{"location":"week4/flask-deel1.html","title":"Flask \u2013 Inleiding","text":""},{"location":"week4/flask-deel1.html#flask-inleiding","title":"Flask \u2013 Inleiding","text":"<p>Bestudeer ook de presentatie over Flask en Jinja via deze link (let op: je moet hiervoor wel inloggen in het Hanze-systeem)</p>"},{"location":"week4/flask-deel1.html#wat-is-flask","title":"Wat is Flask?","text":"<p>Flask is een webframework, het is een Python-module waarmee op eenvoudige wijze webapplicaties ontwikkeld kunnen worden. Het heeft een kleine en gemakkelijk uit te breiden kern: het is een microframework dat geen ORM (Object Relational Manager) of dergelijke functies bevat. Het heeft wel veel coole functies, zoals url-routing en een template-engine. Het is een WSGI-webapp-framework.</p> <p>Een Web Application Framework of gewoon een Web Framework vertegenwoordigt een verzameling bibliotheken en modules waarmee ontwikkelaars webtoepassingen kunnen schrijven zonder zich zorgen te hoeven maken over details op laag niveau, zoals protocol en threadbeheer.</p> <p>Flask is een framework voor webtoepassingen geschreven in Python. Het is ontwikkeld door Armin Ronacher, die leiding gaf aan een team van internationale Python-enthousiastelingen genaamd Poocoo. Flask is gebaseerd op de Werkzeug WSGI toolkit en de Jinja2 template engine.</p> <p>De Web Server Gateway Interface (WSGI) wordt gebruikt als standaard voor de ontwikkeling van Python-webapplicaties. WSGI is de specificatie van een gemeenschappelijke interface tussen webservers en webapplicaties.</p> <p>Werkzeug is een WSGI-toolkit die verzoeken, responsobjecten en hulpprogramma-functies implementeert. Hierdoor kan er een webframe op gebouwd worden. Het Flask-raamwerk gebruikt Werkzeug als \u00e9\u00e9n van de bases.</p> <p>Jinja2 is een populaire sjabloonengine voor Python. Een websjabloonsysteem combineert een sjabloon met een specifieke gegevensbron om een dynamische webpagina weer te geven. Hiermee kunnen Python-variabelen doorgegeven worden aan HTML-sjablonen.</p> <p>Een voorbeeld:</p> <pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;{{ titel }}&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hallo {{ gebruikersnaam }}&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Uit een database kunnen titel en gebruikersnaam opgevraagd worden en worden ingevoegd in een template. Deze waarden worden op het moment dat de pagina wordt opgevraagd door de template-engine gezet op de plaats van de corresponderende waarde tussen de dubbele accolades (<code>{</code> en <code>}</code>).</p> <p>Flask wordt dus een microframework genoemd. Het is ontworpen om de kern van de applicatie eenvoudig en schaalbaar te houden. In plaats van een abstractielaag voor database-ondersteuning, ondersteunt Flask uitbreidingen om dergelijke mogelijkheden aan de applicatie toe te voegen.</p>"},{"location":"week4/flask-deel1.html#waarom-is-flask-een-goede-keuze-voor-een-webframework","title":"Waarom is Flask een goede keuze voor een webframework?","text":"<p>Flask is specifiek voor Python gebouwd. Verder is het gemakkelijk om met Flask aan de slag te gaan, omdat het geen enorme leercurve heeft. Bovendien is het erg expliciet, wat de leesbaarheid vergroot. Er zijn slechts een aantal coderegels nodig om een \"Hello World\" -app te cre\u00ebren. Daarover zometeen meer.</p> <p>Het wordt dus een microframework genoemd, maar dat betekent niet dat de gehele app in \u00e9\u00e9n enkel Python-bestand ondergebracht hoeft te worden. Vaak is het gewenst en nodig meerdere bestanden te gebruiken voor grote en complexe programma's.</p> <p>Flask is \u00e9\u00e9n van de meest populaire webframeworks; het is up-to-date en modern. Bovendien is de functionaliteit op eenvoudige wijze uit te breiden.</p>"},{"location":"week4/flask-deel1.html#flask-in-deze-cursus","title":"Flask in deze cursus","text":"<p>In deze cursus leer je Flask stap voor stap:</p> <ul> <li>Week 4: Flask basics (routes, templates, Jinja2)</li> <li>Week 5: Flask + Forms (gebruikersinput afhandelen)</li> <li>Week 6: Flask + SQLAlchemy (databases met ORM)</li> </ul> <p>Je gebruikt dezelfde moderne tools (<code>uv</code>, <code>pyproject.toml</code>) als bij Week 2 (OOP) en Week 3 (SQL). Dit bereidt je voor op professionele webdevelopment!</p> <p>Volgende stap: In Deel 2 leer je hoe je Flask installeert met uv - dezelfde tool als bij OOP.</p>"},{"location":"week4/flask-deel2.html","title":"Flask \u2013 Project Setup met uv","text":""},{"location":"week4/flask-deel2.html#flask-project-setup-met-uv","title":"Flask \u2013 Project Setup met uv","text":"<p>In deze sectie leer je hoe je een modern Flask project opzet met uv - een snelle Python package manager die we ook bij OOP (Week 2) hebben gebruikt. Dezelfde tools, dezelfde workflow!</p>"},{"location":"week4/flask-deel2.html#wat-is-uv","title":"Wat is uv?","text":"<p>uv is een extreem snelle Python package en project manager, geschreven in Rust. Het combineert de functionaliteit van pip, venv, en andere tools in \u00e9\u00e9n simpele interface.</p> <p>Voordelen van uv: - \u26a1 Supersnel: 10-100x sneller dan pip - \ud83c\udfaf Eenvoudig: E\u00e9n tool voor alles (packages, virtual environments, project management) - \ud83d\udd12 Betrouwbaar: Automatische dependency resolution en lock files - \ud83c\udf93 Consistent: Je gebruikt dezelfde tool als bij OOP (Week 2)</p>"},{"location":"week4/flask-deel2.html#uv-installeren","title":"uv installeren","text":"<p>Als je uv nog niet hebt ge\u00efnstalleerd van Week 2, installeer het dan nu:</p> <pre><code>pip install uv\n</code></pre> <p>Alternatieve installatie methoden</p> <p>Je kunt uv ook installeren met:</p> <p>macOS/Linux (via curl): </p><pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre><p></p> <p>Windows (via PowerShell): </p><pre><code>powershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n</code></pre><p></p> <p>Zie uv documentatie voor meer opties.</p> <p>Controleer of uv correct is ge\u00efnstalleerd:</p> <pre><code>uv --version\n</code></pre> <p>Je zou een versienummer moeten zien (bijv. <code>uv 0.4.30</code>).</p>"},{"location":"week4/flask-deel2.html#flask-project-aanmaken","title":"Flask project aanmaken","text":""},{"location":"week4/flask-deel2.html#stap-1-project-directory-maken","title":"Stap 1: Project directory maken","text":"<p>Maak een nieuwe directory voor je Flask project:</p> <pre><code>mkdir mijn-flask-app\ncd mijn-flask-app\n</code></pre>"},{"location":"week4/flask-deel2.html#stap-2-python-project-initialiseren","title":"Stap 2: Python project initialiseren","text":"<p>Initialiseer een nieuw Python project met uv:</p> <pre><code>uv init\n</code></pre> <p>Dit maakt automatisch: - <code>pyproject.toml</code> - Project configuratie en dependencies - <code>.python-version</code> - Python versie voor dit project - <code>hello.py</code> - Een voorbeeld bestand (kun je verwijderen)</p>"},{"location":"week4/flask-deel2.html#stap-3-flask-installeren","title":"Stap 3: Flask installeren","text":"<p>Installeer Flask met uv:</p> <pre><code>uv add flask\n</code></pre> <p>Dit doet automatisch: - \u2705 Installeert Flask - \u2705 Maakt een virtual environment (<code>.venv/</code>) - \u2705 Update <code>pyproject.toml</code> met Flask dependency - \u2705 Maakt <code>uv.lock</code> voor reproduceerbare builds</p> <p>Je <code>pyproject.toml</code> ziet er nu ongeveer zo uit:</p> <pre><code>[project]\nname = \"mijn-flask-app\"\nversion = \"0.1.0\"\ndescription = \"Een Flask webapplicatie\"\nreadme = \"README.md\"\nrequires-python = \"&gt;=3.12\"\ndependencies = [\n    \"flask&gt;=3.1.0\",\n]\n</code></pre> <p>Virtual environment</p> <p>uv maakt automatisch een virtual environment in <code>.venv/</code>. Deze wordt automatisch gebruikt wanneer je <code>uv run</code> gebruikt - je hoeft niets te activeren!</p>"},{"location":"week4/flask-deel2.html#je-eerste-flask-app","title":"Je eerste Flask app","text":""},{"location":"week4/flask-deel2.html#stap-4-maak-apppy","title":"Stap 4: Maak app.py","text":"<p>Verwijder het voorbeeld bestand en maak een nieuwe <code>app.py</code>:</p> <pre><code>rm hello.py\n</code></pre> <p>Maak <code>app.py</code> met deze inhoud:</p> <pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage route.\"\"\"\n    return \"&lt;h1&gt;Welkom bij mijn Flask app!&lt;/h1&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/flask-deel2.html#stap-5-flask-app-runnen","title":"Stap 5: Flask app runnen","text":"<p>Run je app met uv:</p> <pre><code>uv run python app.py\n</code></pre> <p>Of korter (uv zoekt automatisch naar Python bestanden):</p> <pre><code>uv run app.py\n</code></pre> <p>Je ziet output zoals:</p> <pre><code> * Serving Flask app 'app'\n * Debug mode: on\n * Running on http://127.0.0.1:5000\nPress CTRL+C to quit\n * Restarting with stat\n * Debugger is active!\n</code></pre> <p>Open je browser en ga naar http://127.0.0.1:5000 - je ziet je eerste Flask pagina!</p> <p>Flask development server</p> <p>Met <code>debug=True</code> herstart de server automatisch bij code wijzigingen. Perfect voor development!</p>"},{"location":"week4/flask-deel2.html#project-structuur","title":"Project structuur","text":"<p>Je project ziet er nu zo uit:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 .python-version      # Python versie (bijv. 3.12)\n\u251c\u2500\u2500 .venv/               # Virtual environment (automatisch)\n\u251c\u2500\u2500 pyproject.toml       # Project configuratie\n\u251c\u2500\u2500 uv.lock              # Dependency lock file\n\u2514\u2500\u2500 app.py               # Je Flask applicatie\n</code></pre>"},{"location":"week4/flask-deel2.html#werken-met-uv-commands","title":"Werken met uv commands","text":""},{"location":"week4/flask-deel2.html#dependencies-toevoegen","title":"Dependencies toevoegen","text":"<p>Voeg packages toe met <code>uv add</code>:</p> <pre><code># Voeg requests toe\nuv add requests\n\n# Voeg development dependencies toe (bijv. pytest)\nuv add --dev pytest\n</code></pre>"},{"location":"week4/flask-deel2.html#dependencies-verwijderen","title":"Dependencies verwijderen","text":"<pre><code>uv remove requests\n</code></pre>"},{"location":"week4/flask-deel2.html#python-commandos-runnen","title":"Python commando's runnen","text":"<p>Gebruik <code>uv run</code> voor alle Python commando's:</p> <pre><code># Run Python bestand\nuv run app.py\n\n# Run Python module\nuv run -m flask --version\n\n# Open Python REPL\nuv run python\n</code></pre>"},{"location":"week4/flask-deel2.html#dependencies-installeren-nieuwe-machine","title":"Dependencies installeren (nieuwe machine)","text":"<p>Als je het project op een nieuwe machine kloont:</p> <pre><code>git clone &lt;repo&gt;\ncd mijn-flask-app\nuv sync\n</code></pre> <p>Dit installeert automatisch alle dependencies uit <code>uv.lock</code>.</p>"},{"location":"week4/flask-deel2.html#flask-development-mode","title":"Flask development mode","text":"<p>Voor development is het handig om Flask in development mode te runnen met de Flask CLI:</p> <pre><code>uv run flask --app app run --debug\n</code></pre> <p>Of korter, maak een <code>run.sh</code> (macOS/Linux) of <code>run.bat</code> (Windows):</p> <p>run.sh: </p><pre><code>#!/bin/bash\nuv run flask --app app run --debug\n</code></pre><p></p> <p>run.bat: </p><pre><code>@echo off\nuv run flask --app app run --debug\n</code></pre><p></p> <p>Maak executable (macOS/Linux): </p><pre><code>chmod +x run.sh\n./run.sh\n</code></pre><p></p>"},{"location":"week4/flask-deel2.html#vergelijking-uv-vs-pipvenv","title":"Vergelijking: uv vs pip/venv","text":"Taak pip/venv (oud) uv (modern) Installatie Ingebouwd in Python <code>pip install uv</code> Virtual env maken <code>python -m venv .venv</code> Automatisch bij <code>uv init</code> Virtual env activeren <code>source .venv/bin/activate</code> Niet nodig! <code>uv run</code> doet dit Package installeren <code>pip install flask</code><code>pip freeze &gt; requirements.txt</code> <code>uv add flask</code> Dependencies installeren <code>pip install -r requirements.txt</code> <code>uv sync</code> Python runnen <code>python app.py</code> (binnen venv) <code>uv run app.py</code> Dependencies updaten <code>pip install --upgrade flask</code> <code>uv add flask@latest</code> Lock file Handmatig (<code>pip freeze</code>) Automatisch (<code>uv.lock</code>)"},{"location":"week4/flask-deel2.html#veelvoorkomende-workflows","title":"Veelvoorkomende workflows","text":""},{"location":"week4/flask-deel2.html#development-workflow","title":"Development workflow","text":"<pre><code># 1. Project maken\nmkdir mijn-app &amp;&amp; cd mijn-app\nuv init\n\n# 2. Dependencies toevoegen\nuv add flask\n\n# 3. Code schrijven (app.py)\n\n# 4. Runnen\nuv run app.py\n\n# 5. Nieuwe package nodig?\nuv add requests\n\n# 6. Tests runnen (later)\nuv add --dev pytest\nuv run pytest\n</code></pre>"},{"location":"week4/flask-deel2.html#project-delen-git","title":"Project delen (Git)","text":"<p>In je <code>.gitignore</code>: </p><pre><code>.venv/\n__pycache__/\n*.pyc\n.DS_Store\n</code></pre><p></p> <p>Commit deze bestanden WEL: </p><pre><code>pyproject.toml\nuv.lock\n.python-version\n</code></pre><p></p> <p>Anderen kunnen dan je project gebruiken met: </p><pre><code>git clone &lt;repo&gt;\ncd &lt;repo&gt;\nuv sync\nuv run app.py\n</code></pre><p></p>"},{"location":"week4/flask-deel2.html#voordelen-van-deze-setup","title":"Voordelen van deze setup","text":"<p>\u2705 Geen activatie nodig: <code>uv run</code> doet alles automatisch \u2705 Reproduceerbaar: <code>uv.lock</code> zorgt dat iedereen dezelfde versies heeft \u2705 Snel: uv is 10-100x sneller dan pip \u2705 Eenvoudig: E\u00e9n tool voor alles \u2705 Modern: Dezelfde workflow als Week 2 (OOP) en Week 3 (SQL) \u2705 Professioneel: Gebruikt door bedrijven en open source projecten</p>"},{"location":"week4/flask-deel2.html#link-met-week-3-sql","title":"Link met Week 3 (SQL)","text":"<p>In Week 3 heb je geleerd werken met SQLite databases. Straks ga je Flask combineren met databases:</p> <pre><code>import sqlite3\nfrom flask import Flask, render_template\n\napp = Flask(__name__)\n\n@app.route(\"/products\")\ndef products() -&gt; str:\n    \"\"\"Haal producten op uit database.\"\"\"\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = sqlite3.Row\n        cursor = conn.execute(\"SELECT * FROM products\")\n        products = cursor.fetchall()\n\n    return render_template(\"products.html\", products=products)\n</code></pre> <p>Later (Week 6) leer je SQLAlchemy - een ORM die database operaties nog makkelijker maakt!</p>"},{"location":"week4/flask-deel2.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"week4/flask-deel2.html#uv-command-not-found","title":"\"uv: command not found\"","text":"<p>Installeer uv eerst: </p><pre><code>pip install uv\n</code></pre><p></p>"},{"location":"week4/flask-deel2.html#python-version-mismatch","title":"\"Python version mismatch\"","text":"<p>Check je Python versie: </p><pre><code>python --version\nuv python list\n</code></pre><p></p> <p>Installeer een specifieke Python versie met uv: </p><pre><code>uv python install 3.12\n</code></pre><p></p>"},{"location":"week4/flask-deel2.html#package-conflict","title":"\"Package conflict\"","text":"<p>Sync dependencies opnieuw: </p><pre><code>uv sync --refresh\n</code></pre><p></p>"},{"location":"week4/flask-deel2.html#virtual-environment-handmatig-activeren-soms-nodig-voor-editors","title":"Virtual environment handmatig activeren (soms nodig voor editors)","text":"<pre><code># macOS/Linux\nsource .venv/bin/activate\n\n# Windows PowerShell\n.\\.venv\\Scripts\\Activate.ps1\n\n# Windows CMD\n.\\.venv\\Scripts\\activate.bat\n</code></pre> <p>Deactiveren: </p><pre><code>deactivate\n</code></pre><p></p> <p>Maar normaal gesproken gebruik je gewoon <code>uv run</code> en hoef je niets te activeren!</p>"},{"location":"week4/flask-deel2.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>uv installeren met <code>pip install uv</code></li> <li>Flask project maken met <code>uv init</code> en <code>uv add flask</code></li> <li>Flask app runnen met <code>uv run app.py</code></li> <li>Project structuur met <code>pyproject.toml</code> en <code>uv.lock</code></li> <li>Development workflow zonder handmatige virtual environment activatie</li> <li>Link tussen Flask en SQL (Week 3)</li> </ul> <p>Volgende stap: In Deel 3 leer je de basale werking van Flask met routes, decorators en dynamische URLs.</p> <p>Tip: Deze setup gebruik je de rest van de cursus. Alle Flask projecten, ook met databases (Week 6), gebruiken uv!</p>"},{"location":"week4/flask-deel3.html","title":"Flask \u2013 Basale Werking","text":""},{"location":"week4/flask-deel3.html#flask-basale-werking","title":"Flask \u2013 Basale Werking","text":"<p>In dit deel leer je de fundamenten van Flask: hoe routes werken, hoe je dynamische URLs maakt, en hoe je de debug mode gebruikt. We gebruiken moderne Python patterns met type hints.</p> <p>Aan het eind van deze tekst maken we oefening 1.</p>"},{"location":"week4/flask-deel3.html#hoe-werkt-flask","title":"Hoe werkt Flask?","text":"<p>Vanuit vogelvluchtperspectief werkt Flask als volgt:</p> <ol> <li>Client stuurt request \u2192 Browser navigeert naar een URL (bijv. <code>/products</code>)</li> <li>Flask routeert request \u2192 Flask checkt welke functie bij deze route hoort</li> <li>Functie wordt uitgevoerd \u2192 De view-functie genereert een response (HTML, JSON, etc.)</li> <li>Response naar client \u2192 Browser toont de HTML of verwerkt de data</li> </ol> <p>Dit patroon heet het Request-Response Cycle en is fundamental voor alle webframeworks.</p>"},{"location":"week4/flask-deel3.html#je-eerste-flask-app","title":"Je eerste Flask app","text":"<p>We maken een bestand <code>app.py</code> waarin we de <code>Flask</code> class importeren en een instantie (applicatie object) maken:</p> <pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage route - retourneert een welkomstbericht.\"\"\"\n    return \"&lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/flask-deel3.html#code-uitleg-regel-voor-regel","title":"Code uitleg regel voor regel","text":"<p>Regel 1: <code>from flask import Flask</code> - Importeer de <code>Flask</code> class uit de flask module</p> <p>Regel 3: <code>app = Flask(__name__)</code> - Maak een Flask applicatie instance - <code>__name__</code> vertelt Flask waar templates en static files staan</p> <p>Regel 6: <code>@app.route(\"/\")</code> - Decorator die de functie hieronder koppelt aan een route - <code>/</code> is de homepage (root URL) - Als gebruiker naar <code>http://127.0.0.1:5000/</code> gaat, wordt <code>index()</code> aangeroepen</p> <p>Regel 7: <code>def index() -&gt; str:</code> - View function die HTML returnt - <code>-&gt; str</code> is een type hint (modern Python pattern!) - Docstring beschrijft wat de functie doet</p> <p>Regel 9: <code>return \"&lt;h1&gt;...&lt;/h1&gt;\"</code> - HTML string die naar de browser wordt gestuurd - Later vervangen we dit door templates</p> <p>Regel 12-13: <code>if __name__ == \"__main__\":</code> - Dit blok wordt alleen uitgevoerd als je dit bestand direct runt - Voorkomt dat de server start bij imports</p> <p>Regel 13: <code>app.run(debug=True)</code> - Start de development server - <code>debug=True</code> activeert auto-reload en betere foutmeldingen</p> <p>Type hints in Flask</p> <p>We gebruiken type hints (<code>-&gt; str</code>) bij alle Flask routes. Dit is modern Python en helpt editors met autocomplete en type checking!</p>"},{"location":"week4/flask-deel3.html#de-app-runnen","title":"De app runnen","text":"<p>Start je app met uv (vanuit Week \u2154 workflow):</p> <pre><code>uv run python app.py\n</code></pre> <p>Je ziet output zoals:</p> <pre><code> * Serving Flask app \"app\"\n * Debug mode: on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\n * Debugger is active!\n</code></pre> <p>Open je browser en ga naar <code>http://127.0.0.1:5000/</code>:</p> <p></p> <p>Development server</p> <p>De Flask development server is ALLEEN voor development! Voor productie gebruik je een echte WSGI server zoals Gunicorn of uWSGI.</p>"},{"location":"week4/flask-deel3.html#meerdere-routes","title":"Meerdere routes","text":"<p>Een webapplicatie heeft meestal meerdere pagina's. Voeg eenvoudig extra routes toe:</p> <pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage.\"\"\"\n    return \"&lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\"\n\n\n@app.route(\"/informatie\")\ndef info() -&gt; str:\n    \"\"\"Informatiepagina over de muziekschool.\"\"\"\n    return \"&lt;h1&gt;Dit hebben we jou te bieden:&lt;/h1&gt;&lt;p&gt;Piano, gitaar, drums, zang&lt;/p&gt;\"\n\n\n@app.route(\"/contact\")\ndef contact() -&gt; str:\n    \"\"\"Contactpagina.\"\"\"\n    return \"&lt;h1&gt;Neem contact op&lt;/h1&gt;&lt;p&gt;Email: info@session.nl&lt;/p&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Nu kun je naar drie verschillende URLs gaan: - <code>http://127.0.0.1:5000/</code> \u2192 Homepage - <code>http://127.0.0.1:5000/informatie</code> \u2192 Informatiepagina - <code>http://127.0.0.1:5000/contact</code> \u2192 Contactpagina</p> <p></p> <p>Auto-reload met debug mode</p> <p>Met <code>debug=True</code> hoef je de server niet handmatig te herstarten. Flask detecteert wijzigingen en herstart automatisch!</p>"},{"location":"week4/flask-deel3.html#404-pagina-niet-gevonden","title":"404 - Pagina niet gevonden","text":"<p>Als je naar een route gaat die niet bestaat (bijv. <code>http://127.0.0.1:5000/nope</code>), krijg je een 404 error:</p> <p></p> <p>Later leer je hoe je custom error pages maakt.</p>"},{"location":"week4/flask-deel3.html#dynamische-routes","title":"Dynamische routes","text":"<p>Wat als je honderden cursisten hebt, elk met hun eigen profielpagina? Je wilt niet voor elke cursist een aparte route schrijven!</p> <p>Oplossing: Dynamische routes met URL parameters.</p>"},{"location":"week4/flask-deel3.html#basis-voorbeeld","title":"Basis voorbeeld","text":"<pre><code>@app.route(\"/cursist/&lt;naam&gt;\")\ndef cursist(naam: str) -&gt; str:\n    \"\"\"Cursist profielpagina met dynamische naam.\n\n    Args:\n        naam: De naam van de cursist uit de URL\n    \"\"\"\n    return f\"&lt;h1&gt;Dit is de pagina van {naam}&lt;/h1&gt;\"\n</code></pre> <p>Hoe werkt dit: - <code>&lt;naam&gt;</code> in de route is een variabele - De waarde wordt uit de URL gehaald en doorgegeven aan de functie - <code>naam: str</code> is de parameter met type hint</p> <p>Voorbeelden: - <code>http://localhost:5000/cursist/Henk</code> \u2192 Pagina van Henk - <code>http://localhost:5000/cursist/Joyce</code> \u2192 Pagina van Joyce - <code>http://localhost:5000/cursist/Ralf</code> \u2192 Pagina van Ralf</p> <p></p>"},{"location":"week4/flask-deel3.html#url-parameters-met-types","title":"URL parameters met types","text":"<p>Je kunt het type van URL parameters specificeren:</p> <pre><code>@app.route(\"/product/&lt;int:product_id&gt;\")\ndef product(product_id: int) -&gt; str:\n    \"\"\"Product detailpagina.\n\n    Args:\n        product_id: ID van het product (integer)\n    \"\"\"\n    return f\"&lt;h1&gt;Product {product_id}&lt;/h1&gt;\"\n\n\n@app.route(\"/prijs/&lt;float:bedrag&gt;\")\ndef prijs(bedrag: float) -&gt; str:\n    \"\"\"Toon prijs met BTW.\n\n    Args:\n        bedrag: Prijs excl. BTW\n    \"\"\"\n    btw = bedrag * 0.21\n    totaal = bedrag + btw\n    return f\"&lt;p&gt;Excl: \u20ac{bedrag:.2f}&lt;br&gt;BTW: \u20ac{btw:.2f}&lt;br&gt;Totaal: \u20ac{totaal:.2f}&lt;/p&gt;\"\n</code></pre> <p>Beschikbare types: - <code>&lt;variabele&gt;</code> \u2192 string (default) - <code>&lt;int:variabele&gt;</code> \u2192 integer - <code>&lt;float:variabele&gt;</code> \u2192 float - <code>&lt;path:variabele&gt;</code> \u2192 string met slashes (voor file paths) - <code>&lt;uuid:variabele&gt;</code> \u2192 UUID string</p> <p></p>"},{"location":"week4/flask-deel3.html#meerdere-parameters","title":"Meerdere parameters","text":"<pre><code>@app.route(\"/les/&lt;string:instrument&gt;/&lt;int:niveau&gt;\")\ndef les(instrument: str, niveau: int) -&gt; str:\n    \"\"\"Lesinfo met instrument en niveau.\n\n    Args:\n        instrument: Type instrument (gitaar, piano, etc.)\n        niveau: Niveau (1=beginner, 2=gevorderd, 3=expert)\n    \"\"\"\n    niveau_naam = [\"beginner\", \"gevorderd\", \"expert\"][niveau - 1]\n    return f\"&lt;h1&gt;{instrument.capitalize()} - {niveau_naam}&lt;/h1&gt;\"\n</code></pre> <p>URL: <code>http://localhost:5000/les/gitaar/2</code> \u2192 \"Gitaar - gevorderd\"</p>"},{"location":"week4/flask-deel3.html#debug-mode-en-foutmeldingen","title":"Debug mode en foutmeldingen","text":""},{"location":"week4/flask-deel3.html#zonder-debug-mode","title":"Zonder debug mode","text":"<p>Voeg opzettelijk een fout toe:</p> <pre><code>@app.route(\"/fout/&lt;naam&gt;\")\ndef fout(naam: str) -&gt; str:\n    \"\"\"Demonstreer foutmelding (opzettelijke bug).\"\"\"\n    # Bug: probeer 20e karakter terwijl naam meestal korter is\n    return f\"De 20e letter van {naam} is {naam[20]}\"\n</code></pre> <p>Start server ZONDER debug: <code>app.run()</code> (zonder <code>debug=True</code>)</p> <p>Navigeer naar <code>http://localhost:5000/fout/Jan</code> (3 karakters, geen 20e):</p> <p></p> <p>Weinig informatie, moeilijk te debuggen!</p>"},{"location":"week4/flask-deel3.html#met-debug-mode","title":"Met debug mode","text":"<p>Zet <code>debug=True</code> aan: <code>app.run(debug=True)</code></p> <p>Nu krijg je een interactieve debugger:</p> <p></p> <p>Je ziet: - \u2705 Exacte foutmelding (<code>IndexError: string index out of range</code>) - \u2705 Stack trace met regelnummers - \u2705 Code context (welke regel crashte) - \u2705 Interactieve console (klik op console icoon, voer PIN in)</p> <p>Debug mode in productie</p> <p>NOOIT <code>debug=True</code> gebruiken in productie! Het toont sourcecode en staat remote code execution toe (via de debug console).</p> <p>Productie setup: </p><pre><code>if __name__ == \"__main__\":\n    # Development\n    app.run(debug=True)\nelse:\n    # Productie (via Gunicorn/uWSGI)\n    pass\n</code></pre><p></p>"},{"location":"week4/flask-deel3.html#best-practices","title":"Best practices","text":""},{"location":"week4/flask-deel3.html#type-hints-overal","title":"Type hints overal","text":"<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage.\"\"\"\n    return \"&lt;h1&gt;Welkom&lt;/h1&gt;\"\n\n\n@app.route(\"/user/&lt;int:user_id&gt;\")\ndef user(user_id: int) -&gt; str:\n    \"\"\"User profile.\n\n    Args:\n        user_id: ID van de gebruiker\n    \"\"\"\n    return f\"&lt;p&gt;User ID: {user_id}&lt;/p&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/flask-deel3.html#docstrings-voor-routes","title":"Docstrings voor routes","text":"<pre><code>@app.route(\"/product/&lt;int:product_id&gt;\")\ndef product(product_id: int) -&gt; str:\n    \"\"\"Product detailpagina.\n\n    Deze route toont details van een specifiek product.\n\n    Args:\n        product_id: Unieke identifier van het product\n\n    Returns:\n        HTML string met product informatie\n    \"\"\"\n    # Later: haal product op uit database\n    return f\"&lt;h1&gt;Product {product_id}&lt;/h1&gt;\"\n</code></pre>"},{"location":"week4/flask-deel3.html#consistente-naming","title":"Consistente naming","text":"<pre><code># Goed: lowercase met underscores\n@app.route(\"/my-page\")\ndef my_page() -&gt; str:\n    \"\"\"Route handler voor /my-page.\"\"\"\n    return \"&lt;p&gt;Content&lt;/p&gt;\"\n\n# Vermijd: CamelCase in functienamen\n@app.route(\"/other-page\")\ndef otherPage() -&gt; str:  # Niet Pythonic!\n    return \"&lt;p&gt;Content&lt;/p&gt;\"\n</code></pre>"},{"location":"week4/flask-deel3.html#voorbereiding-op-templates-deel-4","title":"Voorbereiding op Templates (Deel 4)","text":"<p>HTML in Python strings is niet handig voor grotere pagina's. Straks leer je Jinja2 templates:</p> <pre><code># Nu (deel 3):\n@app.route(\"/\")\ndef index() -&gt; str:\n    return \"&lt;h1&gt;Welkom&lt;/h1&gt;&lt;p&gt;Dit is de homepage&lt;/p&gt;\"\n\n# Straks (deel 4):\nfrom flask import render_template\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    return render_template(\"index.html\", title=\"Welkom\")\n</code></pre> <p>Met templates scheid je HTML (presentatie) van Python (logica)!</p>"},{"location":"week4/flask-deel3.html#link-met-week-3-sql","title":"Link met Week 3 (SQL)","text":"<p>Later combineer je Flask routes met databases:</p> <pre><code>import sqlite3\nfrom flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/products\")\ndef products() -&gt; str:\n    \"\"\"Toon alle producten uit database.\"\"\"\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = sqlite3.Row\n        cursor = conn.execute(\"SELECT * FROM products\")\n        results = cursor.fetchall()\n\n    # Nu: HTML in string (onhandig)\n    html = \"&lt;h1&gt;Producten&lt;/h1&gt;&lt;ul&gt;\"\n    for product in results:\n        html += f\"&lt;li&gt;{product['name']}: \u20ac{product['price']}&lt;/li&gt;\"\n    html += \"&lt;/ul&gt;\"\n    return html\n\n# Later (Week 6): met SQLAlchemy + templates!\n</code></pre>"},{"location":"week4/flask-deel3.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Flask app structuur: <code>Flask(__name__)</code>, routes, <code>app.run()</code></li> <li>Routes maken: <code>@app.route(\"/path\")</code></li> <li>Type hints: <code>-&gt; str</code> voor return types, <code>naam: str</code> voor parameters</li> <li>Dynamische routes: <code>&lt;naam&gt;</code>, <code>&lt;int:id&gt;</code>, <code>&lt;float:prijs&gt;</code></li> <li>Debug mode: Auto-reload en interactieve debugger</li> <li>Best practices: Type hints, docstrings, consistent naming</li> </ul> <p>Volgende stap: In Deel 4 leer je templates gebruiken met Jinja2 om HTML en Python te scheiden.</p> <p>Oefening: Maak nu oefening 1.</p> <p>Modern Flask pattern</p> <p>Deze patterns (type hints, docstrings, <code>uv</code>) gebruik je voor alle Flask projecten in deze cursus. In Week 6 voeg je SQLAlchemy toe voor database operaties!</p>"},{"location":"week4/flask-deel4.html","title":"Flask \u2013 Templates met Jinja2","text":""},{"location":"week4/flask-deel4.html#flask-templates-met-jinja2","title":"Flask \u2013 Templates met Jinja2","text":"<p>Tot nu toe heb je HTML als Python strings geretourneerd. Dat werkt voor kleine voorbeelden, maar voor echte webapplicaties gebruik je templates - HTML bestanden met placeholders voor dynamische data.</p> <p>Flask gebruikt Jinja2 als template engine. Jinja2 laat je variabelen, loops, conditionals en meer gebruiken in HTML. Dit scheidt presentatie (HTML) van logica (Python).</p> <p>Flask zoekt automatisch naar templates in de <code>templates/</code> directory in je project root.</p>"},{"location":"week4/flask-deel4.html#project-structuur-met-templates","title":"Project structuur met templates","text":"<p>Voor templates heb je twee extra directories nodig:</p> <pre><code>mkdir templates\nmkdir static\n</code></pre> <p>Je project structuur wordt dan:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 .python-version\n\u251c\u2500\u2500 .venv/\n\u251c\u2500\u2500 app.py\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 uv.lock\n\u251c\u2500\u2500 static/              # Voor CSS, images, JavaScript\n\u2502   \u2514\u2500\u2500 drums.jpg\n\u2514\u2500\u2500 templates/           # Voor HTML templates\n    \u2514\u2500\u2500 basic.html\n</code></pre> <p>Waarom <code>static/</code>? - Voor bestanden die niet veranderen: CSS, afbeeldingen, JavaScript - Flask serveert deze automatisch via <code>/static/</code> URL</p> <p>Waarom <code>templates/</code>? - Voor HTML bestanden met Jinja2 syntax - Flask rendert deze met dynamische data</p>"},{"location":"week4/flask-deel4.html#je-eerste-template","title":"Je eerste template","text":""},{"location":"week4/flask-deel4.html#stap-1-maak-een-html-template","title":"Stap 1: Maak een HTML template","text":"<p>Maak <code>templates/basic.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Basic Template&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\n        &lt;h2&gt;Dit drumstel wordt gebruikt tijdens de lessen&lt;/h2&gt;\n        &lt;img src=\"{{ url_for('static', filename='drums.jpg') }}\"\n             width=\"600\"\n             height=\"400\"\n             alt=\"Drumstel\"&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Let op: <code>{{ url_for('static', filename='drums.jpg') }}</code> - Jinja2 syntax voor dynamische URL generatie - Beter dan hardcoded <code>../static/drums.jpg</code> - Werkt ook als je app in een subdirectory draait</p>"},{"location":"week4/flask-deel4.html#stap-2-render-de-template-in-flask","title":"Stap 2: Render de template in Flask","text":"<p>Update <code>app.py</code>:</p> <pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met template rendering.\"\"\"\n    return render_template(\"basic.html\")\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Code uitleg: - <code>from flask import render_template</code> - Import render functie - <code>render_template(\"basic.html\")</code> - Flask zoekt in <code>templates/</code> en rendert de HTML - Return type blijft <code>str</code> (render_template retourneert HTML string)</p>"},{"location":"week4/flask-deel4.html#stap-3-run-en-test","title":"Stap 3: Run en test","text":"<pre><code>uv run python app.py\n</code></pre> <p>Ga naar <code>http://127.0.0.1:5000/</code> - je ziet de template met afbeelding!</p> <p></p>"},{"location":"week4/flask-deel4.html#variabelen-doorgeven-aan-templates","title":"Variabelen doorgeven aan templates","text":"<p>De kracht van templates zit in dynamische data. Je geeft Python variabelen door aan de template:</p>"},{"location":"week4/flask-deel4.html#basis-voorbeeld","title":"Basis voorbeeld","text":"<p>Template (<code>templates/welkom.html</code>):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Welkom&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hallo {{ naam }}!&lt;/h1&gt;\n        &lt;p&gt;Je bent cursist nummer {{ cursist_id }}&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Flask route (<code>app.py</code>):</p> <pre><code>@app.route(\"/cursist/&lt;naam&gt;\")\ndef cursist(naam: str) -&gt; str:\n    \"\"\"Cursist welkomstpagina met template.\n\n    Args:\n        naam: Naam van de cursist uit URL\n    \"\"\"\n    cursist_id = 42  # Later: haal dit op uit database\n    return render_template(\"welkom.html\", naam=naam, cursist_id=cursist_id)\n</code></pre> <p>Hoe werkt dit: - <code>{{ naam }}</code> in template wordt vervangen door waarde van <code>naam=naam</code> - <code>{{ cursist_id }}</code> wordt vervangen door <code>cursist_id=cursist_id</code> - Eerste <code>naam</code> = template variable, tweede <code>naam</code> = Python variable</p> <p>Result: Navigeer naar <code>http://localhost:5000/cursist/Joyce</code></p> <p></p>"},{"location":"week4/flask-deel4.html#data-types-in-templates","title":"Data types in templates","text":"<p>Je kunt alle Python types doorgeven: strings, integers, lists, dictionaries, etc.</p>"},{"location":"week4/flask-deel4.html#voorbeeld-met-meerdere-types","title":"Voorbeeld met meerdere types","text":"<p>Flask route:</p> <pre><code>@app.route(\"/demo\")\ndef demo() -&gt; str:\n    \"\"\"Demonstreer verschillende data types in templates.\"\"\"\n    naam = \"Joyce\"\n    letters = list(naam)  # ['J', 'o', 'y', 'c', 'e']\n    cursist_dict = {\"1234\": \"Sietse\", \"5678\": \"Carla\"}\n\n    return render_template(\n        \"demo.html\",\n        naam=naam,\n        letters=letters,\n        cursist_dict=cursist_dict\n    )\n</code></pre> <p>Template (<code>templates/demo.html</code>):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Demo&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Naam: {{ naam }}&lt;/h1&gt;\n        &lt;h2&gt;Letters als lijst: {{ letters }}&lt;/h2&gt;\n        &lt;h2&gt;Cursist dict: {{ cursist_dict }}&lt;/h2&gt;\n\n        &lt;!-- Specifieke waardes ophalen --&gt;\n        &lt;p&gt;Laatste 2 letters: {{ letters[3:] }}&lt;/p&gt;\n        &lt;p&gt;Cursist 1234: {{ cursist_dict['1234'] }}&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Result:</p> <p></p> <p>Je kunt Python syntax gebruiken in templates: - <code>letters[3:]</code> - List slicing - <code>cursist_dict['1234']</code> - Dictionary access - <code>naam.upper()</code> - String methods - En meer!</p>"},{"location":"week4/flask-deel4.html#control-flow-in-templates","title":"Control flow in templates","text":"<p>Jinja2 ondersteunt control flow met <code>{% ... %}</code> syntax.</p>"},{"location":"week4/flask-deel4.html#for-loops","title":"For loops","text":"<p>Flask route:</p> <pre><code>@app.route(\"/cursisten\")\ndef cursisten() -&gt; str:\n    \"\"\"Lijst van alle cursisten.\"\"\"\n    cursisten_lijst = [\"Joyce\", \"Sietse\", \"Carla\", \"Henk\"]\n    return render_template(\"cursisten.html\", cursisten=cursisten_lijst)\n</code></pre> <p>Template (<code>templates/cursisten.html</code>):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Cursisten&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Onze cursisten&lt;/h1&gt;\n        &lt;ul&gt;\n        {% for cursist in cursisten %}\n            &lt;li&gt;{{ cursist }}&lt;/li&gt;\n        {% endfor %}\n        &lt;/ul&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Belangrijke punten: - <code>{% for ... %}</code> opent de loop - <code>{% endfor %}</code> sluit de loop - <code>{{ cursist }}</code> toont elke waarde - Geen <code>:</code> nodig zoals in Python!</p> <p>Result:</p> <p></p>"},{"location":"week4/flask-deel4.html#if-statements","title":"If statements","text":"<p>Voeg conditionele logica toe aan templates:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Cursisten Check&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Cursisten lijst&lt;/h1&gt;\n        &lt;ul&gt;\n        {% for cursist in cursisten %}\n            &lt;li&gt;{{ cursist }}&lt;/li&gt;\n        {% endfor %}\n        &lt;/ul&gt;\n\n        &lt;h2&gt;Komt Carla voor in de lijst?&lt;/h2&gt;\n        {% if 'Carla' in cursisten %}\n            &lt;p class=\"success\"&gt;\u2705 Carla komt in de lijst voor!&lt;/p&gt;\n        {% else %}\n            &lt;p class=\"error\"&gt;\u274c Carla komt niet in de lijst voor.&lt;/p&gt;\n        {% endif %}\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Result:</p> <p></p> <p>If-elif-else:</p> <pre><code>{% if niveau == 1 %}\n    &lt;p&gt;Beginner cursus&lt;/p&gt;\n{% elif niveau == 2 %}\n    &lt;p&gt;Gevorderde cursus&lt;/p&gt;\n{% elif niveau == 3 %}\n    &lt;p&gt;Expert cursus&lt;/p&gt;\n{% else %}\n    &lt;p&gt;Onbekend niveau&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"week4/flask-deel4.html#filters-in-templates","title":"Filters in templates","text":"<p>Jinja2 heeft ingebouwde filters om data te transformeren:</p> <pre><code>&lt;h1&gt;{{ naam|upper }}&lt;/h1&gt;              &lt;!-- JOYCE --&gt;\n&lt;h1&gt;{{ naam|lower }}&lt;/h1&gt;              &lt;!-- joyce --&gt;\n&lt;h1&gt;{{ naam|capitalize }}&lt;/h1&gt;         &lt;!-- Joyce --&gt;\n&lt;h1&gt;{{ naam|title }}&lt;/h1&gt;              &lt;!-- Joyce --&gt;\n\n&lt;p&gt;Prijs: {{ prijs|round(2) }}&lt;/p&gt;     &lt;!-- 19.99 --&gt;\n&lt;p&gt;Datum: {{ datum|default('Onbekend') }}&lt;/p&gt;\n\n&lt;!-- List filters --&gt;\n&lt;p&gt;{{ cursisten|length }} cursisten&lt;/p&gt;\n&lt;p&gt;{{ cursisten|join(', ') }}&lt;/p&gt;      &lt;!-- Joyce, Sietse, Carla --&gt;\n</code></pre> <p>Veelgebruikte filters: - <code>|upper</code>, <code>|lower</code>, <code>|capitalize</code>, <code>|title</code> - String transformaties - <code>|length</code> - Lengte van list/string - <code>|default('waarde')</code> - Fallback als variabele None is - <code>|join(', ')</code> - Join list elementen - <code>|round(2)</code> - Rond float af - <code>|safe</code> - Mark HTML als veilig (voorkom escaping)</p>"},{"location":"week4/flask-deel4.html#template-inheritance-belangrijk","title":"Template inheritance (belangrijk!)","text":"<p>Voor grotere apps wil je niet steeds hetzelfde HTML herhalen. Gebruik template inheritance!</p>"},{"location":"week4/flask-deel4.html#base-template","title":"Base template","text":"<p><code>templates/base.html</code> (parent template):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;{% block title %}Muziekschool Session{% endblock %}&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;nav&gt;\n            &lt;a href=\"/\"&gt;Home&lt;/a&gt;\n            &lt;a href=\"/cursisten\"&gt;Cursisten&lt;/a&gt;\n            &lt;a href=\"/contact\"&gt;Contact&lt;/a&gt;\n        &lt;/nav&gt;\n\n        &lt;main&gt;\n            {% block content %}\n            &lt;!-- Child templates vullen dit in --&gt;\n            {% endblock %}\n        &lt;/main&gt;\n\n        &lt;footer&gt;\n            &lt;p&gt;&amp;copy; 2024 Muziekschool Session&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"week4/flask-deel4.html#child-template","title":"Child template","text":"<p><code>templates/home.html</code> (extends base):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}Home - Muziekschool Session{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Welkom bij Muziekschool Session&lt;/h1&gt;\n    &lt;p&gt;We bieden lessen in piano, gitaar, drums en zang.&lt;/p&gt;\n{% endblock %}\n</code></pre> <p><code>templates/cursisten.html</code> (extends base):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}Cursisten - Muziekschool Session{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Onze cursisten&lt;/h1&gt;\n    &lt;ul&gt;\n    {% for cursist in cursisten %}\n        &lt;li&gt;{{ cursist }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n{% endblock %}\n</code></pre> <p>Voordelen: - \u2705 Navigatie en footer slechts 1x gedefinieerd - \u2705 Consistent design over alle pagina's - \u2705 Makkelijk onderhoud (wijzig base.html \u2192 alle pagina's upgedatet) - \u2705 DRY: Don't Repeat Yourself</p>"},{"location":"week4/flask-deel4.html#complete-voorbeeld-met-types","title":"Complete voorbeeld met types","text":"<pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage.\"\"\"\n    return render_template(\"home.html\")\n\n\n@app.route(\"/cursisten\")\ndef cursisten() -&gt; str:\n    \"\"\"Cursisten overzicht met template.\"\"\"\n    cursisten_lijst = [\"Joyce\", \"Sietse\", \"Carla\"]\n    return render_template(\"cursisten.html\", cursisten=cursisten_lijst)\n\n\n@app.route(\"/cursist/&lt;int:cursist_id&gt;\")\ndef cursist_detail(cursist_id: int) -&gt; str:\n    \"\"\"Cursist detail pagina.\n\n    Args:\n        cursist_id: ID van de cursist\n    \"\"\"\n    # Later: haal uit database\n    cursist_data = {\n        \"id\": cursist_id,\n        \"naam\": \"Joyce\",\n        \"instrument\": \"Piano\",\n        \"niveau\": 2\n    }\n    return render_template(\"cursist_detail.html\", cursist=cursist_data)\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Template (<code>templates/cursist_detail.html</code>):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}{{ cursist.naam }} - Cursisten{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Cursist: {{ cursist.naam }}&lt;/h1&gt;\n    &lt;dl&gt;\n        &lt;dt&gt;ID:&lt;/dt&gt;\n        &lt;dd&gt;{{ cursist.id }}&lt;/dd&gt;\n\n        &lt;dt&gt;Instrument:&lt;/dt&gt;\n        &lt;dd&gt;{{ cursist.instrument }}&lt;/dd&gt;\n\n        &lt;dt&gt;Niveau:&lt;/dt&gt;\n        &lt;dd&gt;\n            {% if cursist.niveau == 1 %}\n                Beginner\n            {% elif cursist.niveau == 2 %}\n                Gevorderd\n            {% else %}\n                Expert\n            {% endif %}\n        &lt;/dd&gt;\n    &lt;/dl&gt;\n{% endblock %}\n</code></pre>"},{"location":"week4/flask-deel4.html#link-met-week-3-sql","title":"Link met Week 3 (SQL)","text":"<p>Straks combineer je templates met database queries:</p> <pre><code>import sqlite3\nfrom flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/products\")\ndef products() -&gt; str:\n    \"\"\"Product lijst uit database.\"\"\"\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = sqlite3.Row\n        cursor = conn.execute(\"SELECT * FROM products ORDER BY name\")\n        products_list = cursor.fetchall()\n\n    return render_template(\"products.html\", products=products_list)\n</code></pre> <p>Template (<code>templates/products.html</code>):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block content %}\n    &lt;h1&gt;Producten&lt;/h1&gt;\n    &lt;table&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Naam&lt;/th&gt;\n                &lt;th&gt;Prijs&lt;/th&gt;\n                &lt;th&gt;Voorraad&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        {% for product in products %}\n            &lt;tr&gt;\n                &lt;td&gt;{{ product.name }}&lt;/td&gt;\n                &lt;td&gt;\u20ac{{ product.price|round(2) }}&lt;/td&gt;\n                &lt;td&gt;{{ product.stock }}&lt;/td&gt;\n            &lt;/tr&gt;\n        {% endfor %}\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n{% endblock %}\n</code></pre> <p>Later (Week 6) leer je SQLAlchemy - dan wordt dit nog makkelijker!</p>"},{"location":"week4/flask-deel4.html#best-practices","title":"Best practices","text":""},{"location":"week4/flask-deel4.html#1-type-hints-in-flask-routes","title":"1. Type hints in Flask routes","text":"<pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met type hint.\"\"\"\n    return render_template(\"home.html\")\n\n\n@app.route(\"/user/&lt;int:user_id&gt;\")\ndef user(user_id: int) -&gt; str:\n    \"\"\"User pagina met typed parameter.\"\"\"\n    return render_template(\"user.html\", user_id=user_id)\n</code></pre>"},{"location":"week4/flask-deel4.html#2-template-inheritance","title":"2. Template inheritance","text":"<p>Gebruik altijd <code>base.html</code> voor consistente layout.</p>"},{"location":"week4/flask-deel4.html#3-comments-in-templates","title":"3. Comments in templates","text":"<pre><code>{# Dit is een Jinja2 comment - wordt niet gerenderd #}\n\n{% comment %}\nMulti-line comment\nOok mogelijk\n{% endcomment %}\n\n&lt;!-- HTML comment - wordt WEL naar browser gestuurd --&gt;\n</code></pre>"},{"location":"week4/flask-deel4.html#4-template-organization","title":"4. Template organization","text":"<pre><code>templates/\n\u251c\u2500\u2500 base.html\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 navbar.html\n\u2502   \u2514\u2500\u2500 footer.html\n\u251c\u2500\u2500 cursisten/\n\u2502   \u251c\u2500\u2500 list.html\n\u2502   \u2514\u2500\u2500 detail.html\n\u2514\u2500\u2500 home.html\n</code></pre> <p>Gebruik subdirectories voor grotere apps!</p>"},{"location":"week4/flask-deel4.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Templates maken in <code>templates/</code> directory</li> <li>Static files serveren uit <code>static/</code> directory</li> <li>Variabelen doorgeven met <code>render_template()</code></li> <li>Template syntax: <code>{{ variabele }}</code> en <code>{% control %}</code></li> <li>For loops: <code>{% for item in items %}</code></li> <li>If statements: <code>{% if conditie %}</code></li> <li>Filters: <code>{{ naam|upper }}</code>, <code>{{ prijs|round(2) }}</code></li> <li>Template inheritance: <code>{% extends \"base.html\" %}</code></li> <li>Type hints: <code>-&gt; str</code> voor render_template returns</li> <li>Link met SQL: Database data in templates tonen</li> </ul> <p>Volgende stap: In Week 5 leer je Flask Forms - gebruikersinput afhandelen met WTForms.</p> <p>Tip: Gebruik template inheritance vanaf het begin - het scheelt veel werk later!</p>"},{"location":"week4/oefeningen/flask-oefening1.html","title":"Flask Oefening 1: Artiestennaam Generator","text":""},{"location":"week4/oefeningen/flask-oefening1.html#flask-oefening-1-artiestennaam-generator","title":"Flask Oefening 1: Artiestennaam Generator","text":"<p>Deze oefening hoort bij Flask Deel 3 en Deel 4.</p>"},{"location":"week4/oefeningen/flask-oefening1.html#achtergrond","title":"Achtergrond","text":"<p>Veel cursisten van de muziekschool dromen van een carri\u00e8re in de muziek. Voor de meesten hoort daar een gave artiestennaam bij! In deze oefening bouw je een artiestennaam generator die automatisch een artiestennaam maakt op basis van de echte naam.</p>"},{"location":"week4/oefeningen/flask-oefening1.html#de-regels","title":"De regels","text":"<p>De artiestennaam wordt als volgt gegenereerd:</p> <ol> <li>Eindigt de naam op <code>s</code>? \u2192 Voeg <code>SY</code> toe</li> <li>Eindigt de naam op iets anders? \u2192 Voeg <code>TEZY</code> toe</li> <li>Converteer naar hoofdletters (de artiestennaam)</li> </ol> <p>Voorbeelden: - <code>Truus</code> \u2192 <code>TRUUSSY</code> - <code>Rob</code> \u2192 <code>ROBTEZY</code> - <code>Joyce</code> \u2192 <code>JOYCETEZY</code> - <code>Thomas</code> \u2192 <code>THOMASSY</code></p>"},{"location":"week4/oefeningen/flask-oefening1.html#opdracht","title":"Opdracht","text":"<p>Maak een Flask applicatie met een dynamische route die een artiestennaam genereert.</p>"},{"location":"week4/oefeningen/flask-oefening1.html#vereisten","title":"Vereisten","text":"<p>\u2705 Route: <code>http://localhost:5000/artiestennaam/&lt;naam&gt;</code> \u2705 Template: Gebruik Jinja2 template (niet HTML in string!) \u2705 Type hints: Gebruik moderne Python type hints \u2705 Logica: Implementeer de naam-generatie regels correct \u2705 Project setup: Gebruik <code>uv</code> zoals in Week \u2154/4</p>"},{"location":"week4/oefeningen/flask-oefening1.html#stappenplan","title":"Stappenplan","text":""},{"location":"week4/oefeningen/flask-oefening1.html#stap-1-project-setup","title":"Stap 1: Project setup","text":"<pre><code>mkdir artiestennaam-generator\ncd artiestennaam-generator\nuv init\nuv add flask\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-2-template-aanmaken","title":"Stap 2: Template aanmaken","text":"<p>Maak directory en template:</p> <pre><code>mkdir templates\n</code></pre> <p>Maak <code>templates/artiestennaam.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Artiestennaam Generator&lt;/title&gt;\n        &lt;style&gt;\n            body {\n                font-family: Arial, sans-serif;\n                max-width: 600px;\n                margin: 50px auto;\n                padding: 20px;\n                text-align: center;\n            }\n            .artist-name {\n                font-size: 3em;\n                color: #e91e63;\n                font-weight: bold;\n                margin: 30px 0;\n            }\n            .normal-name {\n                font-size: 1.2em;\n                color: #666;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\ud83c\udfa4 Artiestennaam Generator \ud83c\udfb8&lt;/h1&gt;\n\n        &lt;p class=\"normal-name\"&gt;Echte naam: {{ TODO }}&lt;/p&gt;\n        &lt;p class=\"artist-name\"&gt;{{ TODO }}&lt;/p&gt;\n\n        &lt;p&gt;\n            &lt;a href=\"/\"&gt;Genereer een nieuwe naam&lt;/a&gt;\n        &lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>TODO: Vul de <code>{{ TODO }}</code> placeholders in met de juiste variabelen!</p>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-3-flask-app-schrijven","title":"Stap 3: Flask app schrijven","text":"<p>Maak <code>app.py</code>:</p> <pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met instructies.\"\"\"\n    # TODO: Implementeer deze route\n    # Geef een simpele HTML string terug met uitleg\n    pass\n\n\n@app.route(\"/artiestennaam/&lt;naam&gt;\")\ndef artiestennaam(naam: str) -&gt; str:\n    \"\"\"Genereer artiestennaam op basis van echte naam.\n\n    Regels:\n    - Naam eindigt op 's' \u2192 voeg 'SY' toe\n    - Anders \u2192 voeg 'TEZY' toe\n    - Converteer naar hoofdletters\n\n    Args:\n        naam: De echte naam van de cursist\n\n    Returns:\n        HTML met gegenereerde artiestennaam\n    \"\"\"\n    # TODO: Implementeer de logica\n    # 1. Check of naam eindigt op 's'\n    # 2. Voeg juiste suffix toe\n    # 3. Converteer naar uppercase\n    # 4. Render template met beide namen\n\n    pass\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-4-implementatie-tips","title":"Stap 4: Implementatie tips","text":"<p>Hint 1 - Check laatste letter: </p><pre><code>if naam.lower().endswith('s'):\n    # Eindigt op 's'\nelse:\n    # Eindigt op iets anders\n</code></pre><p></p> <p>Hint 2 - String concatenatie: </p><pre><code>artiestennaam = naam + suffix\n</code></pre><p></p> <p>Hint 3 - Uppercase: </p><pre><code>artiestennaam = artiestennaam.upper()\n</code></pre><p></p> <p>Hint 4 - Template renderen: </p><pre><code>return render_template(\n    \"artiestennaam.html\",\n    echte_naam=naam,\n    artiest_naam=artiestennaam\n)\n</code></pre><p></p>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-5-testen","title":"Stap 5: Testen","text":"<p>Run je app:</p> <pre><code>uv run python app.py\n</code></pre> <p>Test met verschillende namen: - <code>http://localhost:5000/artiestennaam/Truus</code> \u2192 TRUUSSY - <code>http://localhost:5000/artiestennaam/Rob</code> \u2192 ROBTEZY - <code>http://localhost:5000/artiestennaam/Joyce</code> \u2192 JOYCETEZY - <code>http://localhost:5000/artiestennaam/Thomas</code> \u2192 THOMASSY</p>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-1-homepage-met-voorbeelden","title":"Bonusopdracht 1: Homepage met voorbeelden","text":"<p>Maak de <code>/</code> route dynamischer met een template die voorbeelden toont:</p> <p><code>templates/index.html</code>: </p><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Artiestennaam Generator&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\ud83c\udfa4 Artiestennaam Generator&lt;/h1&gt;\n        &lt;p&gt;Genereer jouw artiestennaam!&lt;/p&gt;\n\n        &lt;h2&gt;Voorbeelden:&lt;/h2&gt;\n        &lt;ul&gt;\n            {% for naam in voorbeelden %}\n                &lt;li&gt;\n                    &lt;a href=\"/artiestennaam/{{ naam }}\"&gt;{{ naam }}&lt;/a&gt;\n                &lt;/li&gt;\n            {% endfor %}\n        &lt;/ul&gt;\n\n        &lt;h2&gt;Probeer zelf:&lt;/h2&gt;\n        &lt;p&gt;Ga naar: &lt;code&gt;/artiestennaam/&amp;lt;jouw-naam&amp;gt;&lt;/code&gt;&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p></p> <p>Update <code>app.py</code>: </p><pre><code>@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met voorbeelden.\"\"\"\n    voorbeelden = [\"Truus\", \"Rob\", \"Joyce\", \"Thomas\", \"Rens\"]\n    return render_template(\"index.html\", voorbeelden=voorbeelden)\n</code></pre><p></p>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-2-template-inheritance","title":"Bonusopdracht 2: Template inheritance","text":"<p>Maak een <code>base.html</code> template en gebruik deze in beide pagina's:</p> <p><code>templates/base.html</code>: </p><pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;{% block title %}Artiestennaam Generator{% endblock %}&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;nav&gt;\n            &lt;a href=\"/\"&gt;Home&lt;/a&gt;\n        &lt;/nav&gt;\n\n        &lt;main&gt;\n            {% block content %}{% endblock %}\n        &lt;/main&gt;\n\n        &lt;footer&gt;\n            &lt;p&gt;&amp;copy; 2024 Muziekschool Session&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre><p></p> <p>Update <code>artiestennaam.html</code> en <code>index.html</code> om <code>base.html</code> te extenden:</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}{{ echte_naam }} - Artiestennaam{% endblock %}\n\n{% block content %}\n    &lt;!-- Je huidige content hier --&gt;\n{% endblock %}\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-3-css-styling","title":"Bonusopdracht 3: CSS styling","text":"<p>Maak <code>static/style.css</code>:</p> <pre><code>mkdir static\n</code></pre> <p><code>static/style.css</code>: </p><pre><code>body {\n    font-family: 'Arial', sans-serif;\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n}\n\n.artist-name {\n    font-size: 4em;\n    font-weight: bold;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\n    animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n}\n\na {\n    color: #ffd700;\n    text-decoration: none;\n    font-weight: bold;\n}\n\na:hover {\n    text-decoration: underline;\n}\n</code></pre><p></p>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-4-formulier-toevoegen","title":"Bonusopdracht 4: Formulier toevoegen","text":"<p>Voeg een formulier toe zodat gebruikers hun naam kunnen invoeren zonder URL aan te passen:</p> <p>Update <code>index.html</code>: </p><pre><code>&lt;form action=\"/genereer\" method=\"POST\"&gt;\n    &lt;label for=\"naam\"&gt;Jouw naam:&lt;/label&gt;\n    &lt;input type=\"text\" id=\"naam\" name=\"naam\" required&gt;\n    &lt;button type=\"submit\"&gt;Genereer!&lt;/button&gt;\n&lt;/form&gt;\n</code></pre><p></p> <p>Update <code>app.py</code>: </p><pre><code>from flask import Flask, render_template, request, redirect, url_for\n\n@app.route(\"/genereer\", methods=[\"POST\"])\ndef genereer() -&gt; str:\n    \"\"\"Handle form submission en redirect naar artiestennaam route.\n\n    Returns:\n        Redirect naar artiestennaam route met ingevoerde naam\n    \"\"\"\n    naam = request.form.get(\"naam\", \"\")\n    if naam:\n        return redirect(url_for(\"artiestennaam\", naam=naam))\n    return redirect(url_for(\"index\"))\n</code></pre><p></p>"},{"location":"week4/oefeningen/flask-oefening1.html#verwachte-output","title":"Verwachte Output","text":""},{"location":"week4/oefeningen/flask-oefening1.html#basis-opdracht","title":"Basis opdracht","text":"<p>URL: <code>http://localhost:5000/artiestennaam/Truus</code></p> <p>Output: </p><pre><code>\ud83c\udfa4 Artiestennaam Generator \ud83c\udfb8\n\nEchte naam: Truus\nTRUUSSY\n\n\u2190 Genereer een nieuwe naam\n</code></pre><p></p>"},{"location":"week4/oefeningen/flask-oefening1.html#checklist","title":"Checklist","text":"<p>\u2705 Project aangemaakt met <code>uv init</code> en <code>uv add flask</code> \u2705 <code>templates/</code> directory met <code>artiestennaam.html</code> \u2705 Flask route op <code>/artiestennaam/&lt;naam&gt;</code> \u2705 Type hints gebruikt (<code>naam: str</code>, <code>-&gt; str</code>) \u2705 Logica correct: - Naam eindigt op <code>s</code> \u2192 voeg <code>SY</code> toe - Anders \u2192 voeg <code>TEZY</code> toe - Converteer naar uppercase \u2705 Template gebruikt (geen HTML in string!) \u2705 Docstring bij route functie \u2705 Werkt met verschillende namen</p>"},{"location":"week4/oefeningen/flask-oefening1.html#veelvoorkomende-fouten","title":"Veelvoorkomende fouten","text":"<p>\u274c HTML in string returnen </p><pre><code>return f\"&lt;h1&gt;{artiestennaam}&lt;/h1&gt;\"  # FOUT!\n</code></pre> \u2705 Template gebruiken <pre><code>return render_template(\"artiestennaam.html\", ...)  # GOED!\n</code></pre><p></p> <p>\u274c Geen type hints </p><pre><code>def artiestennaam(naam):  # FOUT!\n</code></pre> \u2705 Type hints toevoegen <pre><code>def artiestennaam(naam: str) -&gt; str:  # GOED!\n</code></pre><p></p> <p>\u274c Case-sensitive check </p><pre><code>if naam.endswith('s'):  # FOUT! \"Truus\" != \"truuS\"\n</code></pre> \u2705 Case-insensitive check <pre><code>if naam.lower().endswith('s'):  # GOED!\n</code></pre><p></p>"},{"location":"week4/oefeningen/flask-oefening1.html#samenvatting","title":"Samenvatting","text":"<p>Na deze oefening heb je:</p> <ul> <li>\u2705 Een Flask project opgezet met <code>uv</code></li> <li>\u2705 Dynamische routes gebruikt met URL parameters</li> <li>\u2705 Templates gemaakt met Jinja2</li> <li>\u2705 Type hints toegepast in Flask routes</li> <li>\u2705 String manipulatie in Python gedaan</li> <li>\u2705 Modern project structuur gebruikt (zoals Week \u2154)</li> </ul> <p>Tip: Deze patterns gebruik je de rest van de cursus! In Week 5 leer je forms (gebruikersinput), en in Week 6 databases (SQLAlchemy).</p>"},{"location":"week5/flask-forms-deel1.html","title":"Flask forms deel1","text":"<p>Begin met \u00e9\u00e9n van de projecten</p> <p>Vanaf deze week moet je als duo aan \u00e9\u00e9n van de vier voorgestelde projecten gaan werken. Tijdens de practica heb je gelegenheid om hierover vragen te stellen aan je practicumdocent, maar hou er rekening mee dat het practicum daar niet per se voor bedoeld is. In principe zou je in staat moeten zijn op basis van de oefeningen en de theorielessen het project zelfstandig uit te voeren.</p> <p>Bekijk de omschrijving de beoordeling om je een goed beeld te vormen van het hoe of wat van deze projecten en de daarbij horende beoordeling.</p>"},{"location":"week5/flask-forms-deel1.html#flask-en-forms-een-basis-flask-formulier","title":"Flask en Forms - een basis Flask formulier","text":"<p>Flask biedt ook de mogelijkheid om eenvoudig HTML-formulieren te genereren. In dit deel ligt de focus op de modules Flask-WTF en WTForms en op welke wijze waarop deze gebruikt kunnen worden om snel formulieren te maken op basis van de Flask-Python-scripts.</p>"},{"location":"week5/flask-forms-deel1.html#componenten","title":"Componenten","text":"<p>Maar als eerste een bespreking van de belangrijkste componenten voor het maken van een formulier. Dat zijn de volgende onderdelen:</p> <ul> <li>Configureer een secret key voor de beveiliging.</li> <li>Maak een WTForm-klasse aan.<ul> <li>Ontwerp velden voor alle onderdelen op het formulier.</li> </ul> </li> <li>Stel een View Function in (weergavefunctie).<ul> <li>Voeg methoden toe ([<code>GET</code>, <code>POST</code>]).</li> <li>Maak een instantie van Form Class aan.</li> <li>Verwerk het formulier.</li> </ul> </li> </ul>"},{"location":"week5/flask-forms-deel1.html#voorbeeld","title":"Voorbeeld","text":"<p>Om deze materie te kunnen begrijpen volgt nu een uitgebreid voorbeeld. Dit voorbeeld bestaat uit een Python-file (<code>basis_flask_form.py</code>) en een enkel HTML-bestand, getiteld <code>home.html</code>. Dit HTML-bestand wordt weer opgenomen in de folder \u2018templates\u2019.</p>"},{"location":"week5/flask-forms-deel1.html#python-gedeelte","title":"Python gedeelte","text":"<p>Als eerste de Python-file. Er moeten nu meerdere zaken worden ge\u00efmporteerd, zie onderstaand kader.</p> <pre><code>from flask import Flask, render_template\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\n\napp = Flask(__name__)\n</code></pre> <p>Even een korte uitleg. <code>FlaskForm</code> is een klasse waarvan overerft wordt om onze eigen formulieren te kunnen maken. De daaropvolgende regel geeft aan welke velden er gebruikt worden op de formulieren. Voor het basisformulier wordt hier aangegeven dat er Stringfields en SubmitFields gebruik gaan worden. De laatste regel zorgt er weer voor dat de applicatie gecre\u00eberd wordt.</p>"},{"location":"week5/flask-forms-deel1.html#installatie-van-flask-wtf-en-wtforms","title":"Installatie van Flask-WTF en WTForms","text":"<p>Het kan zijn dat de modules <code>flask_wtf</code> (Flask-WTF) en <code>wtforms</code> (WTForms) nog niet ge\u00efnstalleerd zijn. Let natuurlijk op dat de Python virtuele omgeving is geactiveerd en controleer met <code>pip</code> welke modules al ge\u00efnstalleerd zijn:</p> <pre><code>(webtech)~ $&gt; pip list\nPackage      Version\n------------ -------\nclick        7.1.2\nFlask        1.1.2\nitsdangerous 1.1.0\nJinja2       2.11.3\nMarkupSafe   1.1.1\npip          21.0.1\nsetuptools   47.1.0\nWerkzeug     1.0.1\n</code></pre> <p>Helaas, geen Flask-WTF of WTForms... Dat kan snel worden verholpen, op dezelfde manier zoals je eerder Flask hebt ge\u00efnstalleerd:</p> <pre><code>(webtech)~ $&gt; pip install Flask-WTF\n</code></pre> <p>Als je nu nogmaals <code>pip</code> een overzicht van modules vraagt zal je zien dat ze nu ge\u00efnstalleerd zijn:</p> <pre><code>(webtech)~ $&gt; pip list\nPackage      Version\n------------ -------\nclick        7.1.2\nFlask        1.1.2\nFlask-WTF    0.14.3\nitsdangerous 1.1.0\nJinja2       2.11.3\nMarkupSafe   1.1.1\npip          21.0.1\nsetuptools   47.1.0\nWerkzeug     1.0.1\nWTForms      2.3.3\n</code></pre> <p>Afhankelijkheden</p> <p>Met <code>pip install Flask-WTF</code> is tegelijkertijd ook WTForms ge\u00efnstalleerd zonder dat je dit hebt opgegeven! Dit komt omdat Flask-WTF aangeeft dat het afhankelijk is van WTForms en <code>pip</code> slim genoeg is om vervolgens ook deze module direct op te halen en te installeren.</p>"},{"location":"week5/flask-forms-deel1.html#de-geheime-sleutel","title":"De geheime sleutel","text":"<p>Nadat de installatie van de applicatie is afgerond is de volgende stap het configureren van een geheime <code>SECRET_KEY</code>. Hier is het ter demonstratie, maar later wordt er echt veel meer aandacht aan besteed en zullen er betere manieren aangeleerd worden om dit te doen.</p> <pre><code>app.config['SECRET_KEY'] = 'mijngeheimesleutel'\n</code></pre>"},{"location":"week5/flask-forms-deel1.html#infoform","title":"InfoForm","text":"<p>De volgende stap is het aanmaken van een klasse <code>InfoForm</code>, een subklasse van <code>FlaskForm</code>.</p> <pre><code>class InfoForm(FlaskForm):\n</code></pre> <p>Op het formulier komen een tweetal velden te staan: een <code>StringField</code> genaamd instrument, en een <code>SubmitField</code>, een knop met het opschrift \u2018Verzend\u2019.</p> <pre><code>class InfoForm(FlaskForm):\n\n    instrument = StringField('Welk instrument wil je graag leren bespelen?')\n    submit = SubmitField('Verzend')\n</code></pre>"},{"location":"week5/flask-forms-deel1.html#view-functie","title":"View functie","text":"<p>Wanneer alle voorbereidingen zijn getroffen, kan de viewfunctie aangemaakt worden. Standaard wordt de eerste view doorgelinkt naar de indexpagina.</p> <pre><code>@app.route('/', methods=['GET', 'POST'])\ndef index():\n</code></pre> <p>Aan de functie worden de parametermethoden <code>GET</code> en <code>POST</code>meegegeven. Deze zorgen ervoor dat het mogelijk wordt om de ingevoerde gegevens door te geven aan een template, in dit geval <code>home.html</code>. De waarde van de variabele <code>instrument</code> krijgt de status <code>False</code> mee, omdat deze aan het begin van het programma nog geen waarde heeft meegekregen. Dat gaat veranderen wanneer het formulier is ingevuld.</p> <p></p><pre><code>instrument = False\n# Maak een object van de klasse InfoForm aan.\nform = InfoForm()\n# Als het formulier valide is\nif form.validate_on_submit():\n    # Haal de data voor instrument op uit het formulier.\n    instrument = form.instrument.data\n    # Zet de waarde voor de variabele instrument op het formulier weer op False\n    form.instrument.data = ''\n    return render_template('home.html', form=form, instrument=instrument)\n</code></pre> Op het valide zijn wordt nog nader ingegaan.<p></p> <p>En tot slot natuurlijk weer:</p> <pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"week5/flask-forms-deel1.html#html-gedeelte-homehtml","title":"HTML gedeelte: home.html","text":"<p>in <code>home.html</code> moet natuurlijk ook code staan. Eerst de bovenste helft:</p> <pre><code>&lt;p&gt;\n{% if instrument %}\n    Het instrument van jouw keuze is {{ instrument }}.\n    &lt;br&gt;De keuze kan gewijzigd worden in onderstaand formulier:\n{% else %}\n    Geef de naam van een instrument op in dit formulier:\n{% endif %}\n&lt;/p&gt;\n</code></pre> <p>Als <code>home.html</code> wordt aangeroepen heeft de variabele <code>instrument</code> nog altijd de waarde <code>False</code>. De voorwaarde achter de <code>if</code> is dan niet waar en er wordt overgegaan naar het <code>else</code>-blok, waar gevraagd wordt om de naam van een instrument in te geven.</p> <p>De tweede helft ziet er als volgt uit:</p> <pre><code>&lt;form method=\"POST\"&gt;\n    {{ form.hidden_tag() }}\n    {{ form.instrument.label }} {{ form.instrument() }}\n    {{ form.submit() }}\n&lt;/form&gt;\n</code></pre>"},{"location":"week5/flask-forms-deel1.html#runnen-van-de-applicatie","title":"Runnen van de applicatie","text":"<p>Bij het runnen van de applicatie wordt het volgende scherm zichtbaar:</p> <p></p> <p>Conform de basisinstellingen van de klasse InfoForm heeft <code>instrument</code> de waarde <code>False</code>. Bij een klik op de button \u2018Verzend\u2019 wordt <code>home.html</code> aangeroepen. Voor die tijd is als instrument \u2018Gitaar\u2019 ingevuld. Bij de aanroep worden het formulier als ook de opgegeven waarde voor <code>instrument</code>meegestuurd.</p> <p></p> <p>Het bovenste gedeelte van de code van <code>home.html</code> draagt zorg voor de eerste twee regels van de output. De onderste helft stelt het formulier nogmaals ter beschikking om een ander instrument te kiezen.</p> <p>Wanneer er geen <code>SECRET_KEY</code> wordt opgenomen in de Python-file ontstaat er bij het runnen een foutmelding. Deze is dus vereist evenals de hidden tag.</p>"},{"location":"week5/flask-forms-deel2.html","title":"Flask en Forms - Form Fields","text":""},{"location":"week5/flask-forms-deel2.html#flask-en-forms-form-fields","title":"Flask en Forms - Form Fields","text":""},{"location":"week5/flask-forms-deel2.html#validators","title":"Validators","text":"<p>Het mooie aan het werken met formulieren is hier dat voor elk mogelijk HTML-formulierveld  een bijbehorende <code>wtforms</code>-klasse bestaat die ge\u00efmporteerd kan worden. Deze klasse heeft ook validators die op gemakkelijke wijze ingevoegd kunnen worden. Validators kunnen ingezet worden om controles uitvoeren op de formuliergegevens, zoals bijvoorbeeld een controle of een verplicht veld inderdaad een waarde gekregen heeft.</p> <p>In deze paragraaf is er ook aandacht voor de wijze waarop een sessieobject van Flask ingeschakeld kan worden om de informatie in het formulier op te halen en door te geven aan een template. In een volgende deel wordt aandacht besteed hoe de gegevens in een database opgeslagen kunnen worden.</p>"},{"location":"week5/flask-forms-deel2.html#voorbeeld","title":"Voorbeeld","text":"<p>We gaan weer verder met een voorbeeld. Voor het volgende uitgewerkte voorbeeld zijn drie bestanden nodig, een Python-file: <code>form_fields.py</code> en twee HTML-bestanden, <code>home1.html</code> en <code>bedankt.html</code>.</p>"},{"location":"week5/flask-forms-deel2.html#python-gedeelte","title":"Python gedeelte","text":"<p>Uiteraard wordt begonnen met de Python-file. Het begin is weer meer van hetzelfde, nu alleen met wat uitbreidingen.</p> <pre><code>from flask import Flask, render_template, session, redirect, url_for, session\nfrom flask_wtf import FlaskForm\nfrom wtforms import (StringField, BooleanField, DateTimeField,\n                                  RadioField, SelectField, TextField,\n                                  TextAreaField, SubmitField)\nfrom wtforms.validators import DataRequired\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n</code></pre> <p>Er worden een aantal extra elementen ge\u00efmporteerd van Flask, die zo nader uitgelegd worden. De velden die op het formulier voor gaan komen, worden als bekend verondersteld.</p> <p>Van de validators wordt de klasse <code>DataRequired</code> opgehaald. Er zijn er nog veel meer, bijvoorbeeld email: een klasse die controleert of een ingevuld e-mailadres aan de eisen voldoet, met punt, extensie en @.</p> <p>Vervolgens wordt de applicatie en de geheime sleutel gecre\u00eberd.</p>"},{"location":"week5/flask-forms-deel2.html#infoform","title":"InfoForm","text":"<p>Volgende stap is weer het opzetten van het formulier:</p> <pre><code>class InfoForm(FlaskForm):\n\n    naam = StringField('Wat is je naam?',validators=[DataRequired()])\n    vrouw  = BooleanField(\"Ben je een vrouw?\")\n    instrument = RadioField('Welk instrument wil je leren bespelen?',   choices=[('ins_een','Gitaar'),('ins_twee','Drums')])\n    plaats = SelectField(u'Welke locatie heeft de voorkeur?',\n             choices=[('as', 'Assen'), ('dr', 'Drachten'), ('gr', 'Groningen')])\n    feedback = TextAreaField()\n    submit = SubmitField('Verzend')\n</code></pre> <p>Dit formulier bevat wat meer velden dan het vorige. De HTML-kennis moet voldoende zijn om deze code te kunnen begrijpen.</p> <p>De naam is een verplicht veld, en voor ieder instrument en plaats is een tuple aangemaakt. De eerste waarde wordt in de code gebruikt terwijl de tweede waarde steeds zichtbaar is op het formulier.</p>"},{"location":"week5/flask-forms-deel2.html#view-functies","title":"View functies","text":"<p>Daarna is het de beurt voor de viewfuncties. Als eerste het formulier.</p> <pre><code>@app.route('/', methods=['GET', 'POST'])\ndef index():\n\n    form = InfoForm()\n    if form.validate_on_submit():\n\n        session['naam'] = form.naam.data\n        session['vrouw'] = form.vrouw.data\n        session['instrument'] = form.instrument.data\n        session['plaats'] = form.plaats.data\n        session['feedback'] = form.feedback.data\n\n        return redirect(url_for(\"bedankt\"))\n\n\n    return render_template('home1.html', form=form)\n</code></pre> <p>Een paar opmerkingen: Het lijkt erg veel op de code van de vorige paragraaf. Als eerste extra item wordt session gehanteerd.</p> <p>Een session-tabel is een kortstondige tijdelijke tabel waarin waarden bewaard kunnen worden om aan een andere pagina door te geven. Een mooi voorbeeld hiervan is een overzicht van bestellingen van artikelen op een website. Als een artikel in een winkelmandje beland is, kan het voorkomen dat er nog een artikel aangeschaft gaat worden. Wanneer naar de pagina gesprongen wordt om het tweede artikel nog een keer uitvoerig te bekijken, wordt wanneer er geen sessievariabelen benut worden, het mandje weer geleegd. De gegevens zijn dan niet ergens opgeslagen.</p> <p>Een tweede opvallend iets is dat er twee return-statements zijn gebruikt. De laatste is nodig om de eerste keer een leeg formulier te tonen.</p> <p>Het andere return-statement sluist de waarden gelijk door naar de viewfunctie met de naam \u2018bedankt\u2019. De ingevoerde gegevens zullen daar getoond worden. Dit is de volgende stap.</p> <pre><code>@app.route('/bedankt')\ndef bedankt():\n\n    return render_template('bedankt.html')\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#afsluiting-python-code","title":"Afsluiting python code","text":"<p>En aan het eind het vertrouwde:</p> <pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#html-gedeelte","title":"HTML gedeelte","text":"<p>Nu kunnen de HTML-formulieren ingevuld worden. Als eerste <code>home1.html</code>:</p> <p></p><pre><code>&lt;h1&gt;Welkom bij de enquete van muziekschool Session&lt;/h1&gt;\n&lt;form  method=\"POST\"&gt;\n    {{ form.hidden_tag() }}\n    {{ form.naam.label }} {{form.naam}}\n    &lt;br&gt;\n    {{ form.vrouw.label}} {{form.vrouw}}\n    &lt;br&gt;\n    {{form.instrument.label}}{{form.instrument}}\n    &lt;br&gt;\n    {{form.plaats.label}}{{form.plaats}}\n    &lt;br&gt;\n    Nog andere opmerkingen?\n    &lt;br&gt;\n    {{form.feedback}}\n    &lt;br&gt;\n    {{ form.submit() }}\n&lt;/form&gt;\n</code></pre> Het lijkt weer veel op het de code van <code>home.html</code> uit de vorige pagina. Bovenaan een welkomsttekst, gevolgd door de openings-FORM-tag. Binnen het formulier is als eerste de geheime sleutel opgenomen waarna de diverse velden worden ge\u00efntroduceerd, zoals in de lijst die is vastgelegd in de Python-file <code>bedankt.html</code>.<p></p>"},{"location":"week5/flask-forms-deel2.html#bedankthtml","title":"bedankt.html","text":"<p>Als het formulier is ingevuld en er op de \u2018Verzend\u2019-knop is geklikt wordt de inhoud van de velden doorgestuurd naar <code>bedankt.html</code> en daar getoond:</p> <pre><code>&lt;h1&gt;Bedankt voor de moeite. &lt;br&gt;Dit zijn de ingevulde gegevens:&lt;/h1&gt;\n&lt;ul&gt;\n    &lt;li&gt;Naam: {{ session['naam'] }}&lt;/li&gt;\n    &lt;li&gt;Geslacht: {{ session['geslacht'] }}&lt;/li&gt;\n    &lt;li&gt;Instrument: {{ session['instrument'] }}&lt;/li&gt;\n    &lt;li&gt;Plaats: {{ session['plaats'] }}&lt;/li&gt;\n    &lt;li&gt;Feedback: {{ session['feedback'] }}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#runnen-van-de-applicatie","title":"Runnen van de applicatie","text":"<p>Tijd voor een test:</p> <p> Ingevuld:</p> <p></p> <p>Na een klik op de button: </p>"},{"location":"week5/flask-forms-deel2.html#afsluiting","title":"Afsluiting","text":"<p>Een paar opmerkingen tot slot van deze paragraaf:</p>"},{"location":"week5/flask-forms-deel2.html#lay-out","title":"Lay-out","text":"<p>De lay-out kan vele malen mooier door er CSS-stijlen aan toe te voegen. Misschien ziet de output er wat vreemd uit, maar alles is precies volgens de opzet verlopen. Het <code>RadioField</code> en het <code>SelectField</code> zijn beide gevuld met tuples. De eerste waarde van iedere tuple wordt na selectie doorgegeven.</p> <p>In de keuzelijst kan er bijvoorbeeld gekozen worden uit de zichtbare mogelijkheden, Assen, Drachten en Groningen. De corresponderende sleutelvelden zijn 'as', 'dr' en 'gr'. Deze waarden worden doorgeven naar <code>bedankt.html</code>. Dat is met opzet gebeurd om de werking te tonen. Om de gehele plaatsnaam te tonen zou twee keer dezelfde tekenrij in de tuple moeten worden ondergebracht.</p>"},{"location":"week5/flask-forms-deel2.html#validator-test","title":"Validator test","text":"<p>Om de test op alle items te toetsen wordt nog een poging gedaan de gegevens te tonen, echter zonder een naam in te vullen. Kijken of de validator dit kan onderkennen:</p> <p></p> <p>En inderdaad. Een rood kader om het veld om aan te geven dat dit veld voordat het formulier verwerkt kan worden een invulling moet krijgen.</p>"},{"location":"week5/flask-forms-deel3.html","title":"Flask en Forms - Flash-berichten","text":""},{"location":"week5/flask-forms-deel3.html#flask-en-forms-flash-berichten","title":"Flask en Forms - Flash-berichten","text":""},{"location":"week5/flask-forms-deel3.html#introductie","title":"Introductie","text":"<p>De titel van deze paragraaf is geen typfout. Er wordt inderdaad Flash bedoeld. Soms is het handig de gebruiker een bericht te sturen dat niet permanent bewaard hoeft te worden op de view-pagina. Een dergelijk bericht kan naar de gebruiker \u2018geflasht\u2019 worden en vervolgens worden gesloten. Dat betekent dat het niet meer hardcoded in een view op een Python-file hoeft te worden opgenomen.</p> <p>Aan het eind van deze tekst maken we oefening 1.</p>"},{"location":"week5/flask-forms-deel3.html#voorbeeld","title":"Voorbeeld","text":"<p>Flask kan dat op een gemakkelijke manier voor elkaar krijgen. Dit wordt nu weer besproken aan de hand van een voorbeeld. In dit voorbeeld zijn twee bestanden nodig, <code>home2.html</code> en <code>flashing_messages.py</code>.</p>"},{"location":"week5/flask-forms-deel3.html#python-gedeelte","title":"Python gedeelte","text":"<p>Zoals gebruikelijk als eerste de Python-file. Het begin moet geen vragen meer oproepen.</p> <pre><code>from flask import Flask, render_template, flash, session, redirect, url_for\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField,SubmitField\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n</code></pre> <p>Het enige bijzondere bij het importeren is dat nu ook <code>flash</code> in het rijtje wordt meegenomen. Vervolgens wordt de applicatie weer aangemaakt en omdat er met een formulier gewerkt wordt is de geheime sleutel ook een vereiste.</p>"},{"location":"week5/flask-forms-deel3.html#simpelform","title":"SimpelForm","text":"<p>Het formulier moet ook weer aangemaakt worden:</p> <pre><code>class SimpelForm(FlaskForm):\n    submit = SubmitField('Klik mij!')\n</code></pre> <p>Het formulier kent slechts een enkel veld, een knop met de tekst \u2018Klik mij!\u2019. Het idee is dat als de button geactiveerd wordt, er een melding op het scherm verschijnt.</p>"},{"location":"week5/flask-forms-deel3.html#view-functies","title":"View functies","text":"<p>Als derde actie wordt de view voor het formulier opgezet:</p> <pre><code>@app.route('/', methods=['GET', 'POST'])\ndef index():\n    form = SimpelForm()\n\n    if form.validate_on_submit():\n        flash(\"Je hebt zojuist de button geactiveerd!\")\n\n        return redirect(url_for('index'))\n    return render_template('home2.html', form=form)\n</code></pre> <p>De view heeft de naam index meegekregen en er wordt een instantie van de klasse <code>SimpelForm</code> aangemaakt. Wanneer er op de knop geklikt wordt, zorgt het flash-commando ervoor dat er melding naar het scherm gestuurd wordt via het redirect-statement. Het tweede return-statement is nodig om in eerste instantie het formulier te laten zien.</p>"},{"location":"week5/flask-forms-deel3.html#afsluiting-python-code","title":"Afsluiting python code","text":"<p>Om de boel te laten runnen, gebruiken we de inmiddels bekende code:</p> <pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"week5/flask-forms-deel3.html#html-gedeelte","title":"HTML gedeelte","text":""},{"location":"week5/flask-forms-deel3.html#bootstrap","title":"Bootstrap","text":"<p>Bij het opzetten van de file <code>home2.html</code>komt de opgedane kennis van Bootstrap goed van pas. De melding die naar het scherm gestuurd gaat worden krijgt een opvallende lay-out mee zodat het is duidelijk herkenbaar is.</p> <p>Als er elementen van Bootstrap gebruikt gaan worden in een HTML-file is het nodig een aantal koppelingen te leggen naar Bootstrap. Deze linken worden in de \u2018head\u2019 van de HTML-file, <code>home2.html</code>, ondergebracht.</p> <pre><code>&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\" integrity=\"sha384-  WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB\" crossorigin=\"anonymous\"&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js\" integrity=\"sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js\" integrity=\"sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n</code></pre> <p>Deze code is overgenomen uit het HTML-bestand met daarin oplossing van oefening 5 uit het onderdeel HTML/CSS/Bootstrap. Hierna kan gesprongen worden naar dat gedeelte op de site van Bootstrap waar de code voor de melding gevonden kan worden. Dat gedeelte kan hier gevonden worden.</p> <p>Voor de melding wordt als component <code>Alert</code> geselecteerd. Hiermee kunnen feedbackberichten als reactie op gebruikersacties aangemaakt worden. Van de beschikbare opties is hier gekozen voor <code>dismissing</code>. Het onderstaande plaatje is rechtstreeks overgenomen van de Bootstrap-site.</p> <p></p> <p>De button \u2018Copy\u2019 hoort er natuurlijk niet bij. Deze heeft tot doel een kopie van de code naar Clipboard te sturen.</p> <p>Deze code kan natuurlijk aan <code>home2.html</code>toegevoegd worden. Voordat deze actie daadwerkelijk wordt uitgevoerd, is het nodig eerst nog twee andere stappen te verrichten:</p>"},{"location":"week5/flask-forms-deel3.html#container","title":"Container","text":"<pre><code>&lt;div class=\"container\"&gt;\n{% for mess in get_flashed_messages()  %}\n\n    {{ mess }}\n\n{% endfor %}\n</code></pre> <p>Alle bedrijvigheden worden bij elkaar gehouden door ze in een container te stoppen. Het ziet er misschien wat vreemd uit dat er een <code>for</code> is opgenomen in de code. Het is natuurlijk mogelijk dat er meerdere berichten geflitst gaan worden. De <code>for</code> verstuurt ze dan tegelijkertijd. Voor de code maakt het niet uit of het er \u00e9\u00e9n is of meerdere.</p> <p>Daarna kan de Bootstrap-code worden ingeladen:</p> <p></p><pre><code>{% for mess in get_flashed_messages()  %}\n&lt;div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\"&gt;\n    {{ mess }}\n    &lt;button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"&gt;\n        &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n    &lt;/button&gt;\n&lt;/div&gt;\n{% endfor %}\n</code></pre> Wat gebeurt er nu precies wanneer de boodschap verstuurd wordt? Of anders gezegd, wat staat er nu precies?<p></p>"},{"location":"week5/flask-forms-deel3.html#get_flashed_messages","title":"get_flashed_messages()","text":"<p>Als het flash-commando afgaat dan worden de meldingen naar de template gestuurd die in de view is opgenomen. Dat gaat in de vorm van de methode <code>get_flashed_messages()</code>. Hierin worden alle berichten ondergebracht en deze worden als het er meer zijn, na elkaar afgespeeld.</p>"},{"location":"week5/flask-forms-deel3.html#fade-show","title":"fade show","text":"<p>De aanroep naar de Bootstrap-klasse zorgt ervoor dat de gebruiker de mogelijkheid krijgt het bericht weer te laten verdwijnen door op het kruisje rechtsboven te klikken. De property <code>fade show</code> geeft aan dat de melding gaat vervagen totdat deze niet meer zichtbaar is.</p>"},{"location":"week5/flask-forms-deel3.html#button","title":"button","text":"<p>De regel die begint met <code>&lt;button type\u2026.&gt;</code>is nodig om het kruisje rechtsboven in weer te geven, en dat een klik op dat kruisje het bericht afsluit.</p>"},{"location":"week5/flask-forms-deel3.html#aria-label","title":"aria-label","text":"<p>Het <code>aria-label</code> attribuut wordt gebruikt om een string te defini\u00ebren die het huidige element labelt. Het wordt vaak gebruikt als er geen tekstlabel zichtbaar is. Door <code>aria-hidden = \"true\"</code> aan een element toe te voegen, worden dat element en al zijn onderliggende elementen verwijderd en is daarna niet langer beschikbaar.</p>"},{"location":"week5/flask-forms-deel3.html#afsluiting-html-code","title":"afsluiting html code","text":"<p>Om deze code af te maken moet het formulier nog worden ontworpen en de container be\u00ebindigd:</p> <pre><code>    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre> <p>Tenslotte is het niet zo heel erg netjes om een tekst als \u2018Holy guacamole\u2019 als boodschap te flashen. Omdat de melding al in de view is opgenomen kan deze regel geschrapt worden.</p>"},{"location":"week5/flask-forms-deel3.html#volledige-html-code","title":"volledige html code","text":"<p>De gehele code wordt dan (zonder de head-sectie):</p> <pre><code>&lt;div class=\"container\"&gt;\n\n    {% for mess in get_flashed_messages()  %}\n    &lt;div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\"&gt;\n        {{ mess }}\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"&gt;\n            &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n    {% endfor %}\n\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week5/flask-forms-deel3.html#runnen-van-de-applicatie","title":"Runnen van de applicatie","text":"<p>Wanneer we de code testen door de python file te runnen krijgen we het volgende:</p> <p></p> <p>En na de klik: </p> <p>Tenslotte de test wat er gebeurt wanneer er op het kruisje geklikt wordt:</p> <p></p> <p>Maak nu oefening 1.</p>"},{"location":"week5/oefeningen/flask-forms-oefening1.html","title":"Flask en forms - Oefening 1","text":""},{"location":"week5/oefeningen/flask-forms-oefening1.html#flask-en-forms-oefening-1","title":"Flask en forms - Oefening 1","text":"<p>Gebruik de bestanden <code>oefening1.py</code> en <code>home3.html</code>.  Pas de code vervolgens als volgt aan:</p> <ul> <li>Voeg een tweetal velden aan van het type StringField om voornaam en achternaam in te kunnen voeren.</li> <li>Zorg dat beide velden een waarde krijgen.</li> <li>Sla de gegevens op in een sessie.</li> <li>Stuur een flash-bericht naar de gebruiker met daarin de voor- en achternaam.</li> </ul>"},{"location":"week6/flask-views-deel1.html","title":"Flask en SQL - Theorie","text":""},{"location":"week6/flask-views-deel1.html#flask-en-sql-theorie","title":"Flask en SQL - Theorie","text":""},{"location":"week6/flask-views-deel1.html#inleiding","title":"Inleiding","text":"<p>Nu duidelijk is op welke wijze gebruikersinformatie verzameld kan worden via Forms met Flask is het tijd voor een volgende stap. Die stap is het koppelen van de Flask-applicaties aan een database, zodat de gebruikersinformatie vastgelegd kan worden. Met behulp van SQL kunnen gegevens in een tabelvorm opgeslagen worden.</p> Kolom 1 Kolom 2 Kolom 3 regel 1 regel 2 regel 3 <p>Ingevuld met een aantal cursisten van de muziekschool ziet het er als volgt uit. De eerste kolom is het sleutelveld. Deze kolom heeft als kenmerk dat de waarde slechts \u00e9\u00e9nmaal mag voorkomen in de reeks. Iedere rij dient apart geselecteerd te kunnen worden.</p> _id Voornaam Achternaam Plaats 1 Joyce Rooth Groningen 2 Timo Bijl Drachten 3 Fred Timmer Assen <p>Zoals we weten gaat het verzamelen van gegevens uit een database of een tabel doorgaans met het commando <code>select</code>:</p> <pre><code>SELECT (\u00e9\u00e9n of meer velden)\nFROM (naam tabel)\n</code></pre> <p>Gelukkig is het mogelijk enkele handige bibliotheken te gebruiken, waardoor de aandacht toch meer bij de Python-scripts komt te liggen.</p> <p>Python en Flask kunnen verbinding maken met verschillende SQL Database-engines, waaronder PostgreSQL, MySQL, SQLite en andere. </p> <p>SQLite is een eenvoudige SQL-database-engine die bij Flask wordt geleverd en aan alle eisen voldoet. Om Python, Flask en SQL met elkaar te verbinden, is een zogenaamde Object Relational Mapper (ORM) nodig. </p> <p>Met een ORM kan Python rechtstreeks gebruik maken van de SQL-syntax om data uit eenn database op te vragen, in te voeren, te bewerken en te verwijderen. De meest voorkomende ORM voor Python is SQL Alchemy: een uitbreiding die een verbinding van Flask met SQLite mogelijk maakt.</p> <p>We kunnen ons architectuurplaatje uit de eerste week nu als volgt uitbreiden:</p> <p></p> <p>Het kan zijn dat Flask-SQLAlchemy nog niet ge\u00efnstalleerd is. Op de gebruikelijke wijze kan dit pakket met behulp van <code>pip</code> weer toegevoegd worden voor een vlekkeloze werking van de volgende voorbeelden.</p>"},{"location":"week6/flask-views-deel1.html#acties","title":"Acties","text":"<p>Om op een nette wijze met databases te kunnen werken dienen de volgende acties uitgevoerd te worden:</p> <ol> <li>Installeer een SQLite-database in een Flask-app;</li> <li>Maak een tabel (model) aan in de Flask-app;</li> <li>Pas de basishandelingen CRUD toe op de tabel (model)</li> </ol> <p>Deze handelingen staan hieronder uitgebreid beschreven.</p>"},{"location":"week6/flask-views-deel1.html#1-installeer-een-sqlite-database-in-een-flask-app","title":"1. Installeer een SQLite-database in een Flask-app","text":"<p>Voor de eerste stap zijn de volgende acties vereist:</p> <ol> <li>Maak een Flask-app aan op de gebruikelijke wijze.</li> <li>Configureer de Flask-app voor SQLAlchemy.</li> <li>Geef de applicatie door aan de SQLAlchemy-klasse-oproep.</li> </ol> <p>Deze acties hoeven maar \u00e9\u00e9n keer geprogrammeerd te worden. Maar iedere keer dat er een nieuwe database moet worden opgezet, zijn dezelfde regels nodig.</p>"},{"location":"week6/flask-views-deel1.html#2-een-tabel-model-aanmaken-in-de-flask-app","title":"2. Een tabel (model) aanmaken in de Flask-app","text":"<p>Bij de tweede stap zijn de volgende meldingen van belang:</p> <ul> <li>Modellen linken rechtstreeks naar een tabel in een SQL-database.</li> <li>Het is niet nodig om handmatig een tabel met SQL te aan maken, daarvoor wordt een Model-klasse opgevoerd in Python die de tabel genereert.</li> </ul> <p>Het cre\u00ebren van een model in Flask is vergelijkbaar met het maken van een FlaskForm. De stappen zijn:</p> <ol> <li>Maak een modelklasse.</li> <li>Zorg dat dit een subklasse is van <code>db.Model</code>.</li> <li>Geef optioneel een tabelnaam op.</li> <li>Voeg tabelkolommen toe als attributen.</li> <li>Voeg methoden toe voor <code>__init__</code> en <code>__repr__</code>.</li> </ol>"},{"location":"week6/flask-views-deel1.html#3-crud","title":"3. CRUD","text":"<p>Voor de volledigheid nog een keer een korte omschrijving van de basishandelingen CRUD.</p> operatie Beschrijving <code>CREATE</code> Het aanmaken van bijv. database en tabellen. <code>READ</code> Het opvragen van gegevens uit de database (<code>SELECT</code>) <code>UPDATE</code> Het wijzigen van gegevens in een tabel. <code>DELETE</code> Het verwijderen van gegevens uit een tabel. <p>Het volgende hoofdstuk is het aangewezen moment om over te stappen naar de concrete werkwijze van dit onderwerp.</p> <p>In eerste instantie zullen de CRUD-bewerkingen nog handmatig worden uitgevoerd in een python-script. Dat is alleen gedaan om de syntax beter te kunnen begrijpen, meestal zal veel hiervan geautomatiseerd doorgevoerd worden door Flask.</p>"},{"location":"week6/flask-views-deel2.html","title":"Flask en SQL - het opzetten van een database","text":""},{"location":"week6/flask-views-deel2.html#flask-en-sql-het-opzetten-van-een-database","title":"Flask en SQL - het opzetten van een database","text":"<p>In totaal worden een drietal Python-files aangemaakt bij de demonstratie hoe een database aan een Flask-applicatie gekoppeld kan worden.</p>"},{"location":"week6/flask-views-deel2.html#1-basic_model_apppy","title":"1. <code>basic_model_app.py</code>","text":"<p>Bestudeer het bestand <code>basic_model_app.py</code>. De eerste stap bij het opzetten van een database in een Python-file is uiteraard het importeren van de benodigde pakketten en klassen:</p> <pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\n</code></pre> <p>De middelste coderegel is bekend, en de onderste regel zorgt ervoor dat het pakket SQLAlchemy beschikbaar komt bij het runnen van de file. Het nut van de bovenste regel komt zo ter sprake.</p> <p>De volgende actie is om het programma te vertellen wat de basis-directory is. Normaal gesproken zou een gebruiker dat zelf moeten opgeven, maar doordat <code>os</code> ge\u00efmporteerd is, kan dat geheel automatisch geregeld worden:</p> <pre><code>basedir = os.path.abspath(os.path.dirname(__file__))\n</code></pre> <p>Er gebeurt hier het volgende:</p> <p>Er wordt achteraan begonnen. Op de plaats van <code>__file__</code> wordt bij het runnen de naam van de Python-file ingevuld, hier wordt dat dan <code>BasisModelApp.py</code>.</p> <p><code>(os.path.dirname(__file__)</code> gaat op zoek naar de plek waar <code>basic_model_app.py</code> te vinden is. Dat zou hier zoiets zijn als <code>IdeaProjects/Flask_database/basic_model_app.py</code>.</p> <p>De call naar <code>os.path.abpath()</code> levert het gehele pad op. In dit geval wordt het dus <code>/Users/tath/IdeaProjects/Flask_database/basic_model_app.py</code>. Zoals gezegd, deze regel hoeft \u00e9\u00e9n keer aangemaakt te worden en kan veel vaker gebruikt worden. Het maakt ook niet uit of het gaat om een Windows-machine, een Mac OS of een Linux, het pad staat vast. En op die plek wordt de database gebouwd.</p> <p>Vervolgens wordt de applicatie aangemaakt:</p> <pre><code>app = Flask(__name__)\n</code></pre>"},{"location":"week6/flask-views-deel2.html#connectie-tussen-python-en-de-database","title":"Connectie tussen python en de database","text":"<p>Hierna moet de connectie gelegd worden tussen de Flask-applicatie en de database (let op: deze regels kunnen wat lang zijn, dus je moet misschien even een beetje naar rechts scrollen):</p> <pre><code>app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n</code></pre> <p>De bovenste regel is een must, en is vergelijkbaar met de noodzaak een geheime sleutel op te voeren wanneer Flask gekoppeld is aan een formulier. De kern van deze regel is dat hier de applicatie verteld wordt waar de database gevonden kan worden. In de opgegeven basis-directory wordt dan gezocht naar de file <code>data.sqlite</code>.</p> <p>De tweede regel geeft aan dat in dit geval geen modificaties gewenst zijn. Niet iedere aanpassing hoeft uitgebreid getoond te worden. De default-waarde in ingesteld op <code>True</code>, vandaar deze extra regel.</p> <p>Deze laatste regel koppelt database en applicatie:</p> <pre><code>db = SQLAlchemy(app)\n</code></pre> <p>De laatst besproken vier (4) coderegels (<code>app = Flask(__name__)</code> telt niet mee) zorgen ervoor dat de SQL-database wordt aangemaakt waarbij uitsluitend coderegels gebruikt worden en geen SQL-statements.</p>"},{"location":"week6/flask-views-deel2.html#model","title":"Model","text":"<p>Nu kan het Model aangemaakt worden. Daarvoor dient een klasse gecre\u00eberd te worden. Model klinkt indrukwekkend, maar het is niets meer dan een representatie van een tabel in de database. De eerste tabel krijgt de naam \u2018Cursist\u2019 mee:</p> <pre><code>class Cursist(db.Model):\n</code></pre> <p>De applicatie is gekoppeld aan de database db die nu in elk geval al kan beschikken over een Model-klasse. Zonder tegenspraak wordt de naam van de klasse ook vastgelegd als naam van de tabel. Is er een andere naam gewenst, bijvoorbeeld cursisten dan kan dat aangepast worden.</p> <pre><code>class Cursist(db.Model):\n    # __tablename__ = 'cursisten'\n</code></pre> <p>Alles staat nu klaar, de kolommen kunnen opgegeven worden. Hier is voor de demonstratie gekozen slechts een beperkt aantal kenmerken van iedere cursist op te nemen. Het zijn er drie: <code>id</code>, <code>voornaam</code> en <code>leeftijd</code>.</p> <p>Het <code>id</code> is van het type <code>integer</code> en wordt de primaire sleutel van de tabel. Naam is een tekstveld en in de kolom leeftijd moet een getal komen te staan, dus dat wordt een <code>integer</code>:</p> <pre><code>id = db.Column(db.Integer,primary_key=True)\nnaam = db.Column(db.Text)\nleeftijd = db.Column(db.Integer)\n</code></pre> <p>Hierna krijgt de klasse Cursist zijn constructor (<code>__init__()</code>):</p> <pre><code>def __init__(self,naam,leeftijd):\n    self.naam = naam\n    self.leeftijd = leeftijd\n</code></pre> <p>Bij het invoeren van een nieuwe cursist zijn naam en leeftijd verplicht. Er wordt automatisch een nieuw id toegevoegd op het moment dat er een nieuwe cursist wordt opgevoerd.</p> <p>Tot slot nog de methode <code>__repr__()</code>. Zoals we al eerder hebben gezien wordt deze methode gebruikt om een stringvoorstelling van een Python-object te krijgen. Met de methode <code>__repr__()</code> is het mogelijk een query te maken vanuit de database en het resultaat van de query afdrukken.</p> <pre><code>def __repr__(self):\n    return f\"Cursist {self.naam} is {self.leeftijd} jaar oud.\"\n</code></pre> <p>Tot zover de basiscode voor het opzetten van een database. Een aantal elementen van de code worden ge\u00efmporteerd in de file <code>setup_database.py</code>, waarin de eerste records aan de database toegevoegd zullen worden.</p>"},{"location":"week6/flask-views-deel2.html#2-setup_databasepy","title":"2. <code>setup_database.py</code>","text":"<p>Voor de tweede stap maken we gebruik van het bestand <code>setup_database.py</code>. Let wel: Dit is een heel eenvoudig script dat laat zien hoe een database in te stellen. Later worden hierbij weer templates gebruikt.</p> <p>Ook voor deze file zal de opbouw van de code stap voor stap beschreven worden. In de eerste plaats worden er een aantal elementen uit de file <code>basic_model_app.py</code> ge\u00efmporteerd:</p> <pre><code>from basic_model_app import db, Cursist\n</code></pre> <p>De database en de tabel Cursist zijn ingeladen en nu moet de database en het bestand worden aangemaakt. Daarvoor is onderstaand commando beschikbaar:</p> <pre><code>db.create_all()\n</code></pre>"},{"location":"week6/flask-views-deel2.html#toevoegen-van-records","title":"Toevoegen van records","text":"<p>Wanneer tabel klaar staat kunnen de eerste records toegevoegd worden:</p> <pre><code>joyce = Cursist('Joyce', 36)\nbram = Cursist('Bram',24)\n</code></pre> <p>De objecten zijn aangemaakt, maar zijn nog niet bekend bij de database. Dat kan als volgt:</p> <pre><code>db.session.add_all([joyce, bram])\n</code></pre> <p>De id's worden dus automatisch aangemaakt zodra de gegevens aan de database zijn toegevoegd. De data kan definitief vastgelegd worden door de functie <code>commit()</code>:</p> <pre><code>db.session.commit()\n</code></pre> <p>Als alles naar behoren is ingevoerd kan getest worden of de gegevens inderdaad zijn vastgelegd in de database. Daarvoor vragen we de beide id\u2019s op uit de tabel Cursist. De nummers 1 en 2 zouden te zien moeten zijn:</p> <pre><code>print(joyce.id)\nprint(bram.id)\n</code></pre> <p>Het resultaat:</p> <pre><code>&gt; 1\n&gt; 2\n</code></pre>"},{"location":"week6/flask-views-deel3.html","title":"Flask en SQL - CRUD","text":""},{"location":"week6/flask-views-deel3.html#flask-en-sql-crud","title":"Flask en SQL - CRUD","text":""},{"location":"week6/flask-views-deel3.html#3-basic_crudpy","title":"3. <code>basic_CRUD.py</code>","text":"<p>Nu bekend is hoe een database opgezet kan een beetje gestoeid worden door een aantal basishandelingen uit te voeren.</p> <p>Denk erom, vaak worden de scripts op een andere wijze uitgevoerd. Het doel is hier om te laten zien op welke wijze CRUD-commando\u2019s uitgevoerd worden. De Python-file die daarvoor gebruikt wordt, is het bestand <code>basic_CRUD.py</code>. Iedere basishandeling komt even voorbij. De opbouw geschiedt in een vijftal stappen:</p>"},{"location":"week6/flask-views-deel3.html#stap-1-importeren","title":"Stap 1: Importeren","text":"<pre><code>from basic_model_app import db, Cursist\n</code></pre>"},{"location":"week6/flask-views-deel3.html#stap-2-create","title":"Stap 2: CREATE","text":"<pre><code>elsje = Cursist('Elsje',19)\ndb.session.add(elsje)\ndb.session.commit()\n</code></pre> <p>Op deze manier kun je data aanmaken, toevoegen en vastleggen.</p>"},{"location":"week6/flask-views-deel3.html#stap-3-read","title":"Stap 3: READ","text":"<p>Deze stap staat bekend als het opvragen van gegevens uit de database.</p> <p>Als eerste een overzicht gemaakt van alle cursisten. Met de methode <code>all()</code> worden alle records in een python-lijst gestopt. De tekst wordt opgehaald uit <code>__repr__()</code>:</p> <pre><code>alle_cursisten = Cursist.query.all()\nprint(*alle_cursisten, sep='\\n')\n</code></pre> <p>Dit levert het volgende resultaat op:</p> <pre><code>Cursist Joyce is 40 jaar oud\nCursist Bram is 24 jaar oud\nCursist Elsje is 19 jaar oud\nCursist Elsje is 19 jaar oud\n</code></pre> <p>Nu worden de gegevens opgevraagd van de cursist die het id = 2 is toegekend. Eerst worden alle gegevens getoond en op de tweede regel alleen de leeftijd.</p> <pre><code>cursist_twee = Cursist.query.get(2)\nprint(cursist_twee)\nprint(cursist_twee.leeftijd)\n</code></pre> <p>Gegevens van cursist 2:</p> <pre><code>Cursist Bram is 24 jaar oud\n24\n</code></pre>"},{"location":"week6/flask-views-deel3.html#stap-4-update","title":"Stap 4: UPDATE","text":"<p>Joyce heeft een beetje gejokt over haar leeftijd. In plaats van de opgegeven 36 jaar is ze inmiddels al 40 geworden. Dat wordt in de database doorgevoerd:</p> <pre><code>cursist_joyce = Cursist.query.get(1)\ncursist_joyce.leeftijd = 40\ndb.session.add(cursist_joyce)\ndb.session.commit()\n</code></pre> <p>Joyce heeft <code>id = 1</code> meegekregen. Er worden vier stappen na elkaar uitgevoerd:</p> <ol> <li>Ophalen juiste record;</li> <li>Wijziging aanbrengen;</li> <li>Gegevens toevoegen aan database;</li> <li>Aanpassing definitief vastleggen.</li> </ol>"},{"location":"week6/flask-views-deel3.html#stap-5-delete","title":"Stap 5: DELETE","text":"<p>Bij nader inzien besluit Elsje toch maar af te zien van een lidmaatschap. Haar record gaat weer verdwijnen.</p> <pre><code>cursist_elsje = Cursist.query.get(3)\ndb.session.delete(cursist_elsje)\ndb.session.commit()\n</code></pre> <p>Dit spreekt voor zich: record ophalen, verwijderen, en aanpassing vastleggen.</p> <p>Na het aanpassen en verwijderen zijn onderstaande gegevens overgebleven in de database:</p> <pre><code>Cursist Elsje is 19 jaar oud\nCursist Joyce is 40 jaar oud\nCursist Bram is 24 jaar oud\n</code></pre>"},{"location":"week6/flask-views-deel4.html","title":"Flask en SQL - Relaties","text":""},{"location":"week6/flask-views-deel4.html#flask-en-sql-relaties","title":"Flask en SQL - Relaties","text":"<p>Bij grotere projecten zijn altijd meerdere modellen (tabellen) beschikbaar. Die modellen hebben een relatie met elkaar. Tot nu toe is er gewerkt met <code>Cursist</code> als model. Daarnaast bestaat er ook een model <code>Instrument</code>, waar de gegevens van de instrumenten beheerd worden, waarin de muziekschool lesgeeft. Een derde model wat erg voor de hand ligt is <code>Docent</code>. Docenten geven les aan cursisten om hen een instrument te leren bespelen.</p> <p>In deze demonstratie is het uitgangspunt dat cursisten meerdere instrumenten kunnen leren bespelen en dat de lessen door een enkele docent gegeven worden. Om de boel op dit moment niet nodeloos complex te maken, stellen we even dat een instrument maar door \u00e9\u00e9n cursist kan worden bespeeld. Het strokendiagram van de database wordt dan als volgt:</p> <p></p>"},{"location":"week6/flask-views-deel4.html#sleutels","title":"Sleutels","text":"<p>Om relaties te kunnen begrijpen is het nodig nog even kort aandacht te besteden aan een tweetal belangrijke termen, de primaire sleutel (primary key) en de refererende sleutel (foreign key).</p> <p>De modellen (tabellen) krijgen de volgende structuur:</p> <p><code>Cursist</code>:</p> <ul> <li>id (primaire sleutel, type integer)</li> <li>naam (type text)</li> </ul> <p><code>Instrument</code>:</p> <ul> <li>id (primaire sleutel, type integer)</li> <li>naam (type text)</li> </ul> <p><code>Docent</code>:</p> <ul> <li>id (primaire sleutel, type integer)</li> <li>naam (type text)</li> </ul> <p>Een primair sleutelveld zorgt ervoor dat elke rij uit het model uniek is. Een primaire sleutel mag bij geen enkel model een dubbele waarde krijgen. Omdat er een index als primair sleutelveld gebruikt wordt hoeven we ons daar geen zorgen om te maken.</p> <p>Telkens wanneer er een nieuw object van de klasse <code>Instrument</code> wordt aangemaakt, kunnen we aangeven welke cursist dat instrument gaat bespelen. Hetzelfde geldt voor ieder nieuw object uit de klasse <code>Docent</code> \u2013 ook hiervan kunnen we aangeven welk instrument die docent gaat doceren. </p> <p>Er wordt dan gevraagd welke cursist door deze docent begeleid gaat worden. En daarbij komen dan de refererende sleutels om de hoek kijken. Er moet een relatie worden ge\u00efntroduceerd tussen cursist en instrument en tussen cursist en docent. Bij het opzetten van de file <code>models.py</code> komt dit nog uitgebreid ter sprake.</p>"},{"location":"week6/flask-views-deel4.html#modelspy","title":"<code>models.py</code>","text":"<p>De opzet van deze applicatie wordt gedaan door eerst weer een nieuw project op te starten met de naam \u2018Relaties\u2019. Daarom is het nodig als eerste een opzet van de database aan te maken. Daarvoor wordt de file <code>models.py</code> in het leven geroepen.</p> <p>Als eerste moeten natuurlijk weer de gebruikelijke zaken ge\u00efmporteerd worden. Daarna wordt aangegeven op welke plaats zich de basis directory bevindt. De actie wordt gevolgd door het aanmaken van de applicatie en de bijbehorende acties met <code>SQLALCHEMY</code>. Aan het einde van dit eerste blok worden applicatie en database weer aan elkaar gekoppeld en wordt het migratiepad ingericht.</p> <pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\n\napp = Flask(__name__)\n# Koppelt de Flask-applicatie met de database\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nMigrate(app,db)\n</code></pre> <p>Het model <code>Cursist</code>:</p> <pre><code>class Cursist(db.Model):\n\n    __tablename__ = 'cursisten'\n\n    id = db.Column(db.Integer,primary_key = True)\n    naam = db.Column(db.Text)\n    # cursist heeft een \u00e9\u00e9n-op-veel relatie met instrument\n    instrumenten = db.relationship('Instrument',backref='cursist',lazy='dynamic')\n    # cursist heeft een \u00e9\u00e9n-op-een relatie met docent\n    docent = db.relationship('Docent',backref='cursist',uselist=False)\n</code></pre> <p>Er wordt wat nader ingegaan op de relatie-aspecten. Aangegeven is dat de relatie tussen cursisten en instrumenten, een \u00e9\u00e9n-op-een relatie is. De coderegel nader uitgelegd:</p> <pre><code>instrumenten = db.relationship('Instrument',backref='cursist',lazy='dynamic')\n</code></pre> <p>In de variabele <code>instrumenten</code> wordt vastgelegd dat binnen deze database er een relatie bestaat naar <code>Instrument</code> toe en dat er voor de methode <code>lazy=\u2019dynamic\u2019</code> gekozen is.</p> <p>De lazy-parameter bepaalt hoe de gerelateerde objecten worden geladen bij het doorzoeken van relaties. Er kan uit vier (4) verschillende opties gekozen worden. In de meeste gevallen wordt er een keuze voor <code>\u2018dynamic\u2019</code> gemaakt. De andere drie mogelijke parameterinvullingen zijn:</p> <ul> <li><code>select</code> (of <code>True</code>)</li> <li><code>joined</code> (of <code>False</code>)</li> <li><code>subquery</code></li> </ul> <p>Nu het uitgangspunt is dat er tussen docent en cursist een \u00e9\u00e9n-op-\u00e9\u00e9n relatie bestaat, moet hier nu ingevuld worden <code>uselist=False</code>. Een cursist kan niet meer dan \u00e9\u00e9n docent als leraar hebben en een docent, in onze bijzondere muziekschool, heeft maar \u00e9\u00e9n cursist.</p> <p>De klasse <code>Cursist</code> krijgt ook nog de beschikking over de volgende methoden:</p> <pre><code>    def __init__(self,naam):\n        self.naam = naam\n\n    def __repr__(self):\n        if self.docent:\n            return f\"Cursist {self.naam} heeft {self.docent.naam} als docent\"\n        else:\n            return f\"Cursist {self.naam} heeft nog geen docent toegewezen gekregen\"\n\n    def overzicht_instrumenten(self):\n        print(\"Mijn instrumenten:\")\n        for instr in self.instrumenten:\n            print(instr.naam)\n</code></pre> <p>De methode <code>overzicht_instrumenten</code> toont de instrumenten waar een cursist momenteel les in volgt.</p> <p>Het model <code>Instrument</code>:</p> <pre><code>class Instrument(db.Model):\n\n    __tablename__ = 'instrumenten'\n\n    id = db.Column(db.Integer,primary_key = True)\n    naam = db.Column(db.Text)\n    # Er wordt cursisten.id ingevuld vanwege de tabelnaam ='cursisten'\n    cursist_id = db.Column(db.Integer,db.ForeignKey('cursisten.id'))\n\n    def __init__(self,naam,cursist_id):\n        self.naam = naam\n        self.cursist_id = cursist_id\n</code></pre> <p>Het model <code>Docent</code>:</p> <pre><code>class Docent(db.Model):\n\n    __tablename__ = 'docenten'\n\n    id = db.Column(db.Integer,primary_key= True)\n    naam = db.Column(db.Text)\n    cursist_id = db.Column(db.Integer,db.ForeignKey('cursisten.id'))\n\n    def __init__(self,naam,cursist_id):\n        self.naam = naam\n        self.cursist_id = cursist_id\n</code></pre> <p>Tot zover de code van de file <code>models.py</code>. Om de database aan te maken en om de wijzigingen door te voeren dienen nu de vier stappen van de vorige paragraaf uitgevoerd te worden:</p> <ul> <li> <p>Stel de omgevingsvariabele FLASK_APP in</p> <ul> <li>Voor een MacOS / Linux-machine is dat <code>export FLASK_APP = models.py</code></li> <li>Voor een Windows-machine, met cmd: <code>set FLASK_APP = models.py</code>, met PowerShell: <code>$Env:FLASK_APP = \"models.py\"</code></li> </ul> </li> <li> <p><code>flask db init</code></p> </li> <li> <p><code>flask db migrate</code></p> </li> <li> <p><code>flask db upgrade</code></p> </li> </ul>"},{"location":"week6/flask-views-deel4.html#demonstratie","title":"Demonstratie","text":"<p>Nu de tabel is aangemaakt kunnen er gegevens ingebracht worden. Voor deze demonstratie gebruiken we de file <code>populate_database.py</code>:</p> <pre><code>from models import db,Cursist,Instrument,Docent\n\n# Maak twee cursisten aan\njoyce = Cursist(\"Joyce\")\nbram = Cursist(\"Bram\")\n\n# Voeg de cursisten toe aan de database en leg ze vast\ndb.session.add_all([joyce,bram])\ndb.session.commit()\n\n# Ter controle een print van alle cursisten, met de teksten van __repr__ uit Cursist\nprint(Cursist.query.all())\n\n# Vind alle cursisten met de naam \u201cJoyce\",\n# worden er meerdere gevonden in de lijst , dan alleen de eerste daarom index [0]\n# Kan ook gevonden worden door .first() te gebruiken i plaats van  .all()[0]\njoyce = Cursist.query.filter_by(naam='Joyce').all()[0]\n\n# Maak een docent aan voor Joyce\ndavid = Docent(\"David\", joyce.id)\n\n# De instrumenten waar Joyce les in heeft\ninstr1 = Instrument('Drums', joyce.id)\ninstr2 = Instrument(\"Piano\", joyce.id)\n\n# Leg de aanpassingen vast in de database\n# Merk op dat het om verschillende objecten gaat\ndb.session.add_all([david, instr1, instr2])\ndb.session.commit()\n\n# Nagaan wat de veranderingen voor Joyce hebben opgeleverd.\njoyce = Cursist.query.filter_by(naam='Joyce').first()\nprint(joyce)\n\n# Een overzicht van de instrumenten waar Joyce les in heeft\nprint(joyce.overzicht_instrumenten())\n\n# Het is ook mogelijk zaken te verwijderen uit de database:\n# find_cur = Cursist.query.get(1)\n# db.session.delete(find_cur)\n# db.session.commit()\n</code></pre> <p>Na het runnen is dit het resultaat:</p> <pre><code>[Cursist Joyce heeft nog geen docent toegewezen gekregen, Cursist Bram heeft nog geen docent toegewezen gekregen]\nCursist Joyce heeft David als docent\nMijn instrumenten:\nDrums\nPiano\n</code></pre> <p>Bovendien kan nagegaan worden hoe de structuur van de database is opgebouwd:</p> <p></p>"},{"location":"week6/flask-views-deel5.html","title":"Flask en SQL - Website","text":""},{"location":"week6/flask-views-deel5.html#flask-en-sql-website","title":"Flask en SQL - Website","text":"<p>Alle inspanningen in de vorige paragrafen zijn niet voor niets geweest. Er is op dit moment  voldoende kennis en informatie aangereikt om nu eindelijk een \u2018echte\u2019 website te bouwen! Alle opgedane kennis wordt in deze paragraaf met elkaar verbonden.</p> <p>De belangrijkste kenmerken die in deze paragraaf besproken zullen worden zijn:</p> <ul> <li>Het werken met templates;</li> <li>Gebruikersinformatie via formulieren ophalen;</li> <li>De aangeleverde informatie opslaan in de database;</li> <li>Overzichten maken van de opgeslagen informatie;</li> </ul> <p>Dit wordt allemaal toegepast op een beheersite voor de gegevens van de cursisten met onder meer:</p> <ul> <li>Een formulier waarmee nieuwe cursisten toegevoegd kunnen worden;</li> <li>Een formulier om cursisten uit de database te verwijderen;</li> <li>De mogelijkheid tot het maken van een overzicht van alle cursisten;</li> </ul> <p>Er wordt vanaf scratch begonnen om meer inzicht te krijgen in de wijze waarop een website opgebouwd wordt. Daarbij wordt een stappenplan aangehouden.</p>"},{"location":"week6/flask-views-deel5.html#stap-1-inventarisatie","title":"Stap 1: Inventarisatie","text":"<p>Er moeten verschillende componenten geconstrueerd worden om de eerste website werkend te krijgen: </p> <p>Twee Python-files:</p> <ul> <li><code>beheer_cursist.py</code></li> <li><code>forms.py</code></li> </ul> <p>Een directory Templates met een vijftal HTML-bestanden:</p> <ul> <li><code>base.html</code></li> <li><code>home.html</code></li> <li><code>voegtoe_cur.html</code></li> <li><code>toon_cur.html</code></li> <li><code>verwijder_cur.html</code></li> </ul> <p>Het einde van stap 1 bestaat eruit alle bestanden aan te maken. Dat levert het volgende plaatje op:</p> <p></p>"},{"location":"week6/flask-views-deel5.html#stap-2-begin-met-het-opzetten-van-de-file-waarin-de-structuur-wordt-bepaald","title":"Stap 2: Begin met het opzetten van de file waarin de structuur wordt bepaald.","text":"<p>In dit geval is dat <code>beheer_cursist.py</code>. De eerste regels van dit bestand zijn moeten nu bekend voorkomen. <code>VoegtoeForm</code> en <code>VerwijderForm</code> worden nog niet herkend, omdat ze pas later worden aangemaakt. </p> <p>Het werken met Forms vereist dat er een geheime sleutel moet worden ingegeven. De naam maakt niet uit, als er maar een sleutelwaarde wordt ingesteld. Het weglaten van deze regel levert een foutmelding op.</p> <p></p><pre><code>import os\nfrom forms import  VoegtoeForm, VerwijderForm\nfrom flask import Flask, render_template, url_for, redirect\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\napp = Flask(__name__)\n# Omdat er formulieren gebruikt worden is een geheime sleutel nodig!\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n</code></pre> Het tweede gedeelte bestaat uit het opzetten van de koppeling tussen applicatie en database:<p></p> <pre><code>#SQL database opzet\nbasedir = os.path.abspath(os.path.dirname(__file__))\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nMigrate(app,db)\n</code></pre> <p>Tot dusver niets bijzonders. Het volgende gedeelte levert vast ook geen problemen op. De tabel (het model) voor de cursist wordt nu aangemaakt. Om het een klein project te laten blijven, en om de opbouw op een eenduidige wijze te kunnen beschrijven, blijft het bij een enkel model, dat ook nog eens geen relaties kent naar andere modellen:</p> <pre><code>class Cursist(db.Model):\n\n    __tablename__ = 'cursisten'\n    id = db.Column(db.Integer,primary_key = True)\n    naam = db.Column(db.Text)\n\n    def __init__(self,naam):\n        self.naam = naam\n\n    def __repr__(self):\n        return f\"Naam van de cursist: {self.naam}\"\n</code></pre>"},{"location":"week6/flask-views-deel5.html#stap-3-aanmaken-van-de-views-functies-met-de-formulieren","title":"Stap 3: Aanmaken van de views-functies met de formulieren.","text":"<p>Voor het gemak zijn de Engelse termen aangehouden zoals add, delete en list.</p>"},{"location":"week6/flask-views-deel5.html#index","title":"index","text":"<pre><code>@app.route('/')\ndef index():\n    return render_template('home.html')\n</code></pre> <p>Wanneer de index wordt opgevraagd wordt er doorgeschakeld naar de pagina <code>home.html</code>.</p>"},{"location":"week6/flask-views-deel5.html#add","title":"add","text":"<pre><code>@app.route('/add', methods=['GET', 'POST'])\ndef add_cur():\n    form = VoegtoeForm()\n\n    if form.validate_on_submit():\n        naam = form.naam.data\n\n        # Voeg een nieuwe cursist toe aan de database\n        new_cur = Cursist(naam)\n        db.session.add(new_cur)\n        db.session.commit()\n\n        return redirect(url_for('toon_cur'))\n\n    return render_template('voegtoe_cur.html',form=form)\n</code></pre> <p>Op het moment dat deze view wordt aangeroepen wordt er doorgeschakeld naar <code>voegtoe_cur.html</code>. Daar wordt een leeg formulier getoond met een passende tekst. Als de naam van een nieuwe cursist is ingevuld en bevestigd, wordt <code>toon_cur.html</code> geopend en verschijnt de lijst met alle aanwezige cursisten in beeld. In dit voorbeeld zal deze lijst zeer beperkt blijven.</p>"},{"location":"week6/flask-views-deel5.html#list","title":"list","text":"<pre><code>@app.route('/list')\ndef list_cur():\n    # Maak een lijst van alle aanwezige cursisten in de database.\n    cursisten = Cursist.query.all()\n    return render_template('toon_cur.html', cursisten=cursisten)\n</code></pre> <p>In deze view wordt een lijst aangemaakt van alle cursisten en die lijst wordt doorgegeven naar <code>toon_cur.html</code>, die de deelnemers laat zien.</p>"},{"location":"week6/flask-views-deel5.html#delete","title":"delete","text":"<pre><code>@app.route('/delete', methods=['GET', 'POST'])\ndef del_cur():\n    form = VerwijderForm()\n\n    if form.validate_on_submit():\n        id = form.id.data\n        cur = Cursist.query.get(id)\n        db.session.delete(cur)\n        db.session.commit()\n\n        return redirect(url_for('toon_cur'))\n    return render_template('verwijder_cur.html',form=form)\n</code></pre> <p>Weer meer van hetzelfde. Als het de bedoeling is een cursist te verwijderen dan wordt deze view opgestart. Omdat er nog niet op een button geklikt is, wordt gelinkt naar <code>verwijder_cur.html</code> en zal er een leeg scherm te zien zijn met weer een passende tekst. Na invulling van het id van de cursist en een bevestiging daarvan door op de knop te drukken, zal het record verwijderd worden waarna <code>toon_cur.html</code> aangeroepen wordt waardoor de aangepast lijst zichtbaar is.</p>"},{"location":"week6/flask-views-deel5.html#stap-4-het-aanmaken-van-de-database-en-het-opstarten-van-de-applicatie","title":"Stap 4: het aanmaken van de database en het opstarten van de applicatie","text":"<p>De volgende (voorlaatste) regel betreft het daadwerkelijk aanmaken van de database. We zien hier de regel <code>db.create_all()</code>; dit houdt in dat we de database (het SQLAlchemy-object dat we hebben aangemaakt op regel 19) de opdracht geven alle model-klassen langs te lopen en de corresponderende (gemapte) database-tabellen aan te maken (op basis van de informatie die is ingegeven in die modelklassen).</p> <p>Verschillende versies van SQLAlchemy</p> <p>In nieuwere versies van SQLAlchemy is het cre\u00ebren van de database zelf behoorlijk aangepast. In de documentatie staat This requires that a Flask application context is active. Dit betekent dat je het statement binnen een flask-context moet uitvoeren:</p> <pre><code>with app.app_context():\n    db.create_all()\n</code></pre> <p>Tenslotte starten we de applicatie op, op de manier die we al gewend zijn.</p> <pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>"},{"location":"week6/flask-views-deel5.html#stap-5-het-ontwerpen-van-de-formulieren","title":"Stap 5: Het ontwerpen van de formulieren","text":"<p>Hier worden de formulieren in <code>forms.py</code> ontworpen. Er is al uitvoerig aandacht besteed aan het opzetten van formulieren met <code>Flask</code>. Ook deze twee formulieren <code>VoegtoeForm</code> en <code>VerwijderForm</code> zullen vast geen vragen meer oproepen:</p> <pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, IntegerField, SubmitField\n\nclass VoegtoeForm(FlaskForm):\n\n    naam = StringField('Vul de naam van de nieuwe cursist in:')\n    submit = SubmitField('Voeg toe')\n\nclass VerwijderForm(FlaskForm):\n\n    id = IntegerField('Vul het ID van de cursist die verwijderd gaat worden in:')\n    submit = SubmitField('Verwijder')\n</code></pre> <p>Het formulier om een cursist toe te voegen kent een veld waarin een naam kan worden ingegeven en een knop om te bevestigen. Voor het verwijderen van een cursist is een veld nodig om het <code>id</code> in te geven en weer een knop om te bevestigen.</p>"},{"location":"week6/flask-views-deel5.html#stap-6-het-vullen-van-de-html-bestanden","title":"Stap 6: Het vullen van de HTML-bestanden.","text":""},{"location":"week6/flask-views-deel5.html#basehtml","title":"<code>base.html</code>","text":"<p>In dit bestand wordt de structuur van de website grotendeels vastgelegd. In ieder geval wordt de connectie naar Bootstrap hier vastgelegd en wordt er ook een navigatiebalk opgemaakt. Het is de bedoeling dat alle overige webpagina\u2019s van dit sjabloon gebruik gaan maken. Die pagina\u2019s kunnen hun eigen specifieke inhoud opnemen in het block-vak.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\"     integrity=\"sha384-  Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"   crossorigin=\"anonymous\"&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-   KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\"   crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\"     integrity=\"sha384-  ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\"   crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\"   integrity=\"sha384-  JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\"   crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n    &lt;title&gt;Beheer cursisten&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n    &lt;div class=\"navbar-nav\"&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('add_cur') }}\"&gt;Voeg cursist toe&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('list_cur') }}\"&gt;Toon cursisten&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('del_cur') }}\"&gt;Verwijder cursist&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n\n{% block content %}\n\n{% endblock %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Als eerste dus de gekopieerde linken, vervolgens de navigatiebalk en tenslotte de plek waar ruimte is voor de andere pagina\u2019s om hun inhoud te tonen.</p>"},{"location":"week6/flask-views-deel5.html#homehtml","title":"<code>home.html</code>","text":"<p>Een heel eenvoudige pagina om mee te starten:</p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Welkom bij de beheersite van onze cursisten&lt;/h1&gt;\n    &lt;p&gt;Om te beginnen, selecteer een item uit de navigatiebalk.&lt;/p&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>De code van <code>base.html</code> wordt als eerste ingeladen. In het block worden de inleidende teksten vermeld en er is als accent gekozen om het \u2018<code>jumbotron</code>\u2019-effect te selecteren.</p>"},{"location":"week6/flask-views-deel5.html#voegtoe_curhtml","title":"<code>voegtoe_cur.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Heeft zich een nieuwe cursist aangemeld?&lt;/h1&gt;\n    &lt;p&gt;Vul de naam in en klik op Voeg toe:&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.naam.label }} {{ form.naam() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Niets nieuws onder de zon. Alleen hier nog even aandacht voor de geheime tag die moet worden opgenomen wanneer er met een formulier wordt gewerkt.</p>"},{"location":"week6/flask-views-deel5.html#toon_curhtml","title":"<code>toon_cur.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Dit zijn de momenteel ingeschreven cursisten.&lt;/h1&gt;\n    &lt;ul&gt;\n        {% for cur in cursisten  %}\n        &lt;li&gt;{{cur}}&lt;/li&gt;\n        {% endfor %}\n    &lt;/ul&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Een koptekst plus een lijst met cursisten. De <code>FOR</code>-loop haalt de cursisten \u00e9\u00e9n voor \u00e9en op uit de tabel cursisten.</p>"},{"location":"week6/flask-views-deel5.html#verwijder_curhtml","title":"<code>verwijder_cur.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Afmelding binnen gekomen?&lt;/h1&gt;\n    &lt;p&gt;Vul het ID van de cursist in en klik op Verwijder.&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.id.label }} {{ form.id() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Ook hier weer de geheime controletag omdat het een formulier betreft.</p>"},{"location":"week6/flask-views-deel5.html#stap-6-testen","title":"Stap 6: Testen","text":"<p>Eerste test is het runnen van <code>beheer_cursist.py</code>:</p> <p></p> <p>Tabel <code>Cursist</code> bestaat nu ook:</p> <p></p> <p>Nu \u2018Voeg cursist toe\u2019:</p> <p> Joyce is de eerste:</p> <p></p> <p>Na een klik op \u2018Voeg toe\u2019:</p> <p></p> <p>Vervolgens is Bram aan de beurt:</p> <p></p> <p>Na een klik op \u2018voeg toe\u2019:</p> <p></p> <p>Bram mag weer uit de Tabel verwijderd worden, zijn ID = 2, kan opgezocht worden:</p> <p></p> <p></p> <p>Na een klik op \u2018Verwijder\u2019:</p> <p></p> <p>Terug naar Home:</p> <p></p> <p>Als laatste nog een blik op de database:</p> <p></p> <p>Inderdaad nog maar \u00e9\u00e9n cursist aanwezig.</p>"},{"location":"week6/oefeningen/flask-views-oefening1.html","title":"Flask en SQL - Oefening 1","text":""},{"location":"week6/oefeningen/flask-views-oefening1.html#flask-en-sql-oefening-1","title":"Flask en SQL - Oefening 1","text":"<p>In deze oefening wordt gevraagd de theorie van de laatste twee paragrafen te combineren. Dat zijn het werken met meerdere tabellen en het opzetten van een website.</p> <p>Op de Hanzehogeschool krijgt iedere student een mentor mee. Het is de bedoeling een site te bouwen waarin dit op een zeer eenvoudige wijze geregeld gaat worden. Maak daarbij heel erg gebruik van code die je al in bezit hebt.</p> <p>De website heeft het volgende uiterlijk: </p> <p>Erg veel elementen lijken op het zojuist gegeven voorbeeld.</p> <p>Dit zijn de aanpassingen die gedaan moeten worden:</p> <ul> <li>Navigatiebalk krijgt een extra item.</li> <li>Er zijn twee modellen (tabellen) nodig (docent en student). Daarbij geldt dat iedere student \u00e9\u00e9n mentor heeft en dat een docent mentor kan zijn van meerdere studenten.</li> <li>Een derde formulier voor het vastleggen van studentgegevens, naam + ID van docent is genoeg.</li> <li>Een extra <code>@app.route()</code> is nodig.</li> <li>Pas het overzicht aan uit het voorbeeld zodat nu docent en student getoond worden in een mentorrelatie.</li> <li>Denk om de naamgeving, een typo is zo gemaakt.</li> <li>Er mag iedere keer als er een nieuwe naam is ingevoerd een Flash-bericht getoond worden.</li> <li>Alles bij elkaar moet je hiervoor de volgende bestanden maken:<ul> <li>Een bestande waarin je gebruik maakt van <code>FlaskForm</code> uit <code>flask_wtf</code> om de drie formulieren te maken; noem dit bestand <code>forms.py</code>;</li> <li>Een bestand met het databasemodel (zoals beschreven in de theorie) en de verschillende routes (zoals <code>@app.route('/list')</code> of <code>@app.route('/delete')</code>) die gebruik maakt van de formulieren uit je bestand <code>forms.py</code>; noem dit bestand <code>mentor_site.py</code>;</li> <li>Een stuk of zes templates: <code>base</code>, waarin je de algemene vormgeving en imports doet, <code>home</code>, waarin de bezoeker kan aangeven welke actie hij wil uitvoeren, en verder templates om studenten en docenten toe te voegen of te verwijderen (twee keer twee templates).</li> </ul> </li> </ul>"},{"location":"week7a/user-authentication-deel1.html","title":"User authentication - Hashing","text":""},{"location":"week7a/user-authentication-deel1.html#user-authentication-hashing","title":"User authentication - Hashing","text":""},{"location":"week7a/user-authentication-deel1.html#inleiding","title":"Inleiding","text":"<p>De titel van dit deel is User Authentication. Gelijk weer een omschrijving in het Engels... Vertaald naar normaal Nederlands levert dat het begrip gebruikersauthenticatie op. Hiermee wordt bedoeld dat voordat een gebruiker toegang wordt verleend op een aanvraag er een procedure wordt opgestart om te bepalen of het een rechtmatige aanvraag betreft.</p> <p>Kortweg, het draait om het inloggen.</p> <p>Tot nu toe heeft iedereen toegang tot elke pagina van de ontwikkelde webapplicaties. Vaak is het wenselijk de toegang te beperken tot alleen geregistreerde gebruikers. Het gaat in dit deel om de autorisatie en authenticatie van de gebruikers.</p> <p>De onderwerpen die we gaan behandelen zijn:</p> <ul> <li>Password hashing</li> <li>De <code>Flask-Login</code> library</li> </ul>"},{"location":"week7a/user-authentication-deel1.html#password-hashing","title":"Password hashing","text":"<p>Als een website gebruikersverificatie kent, zijn wachtwoorden en gebruikersnamen opgeslagen in een database. Om veiligheidsredenen zal nooit de letterlijke inhoud van het wachtwoord worden opgeslagen. Dat zou te gemakkelijk te achterhalen zijn voor hackers, en bovendien is het niet netjes wanneer een database-administrator gewoon beschikking zou hebben over wachtwoorden.</p> <p>Een hashfunctie brengt hierbij uitkomst. Het is een algoritme dat een wachtwoord kan omtoveren naar een veilig alternatief. En met veilig wordt bedoeld dat een buitenstaander uit de hash niet kan achterhalen wat het originele wachtwoord is.</p> <p>In de praktijk werkt dat als volgt: als een gebruiker een wachtwoord invoert, kan dit eenvoudig vergeleken worden met de opgeslagen hash. De hash is het enige wat opgeslagen wordt, en het is niet mogelijk (of in ieder geval erg moeilijk) om het wachtwoord te reconstrueren op basis van die hash.</p> <p>Voor het werken met die hashes kan uit een tweetal beschikbare bibliotheken gekozen worden:</p> <ul> <li><code>Bcrypt</code></li> <li><code>Werkzeug</code></li> </ul> <p>Beiden kunnen zeer goed gebruikt worden in een Flask-applicatie om te kunnen achterhalen of er een juist wachtwoord is ingevoerd. Van beide pakketten wordt een voorbeeld gegeven hoe het gebruikt kan worden.</p> <p><code>Bcrypt</code> en <code>Werkzeug</code> komen vaak mee als <code>Flask</code> ge\u00efnstalleerd wordt. Is dat niet het geval kunnen de pakketten op de bekende wijze opgehaald worden.</p>"},{"location":"week7a/user-authentication-deel1.html#bcrypt","title":"Bcrypt","text":"<p>Is Bcrypt aanwezig, is de eerste actie het importeren ervan. Daarna maken we een object aan van het type <code>BCrypt()</code> en gebruiken dat object om het wachtwoord te hashen:</p> <pre><code>In [1]: from flask_bcrypt import Bcrypt\n\nIn [2]: bcrypt = Bcrypt()\n\nIn [3]: hashed_pass = bcrypt.generate_password_hash('supergeheimwachtwoord')\n</code></pre> <p>Het wachtwoord wordt gehashed en bewaard in de variabele <code>hashed_pass</code>. Nadat het geprint is, is het echt niet meer te herleiden naar het origineel:</p> <pre><code>In [4]: print(hashed_pass)\nb'$2b$12$rFOT5/VUiUpjODpcCn/0UONrhkQ2h224c7Srz3jk2qJOAUw2.xvyG'\n</code></pre> <p>Wordt het runnen herhaald, verschijnt er een andere hash.</p> <p>Uiteraard nu weer een test naar de werking.</p> <p></p><pre><code>In [5]: bcrypt.check_password_hash(hashed_pass, 'verkeerdwachtwoord')\nOut[5]: False\n\nIn [6]: bcrypt.check_password_hash(hashed_pass, 'supergeheimwachtwoord')\nOut[6]: True\n</code></pre> Precies in de lijn der verwachting.<p></p>"},{"location":"week7a/user-authentication-deel1.html#werkzeug","title":"Werkzeug","text":"<p>Je kunt hetzelfde bereiken met Werkzeug, waarbij de syntax en de check zelfs nog iets simpeler is:</p> <pre><code>In [1]: from werkzeug.security import generate_password_hash,check_password_hash\n\nIn [2]: hashed_pass = generate_password_hash('supergeheimwachtwoord')\n\nIn [3]: print (hashed_pass)\npbkdf2:sha256:150000$hUiH149n$af71be7ff46588f9c5d93b4ec9f46ef1a64801d02434ee2057ca81b8bb2939cb\n\nIn [4]: check_password_hash(hashed_pass,'verkeerdwachtwoord')\nOut[4]: False\n\nIn [5]: check_password_hash(hashed_pass,'supergeheimwachtwoord')\nOut[5]: True\n</code></pre> <p>Het verschil tussen beiden is dat bij Werkzeug exact de juiste methoden binnengehaald worden en bij Bcrypt moet er soms een beetje over nagedacht worden. De keuze tussen deze pakketten is vrij arbitrair en ligt een beetje aan de voorkeuren van de ontwikkelaar.</p>"},{"location":"week7a/user-authentication-deel2.html","title":"User authentication - Flask_login deel I","text":""},{"location":"week7a/user-authentication-deel2.html#user-authentication-flask_login-deel-i","title":"User authentication - Flask_login deel I","text":"<p>De <code>Flask-login</code> bibliotheek maakt het heel eenvoudig om gebruikersauthenticatie toe te voegen aan webapplicaties. Deze bibliotheek heeft tevens de beschikking over gemakkelijk op te vragen decorators, waarmee extra gebruikersfunctionaliteit toegevoegd kan worden.</p> <p>De structuur van de inlogprocedure heeft de volgende vorm:</p> <pre><code>.\n\u251c\u2500\u2500 app.py\n\u2514\u2500\u2500 mijnproject\n    \u251c\u2500\u2500 forms.py\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 models.py\n    \u2514\u2500\u2500 templates\n        \u251c\u2500\u2500 base.html\n        \u251c\u2500\u2500 home.html\n        \u251c\u2500\u2500 login.html\n        \u251c\u2500\u2500 register.html\n        \u2514\u2500\u2500 welkom.html\n</code></pre> <p>Dit zijn alle files die nodig zijn bij dit project, met de naam <code>mijnproject</code>; download hier de bestanden. Technisch gezien is de applicatie te klein om uit te kunnen splitsen in aparte onderdelen, zoals in het vorige deel beschreven is. Maar dezelfde opzet is wel aangehouden.</p>"},{"location":"week7a/user-authentication-deel2.html#__init__py","title":"<code>__init__.py</code>","text":"<p>De eerste actie is weer het importeren van de benodigde items:</p> <pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\n</code></pre> <p>De onderste coderegel is nieuw. Waarschijnlijk zul je deze module separaat installeren door middel van <code>pip</code>.</p> <p><code>Flask-login</code> biedt gebruikerssessiebeheer voor <code>Flask</code>. Het voert de algemene taken uit van inloggen, uitloggen en het onthouden van de sessies van de gebruikers gedurende langere perioden. Hieronder staat een opsomming.</p> <ul> <li>De ID van de actieve gebruiker wordt opgeslagen in de sessie, zodat het gemakkelijker is de gebruiker aan en af te melden.</li> <li>Het laten zien van de views kan beperkt worden tot ingelogde (of uitgelogde) gebruikers.</li> <li>Het zorgt voor een handige \u201cRemember me\"-functionaliteit.</li> <li>Het helpt mee de sessiegegevens van de gebruikers te beschermen tegen diefstal door cookiedieven.</li> </ul> <p>Er zijn ook een aantal zaken die niet geregeld worden door de <code>Loginmanager</code>, maar daar wordt een oplossing voor geregeld tijdens het coderen.</p> <p>Zie de onderstaande code-listing voor een uitgewerkt voorbeeld:</p> <pre><code>app = Flask(__name__)\n\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\nbasedir = os.path.abspath(os.path.dirname(__file__))\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\n\nlogin_manager = LoginManager()\nlogin_manager.init_app(app)\nlogin_manager.login_view = \"login\"\n</code></pre> <p>De tweede gearceerde coderegel zorgt ervoor dat de app bekend is bij de <code>login_manager</code> en met de laatste regel wordt de plek doorgegeven waar gebruikers kunnen inloggen.</p>"},{"location":"week7a/user-authentication-deel2.html#modelspy","title":"<code>models.py</code>","text":"<p>Vervolgens weer de coderegels waarmee de benodigde items ge\u00efmporteerd worden. Ook hier is een nieuw item aanwezig. Verder is de keuze voor hashing gevallen op <code>Werkzeug</code>.</p> <pre><code>from mijnproject import db, login_manager\nfrom werkzeug.security import generate_password_hash,check_password_hash\nfrom flask_login import UserMixin\n</code></pre> <p>In de eerste coderegel wordt vastgelegd dat uit <code>__init__.py</code>, <code>db</code> en <code>login_manager</code> nodig zijn voor een juiste werking. De tweede regel is bekend en de derde coderegel zorgt voor enige luxe. <code>UserMixin</code> wordt als superklasse gebruikt en dat betekent dat er toegang verkregen wordt tot veel ingebouwde functies. Het is dan niet meer nodig als ontwikkelaar deze zelf aan te maken. Ze kunnen gewoon aangeroepen worden.</p> <p>Bijvoorbeeld:</p> <ul> <li><code>is_authenticated()</code></li> <li><code>is active()</code></li> <li><code>is_anonymous()</code></li> <li><code>get_id()</code></li> </ul> <p>Nu kan de gebruikersklasse aangemaakt worden. De naam van de klasse wordt <code>User</code>, dat is hier een gangbaardere term dan <code>Gebruiker</code>. Voor iedere gebruiker wordt het ID, de gebruikersnaam, een wachtwoord en het e-mailadres vastgelegd.</p> <p>De klasse <code>User()</code> erft eigenschappen van <code>dbModel</code> en <code>UserMixin</code>:</p> <pre><code>class User(db.Model, UserMixin):\n\n     __tablename__ = 'users'\n\n    id = db.Column(db.Integer, primary_key = True)\n    email = db.Column(db.String(64), unique=True, index=True)\n    username = db.Column(db.String(64), unique=True, index=True)\n    password_hash = db.Column(db.String(128))\n</code></pre> <p>Achter de variabelen <code>email</code>, <code>username</code> en <code>password_hash</code> staat een getal genoteerd (64 of 128). Dat betreft het aantal posities dat voor die variabele beschikbaar is. Verder hebben <code>email</code> en <code>username</code> het kenmerk <code>unique</code> meegekregen. Op de primary key wordt automatisch gecontroleerd dat er geen dubbele waarden van voorkomen, maar het e-mailadres en de gebruikersnaam mogen natuurlijk ook maar \u00e9\u00e9n keer voorkomen in de database met inloggegevens.</p> <p>Nu is het weer de beurt aan <code>__init__()</code>. De volgorde waarin de coderegels worden opgenomen in de diverse bestanden heeft steeds eenzelfde stramien.</p> <pre><code>def __init__(self, email, username, password):\n    self.email = email\n    self.username = username\n    self.password_hash = generate_password_hash(password)\n</code></pre> <p>Voor iedere nieuwe gebruiker wordt gevraagd om een gebruikersnaam, een e-mailadres en een wachtwoord. Van het opgegeven wachtwoord wordt onmiddellijk een hash-versie geproduceerd.</p> <p>Verder is er nog een methode nodig die gaat controleren of het ingevoerde wachtwoord het juiste is. In de vorige paragraaf is deze methode uitgebreid besproken:</p> <pre><code>def check_password(self, password):\n    return check_password_hash(self.password_hash, password)\n</code></pre> <p>Er wordt gecontroleerd of het opgegeven password voldoet aan de hash-versie. Er wordt <code>True</code> of <code>False</code> als uitkomst geretourneerd.</p> <p>Als laatste nog een nieuwe vereiste methode. Deze nieuwe functie <code>load_user()</code> wordt in de code opgenomen net voor het defini\u00ebren van de klasse <code>User()</code>:</p> <pre><code>@login_manager.user_loader\ndef load_user(user_id):\n    return User.query.get(user_id)\n</code></pre> <p>De <code>user_loader</code> decorator geeft <code>Flask-login</code> toestemming om de gegevens van de huidige gebruiker te laden en het bijbehorende ID te gebruiken. Daarmee kan de gebruiker pagina\u2019s bekijken die bij zijn profiel horen, zoals onder andere het beheren van de eigen gegevens en eigen blogberichten. En na een succesvolle aanmelding kan de naam van de gebruiker aan een welkomstwoord gekoppeld worden.</p>"},{"location":"week7a/user-authentication-deel2.html#formspy","title":"<code>forms.py</code>","text":"<p>In dit bestand worden de formulieren opgesteld. Bij het inloggen vinden er een aantal controles plaats, dus naast het importeren van de formulieropties, moeten ook de voorgeprogrammeerde validaties beschikbaar komen om die controles te kunnen uitvoeren zonder dat de ontwikkelaar ze zelf weer hoeft uit te programmeren.</p> <pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, PasswordField, SubmitField\nfrom wtforms.validators import DataRequired, Email, EqualTo\nfrom wtforms import ValidationError\nfrom mijnproject.models import User\n</code></pre> <p>Er moet gecontroleerd worden of velden op een formulier voldoen aan de verplichting een waarde te krijgen. Verder vindt er toezicht plaats of het opgegeven e-mailadres aan de eisen voldoet \u2013 is er bijvoorbeeld een apenstaartje (<code>@</code>) meegestuurd en dergelijke. De validator <code>EqualTo</code> is uitgerust om twee waardes met elkaar te vergelijken. Mocht er iets niet in orde dan kan er met behulp van de <code>ValidationError</code> een passende melding getoond wordt.</p> <p>Nu kunnen de formulieren opgebouwd worden, te beginnen met het registratieformulier. Omdat er als veel vaker Engelse termen in de code zijn opgetekend, worden hier ook Engelse benamingen gehanteerd.</p> <pre><code>class RegistrationForm(FlaskForm):\n    email = StringField('Email', validators=[DataRequired(),Email()])\n    username = StringField('Username', validators=[DataRequired()])\n    password = PasswordField('Password', validators=[DataRequired(), EqualTo('pass_confirm',    message='Passwords Must Match!')])\n    pass_confirm = PasswordField('Confirm password', validators=[DataRequired()])\n    submit = SubmitField('Leg vast!')\n</code></pre> <p>Voor de variabele <code>email</code> zijn twee (2) validators opgenomen: <code>DataRequired</code> en <code>Email</code>: dit betekent dat het tekstveld een verplichte invulling heeft er en er tevens een controle op de inhoud zal worden toegepast.</p> <p>De variabele <code>password</code> verdient ook de nodige aandacht te krijgen. Deze is van het type <code>PasswordField</code>, wat wil zeggen dat de inhoud op het scherm niet door anderen kan worden afgelezen. Het is in ieder geval een verplicht veld op het formulier. Op de tweede validator-optie komen we zo terug.</p> <p>Bij een registratie is het heel gebruikelijk te vragen om het wachtwoord nog een keer op te voeren om na te kunnen gaan of de gebruiker geen typo heeft gemaakt. Zo ook hier. De user voert een tweede keer het wachtwoord in dat wordt opgeslagen in de variabele <code>pass_confirm</code>.</p> <p>Nu weer terug naar het veld waar voor de eerste keer het wachtwoord wordt ingevuld. De tweede validator hier is <code>EqualTo</code>. Hierbij wordt nu vergeleken of de beide opgegeven wachtwoorden aan elkaar gelijk zijn.</p> <p>Aan dit formulier worden nog een tweetal methoden verbonden:</p> <p></p><pre><code>def validate_email(self, field):\n    if User.query.filter_by(email=field.data).first():\n        raise ValidationError('Dit e-mailadres staat al geregistreerd!')\n</code></pre> De melding is al duidelijk genoeg, maar toch nog wat extra uitleg. Er wordt gecontroleerd of het opgegeven e-mailadres gevonden kan worden door de waarde ervan op te geven in de <code>query.filter.by(waarde).first()</code>. Geeft dit resultaat <code>True</code>, dan is er al een e-mailadres met een gelijke inhoud in de database te vinden \u2013 en dat mag niet. Er moet dan een melding getoond worden, hetgeen hier dus via de <code>ValidationError</code> geregeld is.<p></p> <p>De tweede methode is nagenoeg gelijk aan de eerste. Alleen moet er nu nagegaan worden of de gebruikersnaam al in de database voorkomt.</p> <pre><code>def validate_username(self, field):\n    if User.query.filter_by(username=field.data).first():\n        raise ValidationError('Deze gebruikersnaam is al vergeven, probeer een ander naam!')\n</code></pre>"},{"location":"week7a/user-authentication-deel2.html#het-inlogformulier","title":"Het inlogformulier","text":"<p>Nu het registratieformulier ontwikkeld is, is de volgende logische stap het aanmaken van een inlogformulier:</p> <pre><code>class LoginForm(FlaskForm):\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    password = PasswordField('Password', validators=[DataRequired()])\n    submit = SubmitField('Inloggen')\n</code></pre> <p>Ook hier geldt dat het inlogformulier eigenschappen overneemt van <code>FlaskForm</code>. Verder is er niet zo veel bijzonders bij dit formulier te vermelden. Zoals al wel vaker gezegd, meer van hetzelfde.</p> <p>Het formulier kent twee velden, eentje om de gebruikersnaam in te geven en het tweede veld is beschikbaar voor het wachtwoord. Tenslotte kan het inloggen worden afgesloten door op de knop met het opschrift \u2018Inloggen\u2019 te klikken.</p>"},{"location":"week7a/user-authentication-deel3.html","title":"User authentication - Flask_login deel II","text":""},{"location":"week7a/user-authentication-deel3.html#user-authentication-flask_login-deel-ii","title":"User authentication - Flask_login deel II","text":"<p>Het bestand <code>app.py</code> heeft verreweg de meeste aandacht nodig. Daarom is hier een aparte paragraaf voor. Er zijn een aantal zaken die voor het eerst voorbijkomen en een aantal dingen waar een duidelijke uitleg bij vereist is.</p> <p>In dit bestand worden de views vastgelegd die nodig zijn om het loginsysteem naar verwachting te laten verlopen. Anders gezegd: de functies die de formulieren en de HTML-bestanden uit de directory <code>templates</code> met elkaar zullen gaan verbinden worden ontworpen en gecodeerd.</p>"},{"location":"week7a/user-authentication-deel3.html#eerste-opzet","title":"Eerste opzet","text":"<p>Eerst worden alle imports opgegeven die nodig zijn om dit bestand goed te laten functioneren:</p> <pre><code>from mijnproject import app,db\nfrom flask import render_template, redirect, request, url_for, flash\nfrom flask_login import login_user, login_required, logout_user\nfrom mijnproject.models import User\nfrom mijnproject.forms import LoginForm, RegistrationForm\n</code></pre> <p>De eerste regel laat de app en de database ophalen. Daarna worden van flask een aantal oude bekenden ge\u00efmporteerd.</p> <p>Vanaf de derde coderegel wordt het interessant. Deze regel zorgt ervoor dat de afwikkeling van het inloggen en uitloggen verzorgd worden zonder dat deze handelingen door de programmeur zelf geprogrammeerd hoeven te worden. </p> <p>Het tweede item wat wordt ingeladen is <code>login_required</code>. Hiermee kan de status van een gebruiker (user) achterhaald worden en op basis van die status de gepaste bijbehorende inhoud getoond worden. Is een gebruiker nog niet ingelogd dan zal hem de mogelijkheid geboden worden dit te doen. Is een gebruiker ingelogd en is het zijn wens de sessie te be\u00ebindigen moet deze mogelijkheid hem worden aangeboden. Hoe dat geregeld wordt, komt zo aan bod.</p> <p>Verder zijn hier de tabel <code>User</code> en de beide formulieren die in de vorige paragraaf ontworpen zijn nodig. Om er weer in te komen eerst de simpelste van de views, de <code>home-view</code>:</p> <pre><code>@app.route('/')\ndef home():\n    return render_template('home.html')\n</code></pre> <p>Als eerste een decorator die verwijst naar de homepagina. Deze functie (view) krijgt de naam <code>home</code> zodat er straks met <code>url_for()</code> gemakkelijk naar verwezen kan worden. De laatste regel vertelt dat in dat geval de pagina <code>home.html</code> getoond wordt, die pas in de volgende paragraaf zijn inhoud zal krijgen.</p> <p>De tweede view betreft een view die verschijnt op het moment dat de gebruiker succesvol is ingelogd. Deze view laat een welkomst-bericht tevoorschijn getoverd worden:</p> <pre><code>@app.route('/welkom')\n@login_required\ndef welkom():\n    return render_template('welkom.html')\n</code></pre> <p>Wat gelijk opvalt is dat er een tweetal decorators aan het begin van dit codeblok zijn opgenomen. De eerste geeft aan met welke route met het bestand <code>welkom.html</code> correspondeert. De tweede decorator controleert of de gebruiker van deze pagina daadwerkelijk is ingelogd. Is dat zo, wordt het welkomstbericht vrijgegeven. In het andere geval wordt er doorgeschakeld naar het loginformulier. </p> <p>Door deze acties te importeren van <code>Flask_login</code> wordt het de ontwikkelaar weer een stuk eenvoudiger gemaakt.</p>"},{"location":"week7a/user-authentication-deel3.html#logout-view","title":"Logout-view","text":"<p>Nog een redelijk eenvoudige view voordat er met het betere codeerwerk begonnen kan worden. Het wordt een view met de naam <code>logout</code>. Wat daar de bedoeling van is moge duidelijk zijn.</p> <pre><code>@app.route('/logout')\n@login_required\ndef logout():\n    logout_user()\n    flash('Je bent nu uitgelogd!')\n    return redirect(url_for('home'))\n</code></pre> <p>De <code>logout</code> view bevindt zich op de route <code>/logout</code>. Deze mogelijkheid wordt alleen geboden indien de gebruiker daadwerkelijk is ingelogd. Daar zorgt de decorator <code>login_required</code> voor. Het zou raar zijn uit te kunnen loggen zonder ingelogd te zijn. </p> <p>Binnen de functie <code>logout()</code> zorgt de functie <code>logout_user()</code> voor de afwikkeling van het uitloggen. Ook deze functie is ge\u00efmporteerd om het leven zo aangenaam mogelijk te maken. Als er succesvol uitgelogd is verschijnt er een flitsbericht en wordt de gebruiker doorgestuurd naar de homepagina.</p>"},{"location":"week7a/user-authentication-deel3.html#login-proces","title":"Login-proces","text":"<p>Nu het moeilijkere gedeelte, te beginnen met <code>login</code>. De uitleg wordt in kleine stapjes gedaan om de denkwijze en uitvoer op een handiger manier duidelijk te maken.</p> <pre><code>@app.route('/login', methods=['GET', 'POST'])\n</code></pre> <p>Er wordt begonnen met een decorator. En omdat er bij het inloggen een formulier nodig is, kan het niet achterwege gelaten worden de methoden <code>GET</code> en <code>POST</code> in deze coderegel op te nemen.</p> <pre><code>def login():\n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(email=form.email.data).first()\n</code></pre> <p>De view krijgt de naam <code>login</code> mee. Als eerste wordt er een instantie aangemaakt van het <code>LoginForm()</code> dat ook meegeleverd is in het importblok.</p> <p>Als er in het formulier op de Submit-knop gedrukt is, wordt nagegaan of de gebruiker bekend is in de database. Uit het formulier wordt het e-mailadres opgehaald en vergeleken met de opgeslagen e-mailadressen. Omdat er gecontroleerd is dat er geen dubbele e-mailadressen zijn ingevoerd is het voldoende het eerste gevonden record te benutten. Dit wordt ondergebracht in de variabele <code>user</code>.</p> <pre><code>    if user.check_password(form.password.data) and user is not None:\n        login_user(user)\n        flash('Succesvol ingelogd.')\n</code></pre> <p>Om succesvol te kunnen inloggen moet er aan twee condities voldaan worden. Het ingevulde wachtwoord van het formulier moet matchen met het corresponderende wachtwoord in de database. Dat regelt de functie <code>check_password()</code>. Bovendien wordt er gecontroleerd of de query wel een waarde heeft toegekend aan de variabele <code>user</code>. Is aan beide voorwaarden voldaan wordt de user automatisch ingelogd door de functie <code>login_user()</code> en verschijnt er een flitsbericht aan de bovenkant van het scherm. De functie <code>check_functie</code> komt mee met <code>User</code>.</p> <p>Nu nog wat bijzonders:</p> <pre><code>    next = request.args.get('next')\n\n    if next == None or not next[0]=='/':\n        next = url_for('welkom')\n        return redirect(next)\n</code></pre> <p>Stel een gebruiker probeert een pagina te bezoeken waarvoor inloggen vereist is (zoals <code>welkom.html</code>). Dan slaat <code>Flask</code> die URL op in de variabele <code>next</code>. Vervolgens wordt de gebruiker doorgelinkt naar het inlogformulier. </p> <p>Indien er succesvol is ingelogd wordt er nagegaan of de variabele <code>next</code> een waarde heeft. Is dat niet het geval wordt het welkomstbericht getoond, anders verschijnt de pagina waar nu wel toestemming voor gegeven is.</p> <p>Tot slot moet van de inlogview worden bepaald wat in beeld verschijnt als de view wordt aangeroepen:</p> <pre><code>    return render_template('login.html', form=form)\n</code></pre> <p>Het is natuurlijk duidelijk dat als de view <code>login</code> aangeroepen wordt, het inlogformulier getoond dient te worden.</p>"},{"location":"week7a/user-authentication-deel3.html#registratie","title":"Registratie","text":"<p>Nog \u00e9\u00e9n view te gaan, het registreren van belangstellenden. Omdat er al veel Engelse termen gebruikt zijn krijgt deze view daarom de route <code>register</code> mee.</p> <pre><code>@app.route('/register', methods=['GET', 'POST'])\n</code></pre> <p>Ook bij deze view wordt als eerste de route vastgesteld en zijn de methoden <code>GET</code> en <code>POST</code> noodzakelijk omdat gebruikers zich kunnen aanmelden door een formulier in te vullen.</p> <pre><code>def register():\n    form = RegistrationForm()\n</code></pre> <p>Bij het aanroepen van de view wordt een object van de klasse <code>RegistrationForm</code> aangemaakt. </p> <pre><code>    if form.validate_on_submit():\n        user = User(email=form.email.data,\n                    username=form.username.data,\n                    password=form.password.data)\n\n        db.session.add(user)\n        db.session.commit()\n        flash('Dank voor de registratie. Er kan nu ingelogd worden! ')\n</code></pre> <p>Indien het formulier met goed gevolg is ingevuld, waarbij onder meer de diverse checks zijn uitgevoerd, wordt er een nieuw object <code>user</code> aangemaakt met de ingevulde kenmerken e-mailadres, username en password.</p> <p>De gegevens worden toevertrouwd aan de database en bevestigd door het <code>commit()</code>-statement uit te voeren. Een succesvolle registratie verdient uiteraard weer een flitsbericht.</p> <pre><code>        return redirect(url_for('login'))\n    return render_template('register.html', form=form)\n</code></pre> <p>Wanneer de view wordt aangeroepen komt de inhoud van de pagina <code>register.html</code> in beeld en als het inloggen op een juiste wijze verlopen is wordt er doorgeschakeld naar de view login.</p> <p>Nog eentje te gaan. Dit is het bestand <code>app.py</code>, het bestand waarmee de applicatie gerund wordt. Dat betekent dat de volgende twee coderegels nog nodig zijn:</p> <pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p>Omdat er straks weer getest wordt, heeft debug de waarde <code>True</code> meegekregen zodat bij ieder foutje onmiddellijk in beeld verschijnt waar de fout gevonden kan worden. Werkt de applicatie feilloos en kan deze in productie genomen worden, mag debug zeker niet meer de status <code>True</code> hebben.</p>"},{"location":"week7a/user-authentication-deel4.html","title":"User authentication - Flask_login deel III","text":""},{"location":"week7a/user-authentication-deel4.html#user-authentication-flask_login-deel-iii","title":"User authentication - Flask_login deel III","text":"<p>Het meeste werk is achter de rug. Alleen de HTML-bestanden uit de folder <code>templates</code> blijven nog over. Er zijn nog een aantal acties waar uitleg bij nodig is maar het merendeel zou geen problemen meer moeten opleveren.</p>"},{"location":"week7a/user-authentication-deel4.html#basehtml","title":"<code>base.html</code>","text":"<p>Dit bestand wordt altijd gebruikt om een aantal standaardwaarden in op te nemen die vervolgens doorgegeven kunnen worden aan de andere files uit de folder <code>templates</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n  &lt;/head&gt;\n</code></pre> <p>Dit gedeelte is bekend en in de code zijn de benodigde linken naar Bootstrap opgenomen.</p> <p>De body vereist een kleine uitleg:</p> <pre><code> &lt;body&gt;\n  &lt;ul class=\"nav\"&gt;\n\n  &lt;li class=\"nav-item\"&gt;\n    &lt;a class=\"nav-link\" href=\"{{ url_for('home') }}\"&gt;Home&lt;/a&gt;\n  &lt;/li&gt;\n    {% if current_user.is_authenticated %}\n    &lt;li class=\"nav-link\"&gt;&lt;a href=\"{{ url_for('logout') }}\"&gt;Uitloggen&lt;/a&gt;&lt;/li&gt;\n    {% else %}\n    &lt;li class=\"nav-link\"&gt;&lt;a href=\"{{ url_for('login') }}\"&gt;Inloggen&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"nav-link\"&gt;&lt;a href=\"{{ url_for('register') }}\"&gt;Registreren&lt;/a&gt;&lt;/li&gt;\n    {% endif %}\n\n&lt;/ul&gt;\n{% block content %}\n\n{% endblock %}\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>De inhoud van de navigatiebalk, het menu wat de gebruiker te zien krijgt, wordt bepaald door de voorwaarde <code>if current_user.is_authenticated</code>. </p> <p>Is de gebruiker door de selectie gekomen dan heeft hij de mogelijkheid te kunnen uitloggen, en zo niet, dan kan een gebruiker zich laten registreren of inloggen.</p>"},{"location":"week7a/user-authentication-deel4.html#homehtml","title":"<code>home.html</code>","text":"<pre><code>% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n  {% if current_user.is_authenticated %}\n    &lt;p&gt;Hallo {{ current_user.username }}!&lt;/p&gt;\n  {% else %}\n    &lt;p&gt;Om te kunnen beginnen: log in of registreer!&lt;/p&gt;\n  {% endif %}\n&lt;/div&gt;\n\n{% endblock %}\n</code></pre> <p>Als de homepagina wordt aangeroepen door een ingelogde gebruiker verschijnt de tekst \u2018Hallo\u2018 + de naam. Is de gebruiker niet ingelogd, dan verschijnt er een aansporing om in te loggen of te registreren.</p>"},{"location":"week7a/user-authentication-deel4.html#welkomhtml","title":"<code>welkom.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;p&gt;Gefeliciteerd! Inloggen gelukt!&lt;/p&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre>"},{"location":"week7a/user-authentication-deel4.html#registerhtml","title":"<code>register.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;form method=\"POST\"&gt;\n    {{ form.hidden_tag() }}\n    {{ form.email.label }} {{ form.email() }}&lt;br&gt;\n    {{ form.username.label }} {{ form.username() }}&lt;br&gt;\n    {{ form.password.label }} {{ form.password() }}&lt;br&gt;\n    {{ form.pass_confirm.label }} {{ form.pass_confirm() }}&lt;br&gt;\n    {{ form.submit() }}\n&lt;/form&gt;\n{% endblock %}\n</code></pre> <p>Wanneer de view <code>register</code> wordt opgeroepen, wordt het registratieformulier getoond. Ook wordt er gecontroleerd op een typo bij het invullen van het wachtwoord.</p>"},{"location":"week7a/user-authentication-deel4.html#loginhtml","title":"<code>login.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;form method=\"POST\"&gt;\n    {{ form.hidden_tag() }}\n    {{ form.email.label }} {{ form.email() }}\n    {{ form.password.label }} {{ form.password() }}\n    {{ form.submit() }}\n&lt;/form&gt;\n{% endblock %}\n</code></pre> <p>Ook hier is een formulier nodig om een gebruiker toestemming te verlenen de pagina\u2019s van de site te kunnen inspecteren.</p>"},{"location":"week7a/user-authentication-deel4.html#testen","title":"Testen","text":"<p>Tot zover alle code die nodig is om een inlogsysteem op te zetten. Nu komt weer het spannendste deel, het testen.</p> <p>Na het runnen van <code>app.py</code>:</p> <p></p> <p>Registreren ('joyce@sessions.com' en het wachtwoord 'geheim'):</p> <p></p> <p>Inloggen:</p> <p></p> <p>Na inloggen: </p> <p>Een klik op Home:</p> <p></p> <p>Tot zover het testen. Er kunnen nog veel meer opties bekeken worden op hun gedrag, maar voor nu is dit even voldoende.</p>"},{"location":"week7b/flask-applicaties-deel1.html","title":"Flask-applicaties - Structuur","text":""},{"location":"week7b/flask-applicaties-deel1.html#flask-applicaties-structuur","title":"Flask-applicaties - Structuur","text":""},{"location":"week7b/flask-applicaties-deel1.html#refactoring","title":"Refactoring","text":"<p>Tot nu toe zijn alle coderegels in \u00e9\u00e9n <code>app.py</code>-bestand ondergebracht. Voor grotere Flask-applicaties is het logischer om delen van de applicatie in hun eigen bestanden vast te leggen bijvoorbeeld in <code>models.py</code>, <code>forms.py</code> en <code>views.py</code>.</p> <p>Voor nog grotere toepassingen begint het logisch te worden om de bestanden te herstructureren en componenten te scheiden zoals forms, views en templates voor elke belangrijke component.</p> <p>In dit deel hebben we aandacht voor de wijze waarop de ontwikkelde applicatie van oefening 1 gerefactored kan worden. Bij die oefening waren alle formulieren, views en templates in een enkel bestand of directory opgenomen. Zo maakte je een bestand <code>mentor_site.py</code>, waarin zowel het model als de verschillende routes waren opgenomen, en had je ook een bestand <code>forms.py</code>, waarin je de verschillende formulier-klassen had aangebracht. </p> <p>Refactoren is een andere structuur aan code (of eigenlijk een hele code-base) geven. In dit geval wordt het bestand <code>mentor_site.py</code> (dat je bij de vorige oefening hebt gemaakt) opgesplitst in afzonderlijke componenten voor de hierboven genoemde aspecten. In plaats van <code>mentor_site.py</code> wordt vanaf nu <code>app.py</code> gehanteerd.</p> <p></p> <p>Gebruik een bibliotheek</p> <p>De <code>blueprints</code>-bibliotheek kan gebruikt worden om deze afzonderlijke modulaire componenten te verbinden met het hoofdbestand <code>app.py</code>. Hier komen we zo op terug.</p> <p>Houd er rekening mee dat de <code>app.py</code> nog steeds een rol speelt, alleen verwijst het nu alleen nog naar de subcomponenten in plaats van zelf alle code te bevatten.</p>"},{"location":"week7b/flask-applicaties-deel1.html#nieuwe-structuur","title":"Nieuwe structuur","text":"<p>Tijd om de definitieve structuur aan te brengen voor deze applicatie. Let op, dit is een best lang overzicht:</p> <ul> <li><code>app.py</code>  (main <code>app.py</code>-bestand dat moet worden aangeroepen om de server voor de webapp te starten)</li> <li><code>requirements.txt</code> (Bestand waarin de dependencies zijn opgeslagen)</li> <li>mijn_project (project map, sub-componenten in aparte mappen)<ul> <li><code>data.sqlite</code></li> <li><code>models.py</code></li> <li><code>__init__.py</code></li> <li>docenten<ul> <li><code>forms.py</code></li> <li><code>views.py</code></li> <li>templates<ul> <li>docenten<ul> <li><code>add.html</code></li> <li><code>delete.html</code></li> <li><code>list.html</code></li> </ul> </li> </ul> </li> </ul> </li> <li>studenten<ul> <li><code>forms.py</code></li> <li><code>views.py</code></li> <li>templates<ul> <li>studenten<ul> <li><code>add.html</code></li> </ul> </li> </ul> </li> </ul> </li> <li>static (voor de opslag van CSS, JS, afbeeldingen, lettertypen etc.)</li> <li>templates<ul> <li><code>base.html</code></li> <li><code>home.html</code></li> </ul> </li> </ul> </li> </ul> <p>requirements.txt</p> <p>In Python projecten zal je vaak een <code>requirements.txt</code> bestand zien. Dit is een bestand waar de afhankelijkheden (de gebruikte modules) van de applicatie zijn beschreven. Je kan met <code>pip</code> de ge\u00efnstalleerde modules als volgt naar dit bestand laten schrijven:</p> <pre><code>pip freeze &gt; requirements.txt\n</code></pre> <p>Als je vervolgens de inhoud van <code>requirements.txt</code> bekijkt zal je zien dat het modules bevat inclusief versienummer, bijvoorbeeld <code>Flask==1.1.2</code>. Dit bestand wordt ook gebruikt om in bijvoorbeeld een nieuwe virtuele omgeving de vereiste modules te installeren, bijvoorbeeld:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>Het vastzetten van modules en bijbehorende versienummers is een manier om een repliceerbare omgeving voor een applicatie te gegaranderen, bijvoorbeeld als het live op een server moet draaien of wanneer je met andere mensen aan een project gaat samenwerken.</p> <p>In de volgende paragraaf wordt een applicatie omgeschreven naar een meer overzichtelijke vorm. Als voorbeeld gebruiken we de applicatie van de oefening uit het deel waarin voor het eerst een website gebouwd is.</p>"},{"location":"week7b/flask-applicaties-deel2.html","title":"Flask-applicaties - Refactored","text":""},{"location":"week7b/flask-applicaties-deel2.html#flask-applicaties-refactored","title":"Flask-applicaties - Refactored","text":"<p>Aan het einde van de vorige paragraaf is de algemene structuur voor de applicatie waarmee het overzicht van de docenten die als mentor fungeren samen met de door hen begeleide studenten vastgelegd. Nu is het tijd om deze te implementeren.</p> <p>Omdat al veel van de code geschreven en besproken is in voorgaande delen, wordt hier grotendeels het principe copy en paste gehanteerd.</p> <p><code>Flask</code> heeft een ingebouwde mogelijkheid waarmee de modulaire componenten voor de Flask-app geregistreerd kunnen worden: blueprints. Hiermee kan op een eenvoudige wijze een view geraadpleegd worden voor ieder aspect van de applicatie.</p> <p>Zo zijn er bijvoorbeeld een tweetal <code>view.py</code>-bestanden: \u00e9\u00e9n voor docenten en \u00e9\u00e9n voor studenten. En elk van deze views heeft zijn eigen <code>add</code>-view. Om ervoor te zorgen dat de Flask-applicatie niet in de war raakt door een <code>/add</code>-route, maken we gebruik van blueprints. De blueprints registreren een <code>url_prefix</code> voor elk <code>views.py</code>-bestand:</p> <ul> <li><code>/docenten/add</code></li> <li><code>/studenten/add</code></li> </ul> <p>De voornaamste wijzigingen in de code zullen zijn:</p> <ul> <li>Herstructurering van de projectmappen</li> <li>Het toevoegen van blueprints</li> <li>Het registreren van de blueprints  <code>__init__.py</code></li> </ul> <p>Nogmaals, in dit deel ligt de nadruk in het opzetten van een algemene structuur voor een applicatie. Daarom wordt er geen nieuwe applicatie vanaf scratch ontwikkeld maar wordt de inhoud van de vorige web-applicatie voornamelijk gekopieerd.</p>"},{"location":"week7b/flask-applicaties-deel2.html#stap-1-het-aanmaken-van-de-structuur-van-de-folderset","title":"Stap 1: Het aanmaken van de structuur van de folderset.","text":"<p>Het aanmaken van de structuur zal in gedeelten besproken worden, zodat nog een keer duidelijk wordt hoe het opzetten van een uitgebreide applicatie het beste kan geschieden.</p> <pre><code>.\n\u251c\u2500\u2500 mijnproject\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 models.py\n\u2514\u2500\u2500 app.py\n</code></pre> <p>Om alles uit elkaar te kunnen houden hebben we een nieuw project aangemaakt met de naam 'Refactor'. Binnen het project zijn op het hoogste niveau een tweetal zaken nodig: een folder waarin de items van de applicatie worden ondergebracht, hier <code>mijnproject</code> en een Python-file, hier <code>app.py</code> genaamd. Deze file importeert enkele items en kent verder alleen een verwijzing naar de pagina <code>home.html</code>. Deze file wordt als allerlaatste gecodeerd.</p> <p>De folder <code>templates</code> bevat een tweetal HTML-bestanden. Allereerst het bestand <code>base.html</code> met de links naar Bootstrap, de titel, de navigatiebalk en een leeg blok. Het andere bestand, <code>home.html</code> bevat de inhoud van de homepagina.</p> <p>In <code>__init__.py</code> worden weer de bekende aspecten van flask ge\u00efmporteerd, de database aangemaakt, de basisdirectory bepaald en de koppeling tussen applicatie en database ingesteld. Later worden hier nog de blueprints aan toegevoegd.</p> <p>In <code>models.py</code> wordt de structuur van de database bepaald, zoals al een aantal keren aan bod is geweest.</p> <p>De structuur van de folder <code>mijnproject</code> is dan als volgt:</p> <pre><code>.\n\u251c\u2500\u2500 mijnproject\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 models.py\n\u2514\u2500\u2500 app.py\n</code></pre> <p>Voor zowel de docenten als de studenten wordt een eigen directory ingericht. Hierin kunnen de onderdelen worden opgenomen die van toepassing zijn voor de verschillende onderwerpen. Voor beide directories zijn formulieren, views en templates ontwikkeld die nu keurig van elkaar gescheiden worden ondergebracht in de applicatie. Voor beide domeinen (docenten en studenten) is een eigen folder gereserveerd waarin de specifieke HTML-bestanden voor ieder doel komen te staan.</p>"},{"location":"week7b/flask-applicaties-deel2.html#stap-2-het-toevoegen-van-de-paginas-die-al-ontwikkeld-zijn","title":"Stap 2: Het toevoegen van de pagina\u2019s die al ontwikkeld zijn.","text":"<p>De code van de diverse pagina\u2019s zal nog een keer getoond worden zonder al te veel commentaar erbij.</p>"},{"location":"week7b/flask-applicaties-deel2.html#modelspy","title":"<code>models.py</code>","text":"<p>Als eerste <code>models.py</code>:</p> <pre><code>#from mijnproject import db\n\nclass Docent(db.Model):\n\n    __tablename__ = 'docenten'\n    id = db.Column(db.Integer,primary_key = True)\n    naam = db.Column(db.Text)\n    student = db.relationship('Student',backref='docent',uselist=False)\n\n    def __init__(self,naam):\n        self.naam = naam\n\n    def __repr__(self):\n        if self.student:\n            return f\"Docent {self.naam} is mentor van {self.student.naam}\"\n        else:\n            return f\"Docent {self.naam} heeft geen studenten als mentor te begeleiden.\"\n\nclass Student(db.Model):\n\n    __tablename__ = 'studenten'\n\n    id = db.Column(db.Integer,primary_key= True)\n    naam = db.Column(db.Text)\n    docent_id = db.Column(db.Integer,db.ForeignKey('docenten.id'))\n\n    def __init__(self,naam,docent_id):\n        self.naam = naam\n        self.docent_id = docent_id\n\n    def __repr__(self):\n        return f\"Deze student heet {self.name}\"\n</code></pre> <p>Uit het bestand <code>mentor_site.py</code> zijn de klassen <code>Docent</code> en <code>Student</code> overgenomen. Punt van aandacht is nog wel dat er nog een koppeling gemaakt moet worden naar de plek waar db wordt aangemaakt. Dat zal gebeuren in het bestand <code>__init__.py</code>. Het is alvast opgenomen als commentaarregel. Als tweede wordt de folder templates gevuld met de bestanden <code>base.html</code> en <code>home.html</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#basehtml","title":"<code>base.html</code>","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;title&gt;Mentoraat&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n\n    &lt;div class=\"navbar-nav\"&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('add_doc') }}\"&gt;Voeg docent toe&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('list_doc') }}\"&gt; Toon mentoren&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('del_doc') }}\"&gt;Verwijder docent Pup&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('add_stu') }}\"&gt;Voeg student toe&lt;/a&gt;\n    &lt;/div&gt;\n\n&lt;/nav&gt;\n\n{% block content %}\n\n{% endblock %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Deze code zorgt voor het tweede aandachtspunt: de URL\u2019s zullen aangepast moeten worden, omdat ze nu naar verschillende directories verwijzen. Dat is ook \u00e9\u00e9n van de laatste aanpassingen die geregeld moeten worden.</p>"},{"location":"week7b/flask-applicaties-deel2.html#homehtml","title":"<code>home.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Overzicht mentoraat&lt;/h1&gt;\n    &lt;p&gt;Selecteer om te beginnen een item uit de navigatiebalk.&lt;/p&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Als enige is de tekst <code>&lt;h1&gt;</code> bijgesteld.</p> <p><code>__init__.py</code></p> <pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\n\napp = Flask(__name__)\n\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nMigrate(app,db)\n</code></pre> <p>Ook hierbij is een gedeelte overgenomen uit het bestand <code>mentor_site.py</code> van de oefening. Maar het is niet integraal overgenomen: er is een aantal regels weggelaten. De reden daarvoor is dat deze file geen code bevat die nodig is om views aan te maken. Dat wordt straks geregeld is de daarvoor beschikbare folders: <code>docenten</code> en <code>studenten</code>.</p> <p>Bovendien dienen er nog een aantal registraties voor de blueprints aan de code te worden toegevoegd. Dat is het derde aandachtspunt voor de volgende paragraaf.</p> <p>Alleen de gegevens die van toepassing zijn op docenten worden overgenomen uit <code>forms.py</code>. De namen van de formulieren zijn aangepast zodat het een meer gangbaar karakter krijgt. Bovendien kan nu steeds dezelfde naam gebruikt worden omdat de formulieren in verschillende directories zijn ondergebracht. Voor toevoegen wordt nu <code>Add</code> gebruikt, voor verwijderen <code>Del</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#formspy-uit-de-folder-docenten","title":"<code>forms.py</code> uit de folder <code>docenten</code>","text":"<pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, IntegerField, SubmitField\n\n\nclass AddForm(FlaskForm):\n    naam = StringField('Naam docent:')\n    submit = SubmitField('Voeg toe')\n\nclass DelForm(FlaskForm):\n    id = IntegerField('Vul het ID in van de docent die verwijderd gaat worden:')\n    submit = SubmitField('Verwijder')\n</code></pre>"},{"location":"week7b/flask-applicaties-deel2.html#formspy-uit-de-folder-studenten","title":"<code>forms.py</code> uit de folder <code>studenten</code>","text":"<pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, IntegerField, SubmitField\n\nclass AddForm(FlaskForm):\n    naam = StringField('Naam student:')\n    doc_id = IntegerField(\"Id van de docent: \")\n    submit = SubmitField('Voeg toe')\n</code></pre> <p>De formulieren zijn uit elkaar gehaald en in een passende folder ingevoegd. Beiden hebben nu een formulier met de naam <code>AddForm</code>. Dat gaat helemaal goed, omdat later met blueprints de juiste relaties gelegd zullen worden, zodat er geen verwarring kan ontstaan en de verkeerde formulieren getoond gaan worden.</p> <p>De nog resterende HTML-files kunnen nu op de juiste plaats gezet worden. Als eerste moeten er drie bestanden in de folder <code>templates/docenten</code> aangemaakt worden: <code>add.html</code>, <code>delete.html</code> en <code>list.html</code>. De namen van de oefening worden vervangen door wat meer algemeen geldige namen.</p>"},{"location":"week7b/flask-applicaties-deel2.html#addhtml","title":"<code>add.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Heeft zich een docent als kandidaat mentor gemeld?&lt;/h1&gt;\n    &lt;p&gt;Vul de naam in en klik op 'Voeg toe':&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.naam.label }} {{ form.naam() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>De code is overgenomen uit <code>voegtoe_docent.html</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#deletehtml","title":"<code>delete.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Een docent afmelden als mentor?&lt;/h1&gt;\n    &lt;p&gt;Vul het ID in en klik op 'Verwijder'.&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.id.label }} {{ form.id() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Deze code komt uit <code>verwijder_docent.html</code></p> <p><code>list.html</code></p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Een overzicht van de mentoren en hun studenten.&lt;/h1&gt;\n    &lt;ul&gt;\n        {% for doc in docenten  %}\n        &lt;li&gt;{{doc}}&lt;/li&gt;\n        {% endfor %}\n    &lt;/ul&gt;\n\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>En deze code is integraal gekopieerd van <code>mentor_overzicht.html</code></p> <p>Als laatste is er nog een view nodig om nieuwe studenten in de database te kunnen opnemen. Ook hier wordt gebruik gemaakt van een naam die al eerder gebruikt is: <code>add.html</code>. Omdat alle code in aparte folders is ondergebracht is het geen probleem bij de uitvoering van het programma.</p>"},{"location":"week7b/flask-applicaties-deel2.html#addhtml-studenten-toevoegen","title":"<code>add.html</code> (studenten toevoegen)","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Voeg een student in&lt;/h1&gt;\n    &lt;p&gt;Voeg tevens het ID van de mentor toe en klik op 'Voeg toe':&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.naam.label }} {{ form.naam() }}&lt;br&gt;\n        {{ form.doc_id.label }} {{ form.doc_id() }}&lt;br&gt;\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Deze code is overgenomen uit <code>voegtoe_student.html</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#conclusie","title":"Conclusie","text":"<p>De inspanningen in deze paragraaf hebben ertoe geleid dat de structuur die ontworpen is ook daadwerkelijk is aangemaakt. Grote delen van de code van de uitwerking van de oefenopdracht website zijn al op de juiste plaats neergezet.</p> <p>Er zijn nog een paar aandachtspunten overgebleven waar in de volgende paragraaf een vervolg aan moet worden gegeven.</p> <p>Bovendien worden er de nodige blueprints in de code opgenomen. Tot slot van deze paragraaf een complete directory-listing na onze majeure refactoring:</p> <pre><code>.\n\u251c\u2500\u2500 mijnproject\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 add.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 delete.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 list.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 add.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 base.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 home.html\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 models.py\n\u2514\u2500\u2500 app.py\n</code></pre>"},{"location":"week7b/flask-applicaties-deel3.html","title":"Flask-applicaties - Blueprints","text":""},{"location":"week7b/flask-applicaties-deel3.html#flask-applicaties-blueprints","title":"Flask-applicaties - Blueprints","text":"<p>Tot dusver hebben is de inhoud van de bestanden niet gewijzigd. We hebben ze uit elkaar gehaald en opgenomen in afzonderlijke folders, maar verder niet aangepast. Voor de <code>views.py</code>-bestanden moeten deze bestanden als blueprints toegevoegd worden om daarna geregistreerd te kunnen worden in het bestand  <code>__init__.py</code>.</p> <p>Er zijn nog een aantal aandachtspunten van de vorige paragraaf blijven hangen waar ook nog een passende oplossing voor gecre\u00eberd dient te worden:</p> <ul> <li>Het toevoegen van code aan de <code>views.py</code>-bestanden.</li> <li>Het toevoegen van de blueprints.</li> <li>Het registreren van de blueprints.</li> <li>Het coderen van de file <code>app.py</code>.</li> <li>Aanpassen van de <code>url_for ()</code>-links in de navigatiebalk.</li> <li>Het aanmaken van de database.</li> <li>Als laatste weer het testen of de applicatie minstens zo goed werkt als de vorige versie.</li> </ul>"},{"location":"week7b/flask-applicaties-deel3.html#de-studenten-view","title":"De studenten-view","text":"<p>De belangrijkste reden om blueprints te gebruiken is dat we hiermee onnze applicatie kunnen organiseren door logica in submappen te groeperen.</p> <p><code>views.py</code> (uit de folder <code>mijnproject/studenten/views.py</code>):</p> <pre><code>from flask import Blueprint,render_template,redirect,url_for\nfrom mijnproject import db\nfrom mijnproject.models import Student\nfrom mijnproject.studenten.forms import AddForm\n\nstudenten_blueprint = Blueprint('studenten',\n                             __name__,\n                             template_folder='templates')\n\n@studenten_blueprint.route('/add', methods=['GET', 'POST'])\ndef add():\n\n    form = AddForm()\n\n    if form.validate_on_submit():\n        naam = form.naam.data\n        doc_id = form.doc_id.data\n        new_student = Student(naam,doc_id)\n        db.session.add(new_student)\n        db.session.commit()\n\n        return redirect(url_for('docenten.list'))\n    return render_template('studenten/add.html',form=form)\n</code></pre> <p>Als eerste wordt hier weer het nodige ge\u00efmporteerd. Belangrijk hierbij is dat ook <code>Blueprint</code> wordt meegenomen uit het pakket <code>flask</code>. Verder zijn nodig de database (db) uit <code>mijnproject</code>, de tabel <code>Student</code> en het formulier waarmee een nieuwe student ingevoerd kan worden. </p> <p>Vervolgens wordt er een variabele aangemaakt <code>studenten_blueprint</code>. Deze variabele is een instantie van de klasse <code>Blueprint</code>. Er moeten een drietal kenmerken worden vastgelegd: een naam (hier <code>studenten</code>), de naam van de applicatie, en de folder die verantwoordelijk is voor alle logica voor de studenten. </p> <p>Daarna kan de decorator aangemaakt worden. Dit moet weer bekend voorkomen. Aangezien alle gegevens van studenten zijn samengebracht in de map <code>studenten</code> valt af te lezen dat het pad om de gegevens terug te kunnen vinden binnen <code>templates/</code> heel logisch wordt. Dat pad wordt ook vastgelegd in <code>studenten_blueprint</code>. Voor het pad binnen render-templates voegen we dan nog de directory toe waar het te gebruiken template staat <code>studenten/add.html</code>.</p> <p>Vervolgens wordt de view gecodeerd (gekopieerd). Daarbij wordt als eerste het formulier gedefinieerd en vervolgens bepaalt wat er moet gebeuren als er nog niet op Submit geklikt is en wat wanneer het formulier al wel is ingevuld.</p>"},{"location":"week7b/flask-applicaties-deel3.html#de-docenten-view","title":"De docenten-view","text":"<p><code>views.py</code> (uit de folder <code>mijnproject/docenten/views.py</code>)</p> <pre><code>from flask import Blueprint,render_template,redirect,url_for\nfrom mijnproject import db\nfrom mijnproject.docenten.forms import AddForm,DelForm\nfrom mijnproject.models import Docent\n\ndocenten_blueprint = Blueprint('docenten',\n                              __name__,\n                              template_folder='templates')\n\n@docenten_blueprint.route('/add', methods=['GET', 'POST'])\ndef add():\n    form = AddForm()\n\n    if form.validate_on_submit():\n        naam = form.naam.data\n\n        new_doc = Docent(naam)\n        db.session.add(new_doc)\n        db.session.commit()\n\n        return redirect(url_for('docenten.list'))\n\n    return render_template('docenten/add.html',form=form)\n\n@docenten_blueprint.route('/list')\ndef list():\n    docenten = Docent.query.all()\n    return render_template('docenten/list.html', docenten=docenten)\n\n@docenten_blueprint.route('/delete', methods=['GET', 'POST'])\ndef delete():\n\n    form = DelForm()\n\n    if form.validate_on_submit():\n        id = form.id.data\n        doc = Docent.query.get(id)\n        db.session.delete(doc)\n        db.session.commit()\n\n        return redirect(url_for('docenten.list'))\n    return render_template('docenten/delete.html',form=form)\n</code></pre> <p>Meer van hetzelfde. Nu zijn er twee views die gemaakt moeten worden. De <code>blueprint</code> verwijst nu naar de folder waar de applicatie-onderdelen voor docenten gevonden kunnen worden.</p>"},{"location":"week7b/flask-applicaties-deel3.html#registratie-van-de-blueprints","title":"Registratie van de blueprints","text":"<p>De blueprints moeten nu nog geregistreerd worden in de file <code>__init__.py</code>. De blueprints moeten worden opgenomen in de code nadat de db gedefinieerd is.</p> <p>Dat vastleggen gaat in een tweetal stappen. Als eerste moeten de blueprints opgehaald worden uit de folders waar ze zijn aangemaakt. Eenmaal ge\u00efmporteerd kunnen ze geregistreerd worden:</p> <pre><code>from mijnproject.docenten.views import docenten_blueprint\nfrom mijnproject.studenten.views import studenten_blueprint\n\napp.register_blueprint(studenten_blueprint,url_prefix=\"/studenten\")\napp.register_blueprint(docenten_blueprint,url_prefix='/docenten')\n</code></pre> <p>De laatste file die nog geen inhoud heeft is <code>app.py</code>. Daarin wordt de volgende code ondergebracht:</p> <pre><code>from mijnproject import app\nfrom flask import render_template\n\n@app.route('/')\ndef index():\n    return render_template('home.html')\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p>Om te beginnen worden er weer een tweetal items ingeladen. Op het eerste gezicht ziet <code>import app</code> er wat raar uit, maar er wordt gevraagd om de volgende regel: <code>app = Flask(__name__)</code> op te halen uit <code>__init__.py</code>. Belangrijk is dat vervolgens de homepagina geladen kan worden als aan de <code>if</code>-voorwaarde voldaan wordt.</p>"},{"location":"week7b/flask-applicaties-deel3.html#laatste-loodjes","title":"Laatste loodjes","text":"<p>Er staan nog drie punten op het lijstje die nog gedaan moeten worden:</p> <ul> <li> <p>Aanpassen van de <code>url_for ()</code>-links in de navigatiebalk.</p> </li> <li> <p>Het aanmaken van de database.</p> </li> <li> <p>het testen.</p> </li> </ul> <p>Het bestand <code>base.html</code> moet nog aangepast worden omdat de hyperlinks nu nog naar pagina\u2019s verwijzen die niet meer bestaan. De aanpassingen staan hieronder vermeld, de links naar Bootstrap zijn weggelaten:</p> <pre><code>&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n\n    &lt;div class=\"navbar-nav\"&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('docenten.add') }}\"&gt;Voeg docent toe&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('docenten.list') }}\"&gt; Toon mentoren&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('docenten.delete') }}\"&gt;Verwijder docent&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('studenten.add') }}\"&gt;Voeg student toe&lt;/a&gt;\n    &lt;/div&gt;\n\n&lt;/nav&gt;\n</code></pre> <p>Voordat er getest kan worden dient de database aangemaakt te worden. Daarvoor zijn de vier inmiddels bekende stappen nodig:</p> <ol> <li>Stel de omgevingsvariabele FLASK_APP in<ul> <li>Voor een MacOS / Linux-machine is dat <code>export FLASK_APP = app.py</code></li> <li>Voor een Windows-machine <code>set FLASK_APP = app.py</code></li> </ul> </li> <li><code>flask db init</code> </li> </ol>"},{"location":"week7b/flask-applicaties-deel3.html#resultaat","title":"Resultaat","text":"<p>Als alles naar behoren is gegaan kan er nu weer getest worden. </p> <p>Homepagina:</p> <p></p> <p>Na het toevoegen van docent Bart:</p> <p></p> <p>Docent Bart wordt mentor van Roos:</p> <p></p> <p></p>"}]}