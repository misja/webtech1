{"config":{"lang":["nl"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Start","text":""},{"location":"index.html#webtechnologie-1","title":"Webtechnologie 1","text":"<p>In deze module maken we kennis met webtechnologie. We bespreken html en css, en gebruiken het Bootstrap-framework om de vormgeving van onze site eenvoudig professioneel te maken. Vervolgens gebruiken we de python-library Flask om websites interactief te maken en aan te sluiten op een sqlite-database.</p> <p>Zoals altijd hebben we ook in deze module te maken met versies van de afhankelijkheden. Alle voorbeelden en opdrachten zijn getest en uitgewerkt met speciekeke versies, maar in de tussentijd kunnen deze natuurlijk zijn aangepast. Download hier het requirements-bestand om de exacte versies van deze dependencies te krijgen.</p> <p>De module is onderdeel van de propedeuse van de opleiding HBO-ICT en is daarom bewust breed van ondiep van opzet: we bespreken alle facetten en alle lagen waar webtechnologie mee te maken heeft, maar gaan nergens echt de diepte in. Het web is een complex apparaat waarin veel verschillende technieken samenwerken en het is binnen het tijdsbestek van tien weken niet mogelijk om die allemaal uit ten treure te behandelen. Voor deze propedeutische fase is het voldoende wanneer deelnemers aan het eind voldoende working knowledge van dit alles hebben. Bij de opleiding Software Engineering komt het web nog uitgebreid aan de orde in semester vier.</p>"},{"location":"index.html#opzet-van-het-thema","title":"Opzet van het thema","text":"<p>Elke week staat een specifiek onderdeel van het web centraal. Dit onderwerp wordt ondersteund door een vooraf opgenomen theorieles die studenten in hun eigen tijd kunnen doornemen. Hiernaast zijn er werkcolleges, waarin studenten werken aan oefeningen die het onderwerp van die week via een meer praktische weg over het voetlicht brengen. Vanaf week vijf werken studenten in duo\u2019s aan hun eigen project, op basis waarvan de beoordeling plaatsvindt.</p> <p>Elke klas heeft twee werkcolleges per week. Bij dit werkcollege wordt de theoretische opzet nog een keer praktisch uitgebreid toegelicht. Per week zijn er ook oefeningen gegeven waar studenten individueel of met hun projectduopartner aan kunnen werken. De werkcolleges zijn verder natuurlijk bedoeld om te werken aan het project; de practiumdocent is dan aanwezig om vragen te stellen of te beantwoorden.</p>"},{"location":"index.html#weekplanning","title":"Weekplanning","text":"<p>In de tabel hieronder staan de onderwerpen per week.</p> P-weeknummer Onderwerpen 1 Front-end, html en css 2 Python OOP 3 voorjaarsvakantie 4 Python en databases 5 Flask en Jinja-templates 6 Flask en formulieren 7 Flask en databases (ORM) 8 Inloggen en evt. Refactoring"},{"location":"index.html#toetsing","title":"Toetsing","text":"<p>Liefst zo snel mogelijk, in ieder geval vanaf week vijf, werken studenten in duo's aan hun eigen project, waarbij de volgende onderdelen van belang zijn:</p> <ul> <li>Website heeft vormgeving en een koppeling met een database</li> <li>Op de site ingevulde data komt door sqlalchemy terecht in een sqlite-database</li> <li>Website maakt gebruik van verschillende views</li> <li>Geregistreerde bezoekers kunnen op de site inloggen</li> </ul> <p>Als studenten geen project hebben of kunnen bedenken, is het ook prima om \u00e9\u00e9n van de vier voorgestelde projecten uit te werken.</p> <p>Hulpmiddel bij de beoordeling van het project kan een kort assessment met de betreffende practicumdocent zijn. Tijdens dit gesprek van zo'n 10 minuten laten de student-duo's hun uitwerking zien en worden ze bevraagd over de technische en niet-technische aspecten van hun realisatie. Ten behoeve van deze gesprekken wordt een extra lange laatste les in de laatste lesweek ingeroosterd - de docenten maken daarbinnen een separaat rooster voor de duo's.</p> <p>Basis voor de uiteindelijke beoordeling is de beoordelings-rubric. Mocht het project aan het eind van het blok nog onvoldoende blijken te zijn, dan worden door de betreffende practicumdocent individuele reparatieafspraken (inclusief deadline) gemaakt. In dat geval wordt de onvoldoende wel in Osiris geregistreerd en gelden de herstelwerkzaamheden als herkansing.</p> <p>Deadlines zijn te vinden in de BrightSpace-course van dit vak.</p>"},{"location":"index.html#bron","title":"Bron","text":"<p>Deze module is in grote lijnen gebaseerd op de cursus Python and Flask Bootcamp van Udemy. Om deze cursus voor de opleiding geschikt te maken hebben we de programmacode gemoderniseerd en vertaald naar het Nederlandse domein, specifieke methoden en technieken (die voor deze fase te ver gingen) verwijderd en het geheel van uitgebreide tekstuele toelichting voorzien.</p>"},{"location":"projecten/index.html","title":"Casu\u00efstiek voor het project","text":""},{"location":"projecten/index.html#casuistiek-voor-het-project","title":"Casu\u00efstiek voor het project","text":"<p>Liefst zo snel mogelijk, in ieder geval vanaf week vijf, werken studenten in duo's aan hun eigen project, waarbij de volgende onderdelen van belang zijn:</p> <ul> <li>Website heeft vormgeving en een koppeling met een database</li> <li>Op de site ingevulde data komt via SQLAlchemy terecht in een SQLite-database</li> <li>Website maakt gebruik van verschillende views</li> <li>Geregistreerde bezoekers kunnen op de site inloggen</li> </ul> <p>Wanneer studenten zelf geen project kunnen bedenken, is het prima \u00e9\u00e9n van de onderstaande projecten uit te voeren:</p> <ol> <li>Bungalowpark Bos en Duin</li> <li>Website Filmfan</li> <li>Programmeerles voor gepensioneerden</li> <li>Stage lopen</li> </ol> <p>Kies \u00e9\u00e9n van deze casussen en laat aan je practicumdocent weten welke casus je gaat doen en met wie. Het advies is om je practicumdocent geregeld om feedback te vragen. Het kan zijn dat je practicumdocent een klassikaal moment inplant waarop elk duo hun idee en eventueel begin van de uitwerking aan de gehele groep kort presenteert.</p>"},{"location":"projecten/index.html#uitgebreide-planning","title":"Uitgebreide planning","text":""},{"location":"projecten/index.html#week-1-3","title":"week 1-3","text":"<p>Regel je IDE (ontwikkelomgeving). Inventariseer welke bestanden nodig zijn (py en html) en bedenk het ontwerp en de vormgeving van de site.</p>"},{"location":"projecten/index.html#week-4","title":"week 4","text":"<p>Maak de belangrijkste bestanden <code>__init__py</code>, <code>models.py</code> en <code>app.py</code> aan. Daarnaast kunnen <code>base.html</code> en <code>home.html</code> nu ook aangemaakt worden in de folder templates (in <code>base.html</code> wordt de navigatiebalk opgezet, denk hier goed over na). Maak ook templates voor de andere pagina's uit je ontwerp</p> <p>Test de werking en met name de interactie van de site.</p>"},{"location":"projecten/index.html#week-5-6","title":"week 5-6","text":"<p>Maak per model (tabel) de bestanden <code>forms.py</code> en <code>views.py</code> aan. Maak ook in de folder templates aan met de specifiek voor dat model beschikbare html-bestanden. Zorg ervoor dat de betreffende data via de website benaderd en eventueel aangepast kan worden.</p>"},{"location":"projecten/index.html#week-7-8","title":"week 7-8","text":"<p>Zorg voor een inlogsysteem en dat specifieke onderwerpen alleen voor ingelogde bezoekers beschikbaar is.</p>"},{"location":"projecten/bungalowpark.html","title":"Bungalowpark","text":"<p>Bungalowpark \u2018Zee en Duin\u2019 verhuurt bungalows aan hun gasten. Van de huisjes worden een id, een unieke naam en het type vastgelegd. Onder type wordt de grootte van het huisje verstaan. Er zijn huisjes voor 8, 6 en 4 personen beschikbaar voor de verhuur. Van ieder type wordt het id, het aantal personen en de weekprijs vastgelegd.</p> <p>Gasten kunnen bungalows uitsluitend voor de periode van een week huren. Van de gast die de reservering boekt, wordt het id, gebruikersnaam en wachtwoord vastgelegd. Van iedere boeking wordt een id vastgelegd, het id van de gast, het id van de bungalow en de gewenste week. Is een langer verblijf gewenst door de klant, dient deze voor iedere week een aparte boeking aan te maken.</p> <p>Gasten kunnen op de site inloggen om hun reservering te bekijken en eventueel aanpassen: onder aanpassen wordt hier verstaan een andere week inplannen, een week erbij boeken of een ander type huisje reserveren. Dit alles natuurlijk alleen als er nog huisjes beschikbaar zijn.</p>"},{"location":"projecten/bungalowpark.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie om de gegevens bij te houden van gasten en boekingen zoals hierboven beschreven. Het is een DUO-opdracht.</p>"},{"location":"projecten/bungalowpark.html#tips","title":"Tips","text":"<ul> <li>Hou het eenvoudig, uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"projecten/filmfan.html","title":"Filmfan","text":"<p>Op deze website worden alle gegevens vastgelegd omtrent de films uit Nederland. Van alle films is een trailer te zien, zijn er diverse overzichten beschikbaar van bezoeker, omzetgegevens en nog veel meer.</p> <p>De bedoeling van deze opdracht is om hier een sterk vereenvoudigde webapplicatie aan te maken. De database is beperkt van omvang en van alle data worden maar een paar attributen opgeslagen.</p> <p>Van iedere acteur hoeven maar een drietal kenmerken worden vastgelegd, een id, een voornaam en een achternaam. Dezelfde drie eigenschappen worden door iedere regisseur genoteerd, id, voor- en achternaam. Om het niet te complex te laten zijn mag je ervan uitgaan dat iedere film een enkele regisseur heeft.</p> <p>Van iedere film wordt een id vastgelegd, de titel, het id van de regisseur en het jaar waarin de film werd uitgebracht.</p> <p>In de tabel rol worden een viertal attributen opgegeven, id, id van de acteur, id van de film en de naam van het personage dat vertolkt wordt.</p> <p>Het is mogelijk om bij deze site een account aan te maken. Ingelogde bezoekers kunnen gegevens van films aanpassen of aanvullen. Ook kunnen ze bijvoorbeeld mooie citaten uit de film aan de betreffende pagina toevoegen of onvolledigheden  of incorrectheden toevoegen (bijvoorbeeld spijkerbroeken in een film die speelt in de Romeinse tijd).</p>"},{"location":"projecten/filmfan.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie om de gegevens bij te houden van acteurs, films en de gespeelde rollen. Het is een DUO-opdracht.</p>"},{"location":"projecten/filmfan.html#tips","title":"Tips","text":"<ul> <li>Hou het eenvoudig, uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"projecten/programmeerles.html","title":"Programmeerles","text":"<p>Een groot aantal ouderen die van hun pensioen genieten hebben toch vaak nog de behoefte iets geheel nieuws op te pakken. En programmeerles voor senioren is \u00e9\u00e9n van de onderwerpen waar veel vraag naar is.</p> <p>Nu is het natuurlijk niet de bedoeling bij deze opdracht even een cursus uit de grond te stampen; het draait erom de gegevens van een viertal bestanden (klanten, docenten, talen en lessen) op een verantwoorde manier bij te houden.</p> <p>De bedoeling van deze opdracht is om hier een sterk vereenvoudigde webapplicatie aan te maken op basis van de hier genoemde tabellen. Van iedere klant wordt vastgelegd een id, een e-mailadres, gebruikersnaam en wachtwoord.</p> <p>Voor iedere docent worden dezelfde gegevens vastgelegd. De tabel talen kent slecht een tweetal attributen, een id en de naam van de taal.</p> <p>Als laatste de tabel lessen. De meest omvangrijke met 6 eigenschappen. Dat zijn achtereenvolgens, id, id van de klant, id van de docent, id van de taal, start en locatie.</p> <p>Er zijn twee soorten geregistreerde bezoekers van deze site. Allereerst mensen die de programmeerlessen volgen. Zij kunnen, na inloggen, zich aanmelden, hun rooster bekijken en zich met korting aanmelden voor een andere cursus. Ten tweede zijn er administratief medewerkers die roosters kunnen maken, cursussen en talen kunnen toevoegen en docentgegevens bewerken.</p> <p>Nieuwe bezoekers, dus zij die zich nog niet geregistreerd hebben, kunnen vanzelfsprekend het aanbod bekijken en zich voor een cursus aanmelden.</p>"},{"location":"projecten/programmeerles.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie waarbij deze gegevens kunnen worden geraadpleegd en bewerkt. Het is een DUO-opdracht.</p>"},{"location":"projecten/programmeerles.html#tips","title":"Tips","text":"<ul> <li>Hou het eenvoudig, uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"projecten/stage.html","title":"Stage","text":"<p>Binnen het HBO-onderwijs spelen stages een belangrijke rol. Het is daarom ook belangrijk om de gegevens van de stages goed vast te leggen.</p> <p>Doel van deze opdracht is om hier een sterk vereenvoudigde webapplicatie aan te maken. De database zal beperkt worden tot een viertal tabellen die maar een paar attributen gaan bevatten.</p> <p>In de database worden maar vier tabellen opgenomen.</p> <p>De tabel student kent drie kenmerken, id van de student, voornaam en achternaam.</p> <p>De tabel instelling kent ook drie karakteristieken, id, naam van de instelling, soort instelling, ICT of marketing.</p> <p>Ook de tabel begeleider heeft een drietal eigenschappen nodig, id, voor- en achternaam van de begeleider.</p> <p>De vierde en laatste tabel is tevens de meest omvattende, maar liefst 6 eigenschappen, id, id van de student, id van de instelling, id van de begeleider, cijfer en periode, bijv. semester 1 2021.</p> <p>Er zijn twee typen geregistreerde bezoekers van deze site. Allereerst studenten, die de gegevens van hun stages kunnen inzien. Ten tweede de administratief medewerkers, die gegevens van stages kunnen toevoegen, aanpassen, of verwijderen. Bezoekers die niet zijn ingelogd kunnen alleen het stage-aanbod bekijken en hun interesse voor een stage kenbaar maken.</p>"},{"location":"projecten/stage.html#gevraagd","title":"Gevraagd","text":"<p>Maak een sterk vereenvoudige webapplicatie waarbij deze gegevens kunnen worden geraadpleegd en bewerkt. Het is een DUO-opdracht.</p>"},{"location":"projecten/stage.html#tips","title":"Tips","text":"<ul> <li>Hou het eenvoudig, uitbreiden kan altijd nog.</li> <li>Kijk goed naar de al beschikbare code, het wiel hoeft niet opnieuw uitgevonden te worden.</li> <li>Zorg voor een goede planning en samenwerking!</li> </ul>"},{"location":"week1/1.html/html-deel1.html","title":"HTML \u2013 Inleiding","text":""},{"location":"week1/1.html/html-deel1.html#html-inleiding","title":"HTML \u2013 Inleiding","text":"<p>Het doel van het vak Webtechnologie is om een applicatie te bouwen die is opgebouwd uit meerdere componenten. Deze componenten zorgen er samen voor dat de applicatie zijn werk naar behoren kan uitvoeren.</p> <p>Een webapplicatie is een computerprogramma dat is uitgevoerd in de vorm van een interactieve website. Voordelen van dergelijke onlinesoftware zijn dat ze werken met een centrale database en gegevensopslag, dat de applicaties via het internet en een webbrowser overal te gebruiken zijn en dat deze programma\u2019s relatief eenvoudig uit te breiden en door te ontwikkelen zijn.</p> <p>Om de webapplicatie te kunnen gebruiken is alleen een browser en werkende internetverbinding noodzakelijk. Vaak moeten gebruikers eerst inloggen met een gebruikersnaam en wachtwoord om toegang te krijgen tot de applicatie. Webapplicaties kunnen sterk uiteenlopende doeleinden hebben. Een bekend soort webapplicatie is een contentmanagementsysteem (CMS), waarmee de inhoud van websites kan worden beheerd.</p>"},{"location":"week1/1.html/html-deel1.html#onderdelen-van-dit-kwartaal","title":"Onderdelen van dit kwartaal","text":"<p>Het is de bedoeling ook tijdens dit kwartaal voor de fictieve muziekschool 'Sessions' een CMS-applicatie te bouwen. Voordat de applicatie in productie kan gaan, moeten nog wel de nodige stappen doorlopen worden en de nodige programma\u2019s uitgelegd worden.</p> <p>Hieronder een kort overzicht van de onderdelen die tijdens dit kwartaal aan bod zullen komen:</p> <ul> <li>Front-end development</li> <li>HTML</li> <li>CSS</li> <li>Bootstrap</li> <li>Python</li> <li>Herhaling</li> <li>OOP</li> <li>Templates, formulieren en databases</li> <li>Flask</li> <li>Authenticatie</li> <li>Project</li> </ul> <p>We zullen beginnen met een overzicht van de werking van een webpagina. Hoe is het mogelijk dat een gebruiker precies de juiste gegevens op het scherm krijgt, bij een verzoek om informatie? Vervolgens komen de programma\u2019s aan bod die ervoor zorgen dat de inhoud op het scherm getoond kan worden.</p>"},{"location":"week1/1.html/html-deel1.html#hoe-werkt-een-web-pagina","title":"Hoe werkt een web-pagina?","text":"<p>Het web is eigenlijk niks anders dan een hele grote verzameling van allerlei soorten bestanden die door middel van webservers beschikbaar worden gesteld. Een webserver is een stuk software dat 'luistert' naar aanvragen van andere computers en op basis van zo'n aanvraag een bestand terugstuurt. Bekende webservers zijn Apache, ngnix of Microsoft IIS.</p> <p>Wanneer je een url in de locatiebalk van je browser intypt en op <code>Enter</code> drukt, wordt er een dergelijke aanvraag naar de server gestuurd die staat op die specifieke URL. Die server verwerkt de aanvraag en stuurt het bestand terug. Of, als het bestand niet gevonden kan worden, wordt er de code <code>404 Not Found</code> teruggestuurd.</p> <p>Reponse Codes</p> <p>Die code is een zogenaamde <code>HTTP Response Status Code</code>. Later in deze module komen we hier nog uitgebreid op terug.</p> <p>Dat wat je in je browser ziet en dat wat de server terugstuurt verschilt nogal van elkaar.De server stuurt in de regel platte tekst terug (bijvoorbeeld html, css of javascript, maar dat kan van alles zijn) en je browser zet deze platte tekst om in een totaal van fraai vormgegeven tekst, met plaatjes en interactiviteit (een proces dat bekend staat als renderen).</p>"},{"location":"week1/1.html/html-deel1.html#statische-en-dynamische-webpaginas","title":"Statische en dynamische webpagina's","text":""},{"location":"week1/1.html/html-deel1.html#statische-paginas","title":"Statische pagina's","text":"<p>Webpagina's kun je onderverdelen in statische en dynamische pagina's. Een statische webpagina is een webpagina die niet verandert als een sitebezoeker de pagina opvraagt: de webserver verzendt de pagina ongewijzigd naar de webbrowser. De inhoud van een statische webpagina wordt bepaald door de paginaontwerper en verandert niet op het moment dat de pagina wordt opgevraagd.</p> <p></p> <ol> <li>De webbrowser vraagt een statische pagina op.</li> <li>De webserver zoekt en vindt de pagina.</li> <li>De webserver verzendt de pagina naar de betreffende browser.</li> </ol>"},{"location":"week1/1.html/html-deel1.html#dynamische-webpaginas","title":"Dynamische webpagina's","text":"<p>Als de webserver echter een verzoek voor een dynamische pagina ontvangt, reageert de server anders: de pagina wordt doorgegeven aan een speciaal stukje software dat voor de afhandeling van de pagina moet zorgen. Deze speciale software wordt een toepassingsserver genoemd. Deze server leest de code op de pagina, verwerkt de pagina volgens de instructies in de code en verwijdert de code vervolgens van de pagina.</p> <p>Het resultaat is een statische pagina die de toepassingsserver weer teruggeeft aan de webserver, die de pagina op zijn beurt verzendt naar de browser waar de pagina in eerste instantie is opgevraagd. Als de pagina arriveert, ontvangt de browser alleen HTML.</p> <p></p> <ol> <li>De webbrowser vraagt een dynamische pagina op.</li> <li>De server zoekt de pagina en geeft deze door aan de toepassingsserver</li> <li>De toepassingsserver scant de pagina op instructies en voltooit de pagina.</li> <li>De toepassingsserver retourneert de voltooide pagina aan de webserver.</li> <li>De webserver verzendt de voltooide pagina naar de betreffende browser.</li> </ol> <p>Door middel van een toepassingsserver is het mogelijk bronnen aan de serverzijde te gebruiken, waaronder bijvoorbeeld een database. Een dynamische pagina kan de toepassingsserver de instructie geven om gegevens uit een database op te halen en deze in de HTML van de pagina in te voegen.</p>"},{"location":"week1/1.html/html-deel1.html#het-gebruik-van-een-database","title":"Het gebruik van een database","text":"<p>Door het gebruik van een database voor het opslaan en terughalen van inhoud kan het ontwerp van de website gescheiden worden van de inhoud die op de site weergegeven wordt. De inhoud kan vervolgens ge\u00fcpload worden naar een database en de inhoud vervolgens door de website laten ophalen als antwoord op een aanvraag.</p> <p>De instructie om gegevens uit een database op te halen, wordt een databasequery genoemd. Zo'n query bestaat uit zoekcriteria die worden uitgedrukt in een databasetaal die SQL (Structured Query Language) wordt genoemd. De SQL-query wordt geschreven in scripts of tags op de server van de pagina.</p> <p>Een toepassingsserver kan niet rechtstreeks met een database communiceren, omdat de typische indeling van de database de gegevens onleesbaar weergeeft (net zoals een Microsoft Word-document onleesbaar is wanneer het in Kladblok wordt geopend). De toepassingsserver kan uitsluitend met de database communiceren met behulp van een databasestuurprogramma: software die als een vertaler tussen de toepassingsserver en de database fungeert.</p> <p>Nadat het stuurprogramma de communicatie tot stand heeft gebracht, wordt de query voor de database uitgevoerd en wordt een recordset gemaakt. Een recordset is een reeks gegevens die uit \u00e9\u00e9n of meer tabellen in een database zijn gehaald. De recordset wordt geretourneerd aan de toepassingsserver, die de gegevens gebruikt om de pagina te voltooien.</p> <p></p> <ol> <li>De webbrowser vraagt een dynamische pagina op.</li> <li>De webserver zoekt de pagina en geeft deze door aan de toepassingsserver.</li> <li>De toepassingsserver scant de pagina op instructies.</li> <li>De toepassingsserver verzendt de query naar het databasestuurprogramma.</li> <li>Het stuurprogramma voert de query uit op de database.</li> <li>De recordset wordt als resultaat geretourneerd aan het stuurprogramma.</li> <li>Het stuurprogramma geeft de recordset door aan de toepassingsserver.</li> <li>De toepassingsserver voegt de gegevens in op de pagina en geeft de pagina door aan de webserver.</li> <li>De webserver verzendt de voltooide pagina naar de betreffende browser.</li> </ol> <p>Bijna iedere database kan voor een webtoepassing gebruikt worden, zolang het juiste  databasestuurprogramma maar op de server ge\u00efnstalleerd is.</p>"},{"location":"week1/1.html/html-deel2.html","title":"HTML \u2013 tags","text":""},{"location":"week1/1.html/html-deel2.html#html-tags","title":"HTML \u2013 tags","text":"<p>Omdat de server in principe platte tekst aan de browser teruggeeft, is er een structuur nodig om aan te geven wat de verschillende onderdelen uit die platte tekst betekenen. Een koptekst is immers iets anders dan een stuk broodtekst. Hiervoor gebruiken we HTML.</p> <p>HTML staat voor HyperText Markup Language. Het is, zogezegd, de taal waarmee de inhoud van een website gemarkeerd kan worden zodat de browser 'begrijpt' wat aan de bezoeker getoond moet worden. Het geeft structuur aan een gewoon tekstbestand dat de browser anders niet zou begrijpen.</p> <p>HTML is in het begin van de jaren negentig van de vorige eeuw ontwikkeld door Tim Berners-Lee, terwijl hij werkte bij CERN in Zwitserland.</p> <p></p> <p>HTML was niet nieuw</p> <p>Hoewel Tim Berners-Lee (of TBL) HTML bedacht en ontwikkeld heeft, wat dat in die tijd niet nieuw. Het idee van het in de tekst z\u00e9lf aangeven wat de verschillende onderdelen van die tekst betekenen (en eventueel hoe die moeten worden vormgegeven) stamt al uit de jaren zestig. Technieken als de Generalized Markup Language (GML) en COCOA gingen aan HTML vooraf.</p> <p>Het echt nieuwe van TBL was dat HTML een stuk eenvoudiger was om mee te werken, en dat de browser een stuk 'vergevingsgezinder' was dan de systemen die op die oudere technieken gebaseerd waren, een ontwerpbeslissing waar we ook heden ten dage nog last van hebben...</p>"},{"location":"week1/1.html/html-deel2.html#tags","title":"Tags","text":"<p>HTML is opgebouwd uit elementen (tags) die elk hun eigen betekenis hebben. Ieder element heeft een opening (het begin) en een sluiting (het einde). De inhoud van elk element staat tussen de opening- en sluitingstag. De open- en sluit tags voor elk element worden geschreven tussen zogenoemde vishaken (<code>&lt;</code> en <code>&gt;</code>). De sluitingstag kent ook een forwardslash (<code>/</code>). Binnen tags kun je weer andere tags introduceren, zodat je uiteindelijk een boomstructuur krijgt.</p> <p>Het is bijvoorbeeld niet mogelijk zomaar een paragraaf tekst te typen en dan hopen dat de browser snapt dat het een paragraaf is. Voor de browser zijn paragrafen niets meer dan alleen maar een rij letters. De paragraaftekst moet in de HTML-opmaak staan. Daarvoor is het element <code>&lt;p&gt;</code> beschikbaar.</p> <p>De algemene vorm van een element is als volgt:</p> <pre><code>&lt;tag&gt;\n    hier staat data\n&lt;/tag&gt;\n</code></pre> <p>Lege elementen</p> <p>Een aantal elementen kan geen andere elementen bevatten (geen \"vertakkingen\" met andere elementen) en hebben om deze reden geen afsluitende tag. Bekende lege elementen zijn:</p> <ul> <li><code>&lt;br&gt;</code></li> <li><code>&lt;img&gt;</code></li> <li><code>&lt;input&gt;</code></li> </ul> <p>Met <code>&lt;br&gt;</code> (een nieuwe regel, of line break) zal je snel kennismaken, <code>&lt;img&gt;</code> (voor het plaatsen van afbeeldingen) en  <code>&lt;input&gt;</code> (voor het verzamelen van input door de gebruiker in formulieren) zullen later volgen. Zie MDN voor een volledig overzicht van lege elementen.</p> <p>Vaak zie je een dergelijk void-element afgesloten worden met een backslash (\"/\"), zoals <code>&lt;img src=\"\" ... /&gt;</code>. Deze slash binnen de tag zelf is optioneel.</p>"},{"location":"week1/1.html/html-deel2.html#een-voorbeeld","title":"Een voorbeeld","text":"<p>Hieronder staat een voorbeeld van een eenvoudige HTML-pagina. Dit voorbeeld laat de algemene structuur van een webpagina zien.</p> <p>Download de bestanden</p> <p>Alle voorbeelden die we in dit onderdeel laten zien, kun je hier downloaden.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Muziekschool Sessions&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Over \u2018Sessions\u2019&lt;/h1&gt;\n        &lt;p&gt;Muziekschool Sessions, de beste in piano en drums.&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Wanneer je deze code opslaat en opent in een browser, krijg je het onderstaande resultaat te zien:</p> <p></p> <p>Gebruik van het file system</p> <p>Normaliter maken we gebruik van een webserver om bestanden in je browser te laten zien. In de eerste drie weken openen we de bestanden gewoon via het file system. Vanaf week 4, wanneer we met Flask gaan werken, zullen we daadwerkelijk met een (ontwikkel)server gaan werken.</p> <p>De eerste regel <code>&lt;!DOCTYPE html&gt;</code>, oftewel Document Type Definition (DTD) is bedoeld om aan te geven door welke versie van HTML het document is opgebouwd.</p> <p>Als tweede wordt de tag <code>&lt;html&gt;</code> ingezet om de browser te laten weten dat HTML-code wordt gebruikt. Zoals je ziet wordt deze tag aan het eind van de pagina weer afgesloten (met <code>&lt;/html&gt;</code>).</p> <p>De <code>&lt;head&gt;</code>-tag bevat de headerinformatie over de pagina. Hierin is bijna altijd de titel van de pagina en meta-tags opgenomen. In latere sessies zullen we aangeven wat er nog meer in de header terecht kan (en moet) komen.</p> <p>De echte inhoud van elk HTML-document zit in de body (let op de corresponderende tag: <code>&lt;body&gt;</code>). Dit is waar de structuur van het document beschreven wordt.</p> <p>Er is een groot aantal tags voorhanden (bekijk de referentie op MDN voor een volledig overzicht) die gebruikt kunnen worden om onder meer plaatjes en/of hyperlinks toe te voegen. In de volgende paragraaf bespreken we een aantal basistags.</p>"},{"location":"week1/1.html/html-deel2.html#een-paar-belangrijke-tags","title":"Een paar belangrijke tags","text":"<p>HTML bestaat uit dus uit een serie elementen die gebruikt kunnen worden om de verschillende onderdelen van de inhoud te verpakken of te omhullen zodat die er op een bepaalde manier gaat uitzien of zich gedragen. De tags (een ander woord voor labels of markeerders) die de tekst insluiten kunnen van een woord of een afbeelding een hyperlink naar ergens anders maken, ze kunnen woorden cursiveren, lettertypes vergroten of verkleinen enzovoort. Neem bijvoorbeeld de volgende regel tekst:</p> <pre><code>&lt;body&gt;\n    Muziek maken is een leuke hobby.\n&lt;/body&gt;\n</code></pre> <p>Het is de bedoeling deze regel als paragraaf te gaan gebruiken. Dat kan geregeld worden door de tekst te omhullen met de volgende paragraaf labels (<code>&lt;p&gt;tekst&lt;/p&gt;</code>):</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Muziek maken is een leuke hobby.&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"week1/1.html/html-deel2.html#koppen","title":"Koppen","text":"<p>Niet alle tags kunnen hier uitvoerig besproken worden (er zijn er te veel, en je kunt ze zelf ook maken), dus we richten ons hier op de meest gebruikte. Als eerste onderwerp worden de \u2018HTML-koppen\u2019 besproken. Met de elementen <code>h1</code> tot en met <code>h6</code> kan een titel (een heading) gegeven worden aan het document of een deel ervan. Daarvan is <code>h1</code> het hoogste niveau dat als eerste wordt gebruikt en <code>h6</code> het laagste niveau.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Headings&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Dit is een koptekst van niveau: 1&lt;/h1&gt;\n        &lt;h2&gt;Dit is een koptekst van niveau: 2&lt;/h2&gt;\n        &lt;h3&gt;Dit is een koptekst van niveau: 3&lt;/h3&gt;\n        &lt;h6&gt;Dit is een koptekst van niveau: 6&lt;/h6&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>Koppen zijn belangrijke elementen op een pagina. Koppen trekken de attentie van de bezoekers van je site en ze geven structuur aan je pagina. Wanneer koppen niet aantrekkelijk of informatief zijn, zijn je lezers zo weer vertrokken naar een andere pagina of een website. Koppen worden ingezet om aandacht te trekken van de belangstellenden. Belangrijk is dat de koppen aanspreken zodat gebruikers blijven hangen en op zoek gaan naar meer informatie over het onderwerp van de site.</p>"},{"location":"week1/1.html/html-deel2.html#blok-elementen","title":"blok-elementen","text":"<p>Ter vergelijk een opbouw van een HTML-pagina zonder opmaak (vanaf nu worden alleen de regels binnen de <code>body</code>-tag in de kaders opgenomen).</p> <pre><code>&lt;body&gt;\n    Dit is een tekst.\n    Dit is een tweede tekst.\n    En nog een tekst.\n&lt;/body&gt;\n</code></pre> <p></p> <p>De browser heeft er geen weet van dat het de bedoeling is geweest om de drie regels tekst onder elkaar te zetten, dus wordt het gerenderd zoals alles achter elkaar staat: nieuwe regels in de HTML betekenen niets voor de rendering. Zonder opmaakelementen worden alle teksten dus na elkaar naar het scherm geschreven.</p> <p>Het gewenste resultaat kan natuurlijk wel gecre\u00eberd worden. Daarbij worden de elementen paragraaf <code>&lt;p&gt;</code> en line-break <code>&lt;br&gt;</code> gebruikt.</p> <p>Het <code>&lt;p&gt;</code> element is \u00e9\u00e9n van de meest gebruikte bouwstenen in HTML. Deze tag definieert een alineascheiding in gewone tekst. Na deze tag cre\u00ebert de browser automatisch wat ruimte boven en onder de inhoud. Deze ruimte wordt bepaald door de ingebouwde stylesheets van de browser.</p> <p>Het <code>&lt;br&gt;</code> element (line break) begint een nieuwe regel. Dit element is nuttig wanneer de tekst op een bepaalde plaats afgebroken moet worden. Je kunt de <code>&lt;br&gt;</code> tag ook binnen een paragraaf gebruiken.</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Dit is een tekst.&lt;/p&gt;\n    Dit is een tweede tekst.&lt;br&gt;\n    En nog een tekst.\n&lt;/body&gt;\n</code></pre> <p></p> <p>Wat opvalt is dat de line-break geen begintag nodig heeft. Dit is zo'n void-element waar we het hierboven over hebben gehad. Voor dergelijke HTML-elementen geldt dat ze correct kunnen worden weergegeven zelfs zonder beide tags op te voeren.</p> <p>Het is ook mogelijk binnen tags andere tags in te voegen. Dit wordt nesten genoemd. In het voorbeeld hieronder gebruiken we bijvoorbeeld het element <code>&lt;strong&gt;</code> om duidelijk te maken dat muziek maken echt een heel leuke hobby is.</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Muziek maken is een &lt;strong&gt;heel&lt;/strong&gt; leuke hobby.&lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Belangrijk is wel dat de elementen op een juiste wijze genest worden: het element <code>&lt;strong&gt;</code> zal gesloten moeten zijn voordat het <code>&lt;p&gt;</code>-element wordt be\u00ebindigd. Wordt dat achterwege gelaten dan overlappen de elementen elkaar en zal de webbrowser een gok wagen wat er van hem gevraagd wordt, wat tot onverwachte resultaten kan leiden.</p>"},{"location":"week1/1.html/html-deel3.html","title":"HTML \u2013 Lists, Divs en Spans","text":""},{"location":"week1/1.html/html-deel3.html#html-lists-divs-en-spans","title":"HTML \u2013 Lists, Divs en Spans","text":"<p>Aan het eind van deze tekst maken we oefening nummer 1.</p>"},{"location":"week1/1.html/html-deel3.html#list","title":"List","text":"<p>Veel webinhoud bestaat uit lijsten (we durven de stelling wel aan dat de meeste websites en -applicaties bestaan uit zogenaamde glorified lists) en om die reden heeft HTML daar speciale elementen voor. De gebruikelijkste lijsttypes zijn geordend en ongeordend lijsten:</p> <ol> <li> <p>Ongeordende lijsten zijn lijsten waarbij de volgorde van de artikelen in de lijst er niet toe doet, zoals een boodschappenlijst. Deze worden ingesloten in een <code>&lt;ul&gt;</code>-element. Standaard worden de items voorafgegaan door een bullet.</p> </li> <li> <p>Geordende lijsten zijn lijsten waarbij de volgorde van de artikelen of onderwerpen in de lijst er wel degelijk toe doet, zoals een recept. Deze worden ingesloten door een <code>&lt;ol&gt;</code>-element. Standaard worden de items binnen zo\u2019n lijst voorafgegaan door een cijfer, maar je kunt ook andere vormen kiezen.</p> </li> </ol> <p>Elk element binnen een lijst wordt ingebed door middel van een <code>&lt;li&gt;</code>-tag (van list item).</p> <pre><code>&lt;body&gt;\n    &lt;h2&gt;Menu restaurant Eefje&lt;/h2&gt;\n    &lt;p&gt;Voorgerechten&lt;/p&gt;\n    &lt;ul&gt;\n        &lt;li&gt;Sashimi van tonijn&lt;/li&gt;\n        &lt;li&gt;Wonton met gerookte zalm&lt;/li&gt;\n        &lt;li&gt;Geitenkaas met rode uienchutney&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;p&gt;Hoofdgerechten&lt;/p&gt;\n    &lt;ol&gt;\n        &lt;li&gt;Biefstuk Ossenhaas \u2018De Roode Waard\u2019&lt;/li&gt;\n        &lt;li&gt;Kapucijners &lt;/li&gt;\n        &lt;li&gt;Pok\u00e9 Bowl vegetarisch&lt;/li&gt;\n    &lt;/ol&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Ook binnen een lijst kun je elementen nesten; je kunt dus ook een list in een list stoppen. Het kan daarbij handig zijn de nummering voor de geneste lijst afwijkend te maken. Geordende en ongeordende lijsten mogen daarbij ook door elkaar gebruikt worden.</p> <pre><code>&lt;body&gt;\n    &lt;h2&gt;Programmeerkennis&lt;/h2&gt;\n    &lt;ol&gt;\n        &lt;li&gt;DBMS&lt;/li&gt;\n        &lt;li&gt;Programmeertalen&lt;/li&gt;\n        &lt;ul&gt;\n            &lt;li&gt;Python&lt;/li&gt;\n            &lt;li&gt;Java&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/ol&gt;\n&lt;/body&gt;\n</code></pre> <p></p>"},{"location":"week1/1.html/html-deel3.html#attributen","title":"Attributen","text":"<p>Afbeeldingen zijn een ander belangrijk onderdeel van veel webpagina's. Om een afbeelding toe te voegen aan het HTML-document wordt de tag <code>&lt;img&gt;</code> gebruikt.</p> <pre><code>&lt;img src=\"\" alt=\"\"&gt;\n</code></pre> <p>Met dit element kan een afbeelding in een HTML-pagina ingebed worden. Om aan te geven w\u00e1\u00e1r het betreffende plaatje gevonden kan worden, moeten we een zogenaamd attribuut aan de tag toevoegen. Door gebruik te maken van attributen kun je html-tags voorzien van speciale betekenis, zoals bijvoorbeeld de locatie (url) van een plaatje.</p> <p>De algemene vorm van een attribuut is <code>name=\"value\"</code>. In het geval van onze <code>&lt;img&gt;</code>-tag is de name van het attribuut <code>src</code> en de value van het attribuut de <code>url</code> van het plaatje. (<code>src</code>= source en source betekent bron). Dit attribuut bevat het pad naar het afbeeldingsbestand. Het pad kan leiden naar een folder op de eigen computer of zelfs naar een plaatje op het internet zelf.</p> <p>Behalve de url van het plaatje voegen we in de regel ook nog een <code>alt</code>-attribuut toe (<code>alt</code> = alternative, alternatief in het Nederlands). Met dit attribuut kan een beschrijving aan de afbeelding gekoppeld worden voor het geval bezoekers zijn niet in staat de afbeelding te bekijken.</p> <p>In de folder waar verder alle html-voorbeelden bewaard zijn, zijn ook afbeeldingen ondergebracht, onder meer <code>venazza.jpeg</code>, wat aan een webpagina wordt toegevoegd. De totale html wordt dan als volgt:</p> <pre><code>&lt;body&gt;\n    &lt;h1&gt;Cinque terre&lt;/h1&gt;\n    &lt;img src=\"venazza.jpeg\" alt=\"Een afbeelding van Venazza\"&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Het <code>alt</code>-attribuut is handig voor mensen met een visuele beperking: op deze manier weet de spraaksoftware wat er moet worden uitgesproken wanneer er een plaatje op de pagina voorkomt. Maar ook tijdens het ontwikkelen kan het handig zijn, om bijvoorbeeld eenvoudig te achterhalen of je de bestandsnaam van de afbeelding goed hebt.</p> <pre><code>&lt;body&gt;\n    &lt;h1&gt;Cinque terre&lt;/h1&gt;\n    &lt;img src=\"venazzo.jpg\" alt=\"Ooops, verkeerd verbonden\"&gt;\n&lt;/body&gt;\n</code></pre> <p></p>"},{"location":"week1/1.html/html-deel3.html#div-en-span","title":"Div en span","text":"<p>De elementen <code>&lt;div&gt;</code> en <code>&lt;span&gt;</code> gebruikt worden wanneer een stijl voor een deel van een document moet worden vastgelegd en dat deel niet tevens door een ander element ingesloten wordt.</p> <p>de <code>div</code>-tag</p> <p>De <code>&lt;div&gt;</code>-tag is bedoeld om duidelijk te maken dat bepaalde elementen van je pagina bij elkaar horen (<code>div</code> staat ook voor Content Division).</p> <p>De <code>&lt;span&gt;</code>-tag lijkt erg op de <code>&lt;div&gt;</code>-tag, maar heeft als belangrijk verschil dat deze tag inline gebruikt kan worden. Waar een <code>&lt;div&gt;</code> normaliter gepaard gaat met een nieuwe regel ervoor en erna, kun je de <code>&lt;span&gt;</code>-tag gebruiken om onderdelen van de lopende tekst te stylen.</p> <p>Zowel een <code>&lt;div&gt;</code> als een <code>&lt;span&gt;</code> hebben vanuit zichzelf geen speciale style. Dit krijgen ze pas wanneer je deze style definieert, bijvoorbeeld met behulp van stylesheets, wat we volgende week zullen gaan doen. Je kunt ook gebruik maken van het <code>style</code>-attribuut. Zie het voorbeeld hieronder.</p> <pre><code>&lt;body&gt;\n    &lt;div style=\"color: red; background-color: white;\"&gt;\n        &lt;h2&gt;Dit is tekst in H2&lt;/h2&gt;\n        &lt;p&gt;Deze &lt;span style=\"color: blue; background-color: white;\"&gt;tekst&lt;/span&gt; is ingesloten  door het P element.&lt;/P&gt;\n    &lt;/div&gt;\n    &lt;div style=\"color: green; background-color: yellow;\"&gt;\n        &lt;h3&gt;Dit is tekst in H3&lt;/h3&gt;\n        &lt;p&gt;Deze &lt;span style=\"color: red; background-color: black;\"&gt;tekst&lt;/span&gt; is ingesloten  door het P element.&lt;/P&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Een vreemd voorbeeld?</p> <p>Het ziet er in eerste instantie misschien wat weird uit, deze kleurencombinatie, maar dit voorbeeld is bedoeld om aan te geven op welke wijze in de volgende paragrafen CSS en Bootstrap de opmaak van verschillende divisies op een webpagina invullen.</p>"},{"location":"week1/1.html/html-deel3.html#de-anchor-tag","title":"De <code>Anchor</code>-tag","text":"<p>Het World Wide Web dankt zijn spinachtige naam aan de overvloedige verbindingen die websites met \u00e9\u00e9n muisklik met elkaar verbinden. Dit maakt internet zo bijzonder. Links zijn te vinden in bijna alle webpagina's. Gebruikers kunnen op links klikken en hun weg vinden van pagina naar pagina. Er kunnen links ingebouwd worden naar andere websites, maar ook naar een andere pagina binnen dezelfde website of zelfs naar een andere plek op dezelfde pagina. Links worden aangebracht de ankertags <code>&lt;a&gt;</code> en <code>&lt;/a&gt;</code> en hun attributen.</p> <pre><code>&lt;a href=\"URL\"&gt;Link tekst&lt;/a&gt;\n</code></pre> <p>De bestemming van de link wordt gedefinieerd in het <code>href</code>-attribuut (van hyperlink reference) van de tag. Op de plaats van 'Link tekst' moet de tekst weergegeven worden waar de bezoeker op kan klikken om naar de betreffende pagina te gaan.</p> <p>De pagina waar meer informatie te vinden is over de bijzondere vijf dorpen is bijvoorbeeld te vinden op het adres <code>https://www.cinqueterre.eu.com/nl/</code>. Ingevuld wordt dat dan:</p> <pre><code>&lt;body&gt;\n    &lt;a href=\"https://www.cinqueterre.eu.com/nl/\"&gt;Informatie over de Cinque Terre&lt;/a&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Wanneer de bezoeker dan op de tekst \"Informatie over de Cinque Terre\" klikt, wordt de browser doorgestuurd naar de pagina die te vinden is op de url die gegeven is in het <code>href</code>-attribuut van de link.</p> <p></p> <p>De link in het vorige voorbeeld is een zogenaamd volledig pad: er zit een volledige url achter de link. Je kunt ook gebruik maken van de locatie van het bestand waar de link zelf inzit, en het pad naar de gewenste pagina hier vanuit bepalen. Dat is een zogenaamd relatief pad (namelijk relatief ten opzichte van de huidige pagina).</p> <pre><code>&lt;!-- bestand pagina1.html --&gt;\n&lt;body&gt;\n    Naar de &lt;a href=\"pagina2.html\"&gt;tweede&lt;/a&gt; pagina\n&lt;/body&gt;\n</code></pre> <pre><code>&lt;!-- bestand pagina2.html --&gt;\n&lt;!-- dit zit in dezelfde directory als bestand pagina1.html --&gt;\n&lt;body&gt;\n    Terug naar de &lt;a href=\"1.html\"&gt;eerste&lt;/a&gt; pagina\n&lt;/body&gt;\n</code></pre> <p>Commentaar in html</p> <p>Net als in programmeertalen kun je ook in html commentaar opnemen. Je ziet dit in het voorbeeld hierboven gebeuren. Commentaar staat tussen <code>&lt;!--</code> en <code>--&gt;</code>. Dat kan handig zijn, wanneer je heel complexe of uitgebreide html aan het typen bent, of wannneer je een stuk html even niet in de browser wil zien.</p> <p>Tenslotte kun je ook nog een link maken naar een element binnen dezelfde pagina. Kijk bijvoorbeeld eens in het menu hier rechts van deze pagina. Hier zie je de inhoudsopgave staan; door op \u00e9\u00e9n van deze links te klikken, ga je direct naar het betreffende onderdeel op deze pagina zelf.</p> <p>Als je met je muis over zo'n link heengaat, zie je hoe die link eruit ziet: er wordt gebruik gemaakt van een hashtag (<code>#</code>) gevolgd door een stukje tekst. Die tekst correspondeert dan weer met het <code>id</code>-attribuut van het element in kwestie. Daar komen we later op terug, wanneer we het gaan hebben over stylesheets.</p> <p>Maak nu oefening nummer 1.</p>"},{"location":"week1/1.html/html-deel4.html","title":"HTML \u2013 Formulieren","text":""},{"location":"week1/1.html/html-deel4.html#html-formulieren","title":"HTML \u2013 Formulieren","text":"<p>Aan het eind van deze tekst maken we oefening nummer 2.</p> <p>Een erg belangrijke schakel tussen een bezoeker en een website of applicatie zijn formulieren. Formulieren stellen gebruikers in staat in te loggen, bestellingen te plaatsen, gericht te zoeken naar informatie met behulp van zoekschermen en nog veel meer.</p> <p>HTML-formulieren worden op een webpagina geplaatst met behulp van de tag <code>&lt;form&gt;</code>. Een formulier kan aan een bestaand HTML-document toegevoegd worden. Een formulier begint met <code>&lt;form&gt;</code> en helemaal aan het einde van het formulier komt te tag <code>&lt;/form&gt;</code>.te staan.</p> <pre><code>&lt;form&gt;\n    &lt;!-- Hier komt het formulier te staan, --&gt;\n    &lt;!-- Dat bestaat uit input-velden, maar ook labels en vragen. --&gt;\n    &lt;!-- Helemaal aan het einde sluit je het formulier weer af. --&gt;\n&lt;/form&gt;\n</code></pre> <p>Commentaar in html</p> <p>Zoals zo vaak in code is het ook handig om commentaar in html te zetten. Zoals je hierboven kunt zien, doe je dat in dit specieke geval met <code>&lt;!--</code> en <code>--&gt;</code>. Als je complexe html aan het schrijven bent, kan het handig zijn om de eind-tag van een commentaarregel te voorzien, waarin je aangeeft welke tag je hiermee afsluit...</p>"},{"location":"week1/1.html/html-deel4.html#input-tag","title":"Input-tag","text":"<p>Het HTML-element <code>&lt;input&gt;</code> wordt gebruikt om interactieve besturingselementen te maken voor webgebaseerde formulieren. Dit element wordt gebruikt om gegevens van de gebruiker te accepteren en is \u00e9\u00e9n van de krachtigst, meest complexe en gevaarlijkste elementen in heel HTML vanwege het enorme aantal combinaties van invoertypen en attributen, \u00e9n omdat je hiermee de bezoeker de mogelijkheid biedt om contact met de server te maken.</p> <p>Alle <code>&lt;input&gt;</code>-tags kennen het attribuut <code>type</code>. Standaard is de waarde hiervan <code>text</code>, wat betekent dat er een tekstinput wordt weergegeven.</p> <pre><code>&lt;form&gt;\n    &lt;h2&gt;Hieronder een simpel inputelement&lt;/h2&gt;\n    &lt;input type=\"text\"&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>Tekst input</p> <p>Door gebruik te maken van <code>type=\"text\"</code> wordt er een tekstinput-element van \u00e9\u00e9n regel gegenereerd (gerenderd). Wanneer je een input van meerdere regels tekst wilt hebben, moet je gebruik maken van de tag <code>&lt;textarea&gt;</code>. Hier komen we later nog uitgebreid over te spreken.</p>"},{"location":"week1/1.html/html-deel4.html#input-types","title":"<code>input</code> types","text":"<p>Er is in een tekstveld in het formulier aangemaakt. We komen er later op terug wat daar exact de bedoeling van is en hoe je dit in je process kunt gebruiken. Er zijn nog veel meer input-types. In de tabel hieronder wordt een aantal veel gebruikte opgesomd.</p> input type omschrijving <code>text</code> voor teksten <code>number</code> mag alleen getallen bevatten <code>email</code> controleert of het e-mailadres geldig is <code>password</code> vervangt de invoer door asterisk of bolletjes <code>hidden</code> niet zichtbaar, wordt vaak gebruikt om gegeven in op te slaan die onnodig tot fouten kunnen leiden, bijvoorbeeld huidige datum bij een order <code>color</code> opent een color-picker <code>button</code> toont een knop <code>submit</code> knop die de inhoud van het formulier doorstuurt naar de server <p>Bekijk de documentatie op MDN voor een volledig overzicht van de <code>&lt;input&gt;</code>-tag en de bijhorende attributen.</p> <p>Een eenvoudig inlogformulier zou door de volgende HTML-regels gebouwd kunnen worden. Het ziet er niet echt fraai uit, maar daar wordt in de volgende paragrafen uitgebreid aandacht aan besteed.</p> <pre><code>&lt;body&gt;\n    &lt;form method=\"get\" action=\"pagina1.html\"&gt;\n        &lt;h1&gt;Inloggen&lt;/h1&gt;\n        &lt;h2&gt;Vul e-mail en wachtwoord in&lt;/h2&gt;\n        &lt;input type=\"text\" size=\"30\"&gt;\n        &lt;input type=\"password\" size=\"30\"&gt;\n        &lt;input type=\"submit\" value=\"Verstuur\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Het <code>&lt;form&gt;</code>-element bepaalt waar en hoe de gegevens verstuurd worden. Daarvoor zijn er nog twee attributen die voor deze tag opgevoerd moeten worden, <code>method</code> en <code>action</code>.</p> <p>Met het attribuut <code>action</code> kan aangeven worden w\u00e1\u00e1r de informatie uit het formulier naar toe moet worden verzonden (de url van de server die de het formulier verder gaat verwerken). Het attribuut <code>method</code> kent twee mogelijke opties: <code>GET</code> en <code>POST</code>. De <code>GET</code>-methode zal de inhoud van het formulier via een URL overbrengen naar de ontvangende partij. De andere methode, <code>POST</code>, komt veel beter van pas wanneer er met een database gewerkt wordt. Op het moment dat het werken met Flask besproken gaat worden, zullen we uitgebreid bij deze twee attributen stilstaan.</p>"},{"location":"week1/1.html/html-deel4.html#labels","title":"Labels","text":"<p>Tijd om het formulier aan te passen. Een aantal verbeteringen zal worden doorgevoerd. Op de eerste plaats is het onduidelijk welk van de twee invoervelden bedoeld is voor het e-mailadres en welk voor het wachtwoord. Dat zijn labels voor ontwikkeld.</p> <p>Met een <code>&lt;label&gt;</code> kan aangegeven worden welk element van het formulier een toegevoegde waarde gaat krijgen. Daarvoor moet bij het <code>&lt;label&gt;</code>-element het attribuut <code>for</code> ingevuld zijn met dezelfde waarde als het attribuut <code>id</code> van het beoogde tekstveld.</p> <p>Een toegankelijk web</p> <p>The Web is fundamentally designed to work for all people</p> <p>W3C - Accessibility</p> <p><code>&lt;label&gt;</code> en daarmee ook het <code>&lt;input&gt;</code> veld waar het naar verwijst is een voorbeeld van extra betekenis geven aan elementen in je pagina. Een goede reden waarom je dit zou willen doen is om de toegankelijkheid (\"accessibility\") van deze pagina's te vergroten, bijvoorbeeld voor mensen die visueel beperkt zijn. Het <code>&lt;label&gt;</code>-element wordt bijvoorbeeld in screenreaders (\"voorleessoftware\") gebruikt om veldnamen in formulieren auditief te koppelen aan handelingen (het invullen van bijbehorende <code>&lt;inut&gt;</code> velden).</p> <p>Probeer altijd in gedachten te houden dat je pagina's voor een zo breed mogelijk publiek toegankelijk moet zijn en vaak is het zelfs een wettelijke verplichting, bijvoorbeeld bij overheden.</p> <p>Technieken voor het verbeteren van toegankelijkheid vallen onder de noemer A11y, zie verder de MDN accessibility pagina voor een overzicht waarom dit belangrijk is en hoe je het kan toepassen in je werk.</p> <p>Met deze aanpassingen komt de html van de pagina hierboven er als volgt uit te zien:</p> <pre><code>&lt;form method=\"get\" action=\"pagina1.html\"&gt;\n    &lt;label for=\"email\"&gt;E-mailadres:&lt;/label&gt;\n    &lt;input type=\"email\" id=\"email\" name=\"email\" placeholder=\"e-mailadres\"&gt;\n\n    &lt;label for=\"password\"&gt;Wachtwoord:&lt;/label&gt;\n    &lt;input type=\"password\" id=\"password\" name=\"password\" placeholder=\"wachtwoord\"&gt;\n\n    &lt;input type=\"submit\" value=\"Verstuur\"&gt;\n&lt;/form&gt;\n</code></pre> <p>Extra attributen</p> <p>Zoals je ziet hebben we stiekem nog een paar meer attributen van het <code>input</code>-element ingevuld. Zo zie je <code>name</code>, <code>value</code> en <code>placeholder</code> terugkomen. Op de eerste van deze twee komen we later uitgebreid terug. De waarde die het attribuut <code>value</code> krijgt zorgt ervoor dat een element op het formulier een standaardwaarde krijgt toegewezen.</p> <p>Waar <code>value</code> een min of meer vast waarde krijgt zoals bij de Verzend-knop, wordt <code>placeholder</code> meer gebruikt als tijdelijke invulling. Op het moment dat het tekstvak geactiveerd wordt, verdwijnt de inhoud en kunnen de gegevens ingevoerd worden.</p> <p>Stel dat je het formulier zoals dat hierboven is weergegeven zou invullen met de volgende gegevens:</p> <ul> <li>email: henk@hanze.com</li> <li>password: supergeheim</li> </ul> <p>Als je dan op 'Verstuur' zou klikken, zie je het volgende in de adresbalk van je browser staan:</p> <p></p> <p>De gegevens worden in de URL opgenomen en doorgestuurd naar de ontvanger. Duidelijk is wel dat er aan GET-methode een aantal nadelen kleven, niet echt fijne security! Later zullen we hier uitgebreid op terugkomen.</p>"},{"location":"week1/1.html/html-deel4.html#selecties","title":"Selecties","text":""},{"location":"week1/1.html/html-deel4.html#radio-buttons","title":"Radio-buttons","text":"<p>Wanneer je wilt dat een bezoeker een keuze maakt uit verschillende opties, kun je gebruik maken van zogenaamde radio-buttons. De bezoeker krijgt dan een aantal opties voorgeschoteld met open bolletjes ervoor, en door op zo'n bolletje te klikken wordt de betreffende optie geselecteerd.</p> <pre><code>&lt;form&gt;\n    &lt;h3&gt;Bespeelt u al een instrument?&lt;/h3&gt;\n    &lt;label for=\"ja\"&gt;Ja&lt;/label&gt;\n    &lt;input id=\"ja\" type=\"radio\" name=\"janee\" value=\"ja\"&gt;\n    &lt;label for=\"nee\"&gt;Nee&lt;/label&gt;\n    &lt;input id=\"nee\" type=\"radio\" name= \"janee\" value=\"nee\"&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>Let op het attribuut <code>name</code> van de verschillende opties. Doordat deze voor alle bolletjes hetzelfde is (<code>janee</code> in het voorbeeld) weet je browser dat de opties bij elkaar horen en dat er van deze opties maar \u00e9\u00e9n tegelijktijd geselecteerd mag worden.</p>"},{"location":"week1/1.html/html-deel4.html#checkboxes","title":"Checkboxes","text":"<p>Een andere vorm van selectie zijn de zogenaamde selectboxes. Deze lijken erg op de radio-buttons, maar hebben als belangrijk verschil dat je er meerdere tegelijkertijd kunt selecteren:</p> <pre><code>&lt;form method=\"get\"&gt;\n    &lt;h3&gt;Welk instrument bespeelt u?&lt;/h3&gt;\n\n    &lt;input id=\"instrument-piano\" type=\"checkbox\" name=\"instrument\" value=\"Piano\"&gt;\n    &lt;label for=\"instrument-piano\"&gt;Piano&lt;/label&gt;\n\n    &lt;input id=\"instrument-gitaar\" type=\"checkbox\" name=\"instrument\" value=\"Gitaar\"&gt;\n    &lt;label for=\"instrument-gitaar\"&gt;Gitaar&lt;/label&gt;\n\n    &lt;input id=\"instrument-trompet\" type=\"checkbox\" name=\"instrument\" value=\"Trompet\"&gt;\n    &lt;label for=\"instrument-trompet\"&gt;Trompet&lt;/label&gt;\n\n    &lt;input id=\"instrument-viool\" type=\"checkbox\" name=\"instrument\" value=\"Viool\"&gt;\n    &lt;label for=\"instrument-viool\"&gt;Viool&lt;/label&gt;\n\n    &lt;input id=\"instrument-kerkorgel\" type=\"checkbox\" name=\"instrument\" value=\"Kerkorgel\"&gt;\n    &lt;label for=\"instrument-kerkorgel\"&gt;Kerkorgel&lt;/label&gt;\n&lt;/form&gt;\n</code></pre> <p></p>"},{"location":"week1/1.html/html-deel4.html#dropdown","title":"Dropdown","text":"<p>Een laatste mogelijkheid voor keuzelijsten die we bespreken is het drop-down menu. Het voordeel hiervan ten opzichte van keuzerondjes is dat het minder ruimte in beslag neemt. Maar dat is ook een nadeel, omdat gebruikers niet meteen alle opties kunnen zien.</p> <p>Zo'n keuzelijst maak je met de tag <code>select</code>; de opties die in die lijst moeten komen geef je aan met de <code>option</code>-tag.</p> <pre><code>&lt;form&gt;\n    &lt;p&gt;Kunt u bladmuziek lezen?&lt;/p&gt;\n    &lt;select id=\"bladmuziek\" name=\"bladmuziek\"&gt;\n        &lt;option value=\"ja\"&gt;Ja&lt;/option&gt;\n        &lt;option value=\"beetje\"&gt;Beetje&lt;/option&gt;\n        &lt;option value=\"nee\"&gt;Nee&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>De gebruikers zien de waardes Ja, Beetje en Nee opdoemen. Hun keuze wordt vastgelegd onder de naam \u2019bladmuziek\u2019. En onder die naam kan de keuze naar een tweede pagina gestuurd worden.</p>"},{"location":"week1/1.html/html-deel4.html#textarea","title":"Textarea","text":"<p>Een <code>textarea</code> is een extra groot tekstveld dat geschikt is voor het invoeren van een grote hoeveelheid tekst door de gebruiker (de maximale grootte is bepaald door de server die het request afhandelt, maar in de regel kan er zo vijf megabyte in). Het kan aan een webpagina worden toegevoegd als een <code>&lt;textarea&gt;</code>-element.</p> <p>De grootte van het tekstvak kan worden bepaald door een aantal rijen en een aantal kolommen op te geven.</p> <pre><code>&lt;form&gt;\n    &lt;p&gt;Heeft u nog opmerkingen?&lt;/p&gt;\n    &lt;p&gt;Noteer ze in de ruimte hieronder en verstuur de gegevens.&lt;/p&gt;\n    &lt;textarea name=\"opmerking\" rows=\"5\" cols=\"60\"&gt;&lt;/textarea&gt;\n    &lt;input type=\"submit\" value=\"Verstuur feedback\"&gt;\n&lt;/form&gt;\n</code></pre> <p></p> <p>Maak nu oefening nummer 2.</p>"},{"location":"week1/2.css/css-deel1.html","title":"CSS \u2013 Inleiding","text":""},{"location":"week1/2.css/css-deel1.html#css-inleiding","title":"CSS \u2013 Inleiding","text":"<p>Cascading Style Sheets (CSS) is de code die wordt gebruikt om webpagina\u2019s van een stijl te voorzien. Net zoals HTML is CSS  niet echt een programmeertaal, maar het is ook niet echt een opmaaktaal zoals html. Je zou kunnnen zeggen dat het een stijltaal is: het stelt een ontwerper in staat om diverse stijlen en stijlvormen op geselecteerde elementen in een HTML-document toe te passen.</p> <p>Hieronder zie je een stukje CSS. Deze code zorg ervoor dat de tekst van alle paragrafen (alles met het element <code>&lt;p&gt;</code>) rood wordt weergegeven.</p> <pre><code>p {\n    color: red;\n}\n</code></pre> <p>Bestanden downloaden</p> <p>Ook de bestanden die we hier bespreken kun je downloaden. Volg daarvoor deze link.</p> <p>Je kunt CSS in het html-bestand zelf schrijven, maar je kunt het ook in een separaat bestand opslaan. Die laatste methode is wel makkelijker, omdat je op die manier dezelfde stylesheet in verschillende HTML-bestanden kunt gebruiken. Om ervoor te zorgen dat een html-bestand gebruik kan maken van een css-bestand, moet je een koppeling tussen deze twee aanbrengen. Dat doe je in de <code>header</code> van het html-bestand (dus tussen <code>&lt;head&gt;</code> en <code>&lt;/head&gt;</code>). Zie het onderstaande voorbeeld:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Test CSS&lt;/title&gt;\n        &lt;!-- met deze regel koppelen we de stylesheet aan deze html --&gt;\n        &lt;link href=\"stijl.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;Muziek maken is een leuke hobby!&lt;/p&gt;\n        Meld je aan voor een passende cursus.\n        &lt;p&gt;Vul het aanmeldingsformulier in!&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>Alle tekst opgenomen binnen een paragraaf heeft daadwerkelijk een rode kleur gekregen.</p> <p>External, Internal en Inline</p> <p>Je kunt de style van html op drie plekken neerzetten: external, internal of inline. Alle stijl die je definieert in een extern bestand (een ander bestand dan het html-bestand waar het betrekking op heeft) is external. Stijl die je definieert in het html-bestand zelf (tussen <code>&lt;style&gt;</code> en `</p>"},{"location":"week1/2.css/css-deel2.html","title":"CSS \u2013 selectors en matching-rules","text":""},{"location":"week1/2.css/css-deel2.html#css-selectors-en-matching-rules","title":"CSS \u2013 selectors en matching-rules","text":"<p>Aan het eind van deze tekst maken we oefening nummer 3</p>"},{"location":"week1/2.css/css-deel2.html#een-hierarchie-van-matching","title":"Een hi\u00ebrarchie van matching","text":"<p>Effecten die van toepassing zijn op de coderegels in een html-document kunnen op meerdere niveaus ingesteld worden. Het hoogste niveau is het element <code>&lt;body&gt;</code>. Stijldeclaraties die aan deze selector worden gegeven, zijn van toepassing op het gehele document. De impact van deze effecten kan echter 'overruled' worden door bepaalde onderdelen van het document andere eigenschappen toe te kennen. Deze instellingen krijgen de overhand ten opzichte van de stijlwaarden uit de selector <code>body</code>.</p> <pre><code>&lt;body&gt;\n    &lt;p&gt;Dit is een paragraaf binnen de body maar buiten de divisie.&lt;/p&gt;\n\n    &lt;div&gt;\n        &lt;p&gt;Ik ben lekker binnen de div.&lt;/p&gt;\n        &lt;p&gt;Ik lekker ook!&lt;/p&gt;\n        &lt;p&gt;Binnen de div is ook nog een &lt;span&gt;span ingebouwd!&lt;/span&gt;&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <pre><code>body {\n    /* Een beetje leverkleurige achtergrond voor onze mooie html-pagina */\n    background: #a68383;\n}\n\ndiv {\n    background: #8ca7cf;\n    /* Behalve de achtergrond geven we ook wat stijl aan de randen van deze div */\n    border: orange;\n    border-width: thick;  /*10 px */\n    border-style: dotted;\n}\n\nspan {\n    /* je kunt de eigenschappen voor de border ook allemaal in \u00e9\u00e9n keer stijlen */\n    border:solid red 2px;\n}\n</code></pre> <p>We geven hier eerst een achtergrondkleur aan de <code>body</code>. Maar binnen de body hebben we een <code>div</code>, die weer zijn eigen stijl meekrijgt. Tenslotte zie je in deze <code>div</code> ook nog een <code>span</code>-tag staan, die ook weer eigen stijling heeft. Het eindresultaat van dit alles is dan als volgt:</p> <p></p>"},{"location":"week1/2.css/css-deel2.html#class-en-id","title":"class en id","text":"<p>Stijlregels toekennen aan elementtypes (dus door middel van het beschrijven van de stijl van een <code>tag</code>) is een prima oplossing. Maar het nadeel is dat ze van toepassing zijn op alle elementen van het elementtype. Wat nu wanneer een stijlregel niet op alle elementen van een elementtype van toepassing is, maar op het ene element wel en op het andere niet? Daarvoor dienen de <code>class</code> selectors.</p> <p>Bekijk het volgende stukje html:</p> <pre><code>&lt;body&gt;\n    &lt;h3&gt;Ik ben een koptekst van het type h3.&lt;/h3&gt;\n\n    &lt;div class=\"eerste-div\"&gt;\n        &lt;p&gt;Ik ben lekker toegevoegd aan de eerste div!&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"tweede-div\"&gt;\n        &lt;p&gt;Ik ben in de tweede div terecht gekomen!&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;p id=\"apart\"&gt;ID's moeten uniek zijn!&lt;/p&gt;\n&lt;/body&gt;\n</code></pre> <p>Let op de attributen <code>class</code> bij beide <code>divs</code> en het attribuut <code>id</code> bij de onderste <code>p</code>. De element-selectors matchen standaard alleen standaard html-elementen (<code>tag</code>). Met een class selector kan specifieker te werk gegaan worden. Een class selectors richt zich op alle elementen met dezelfde waarde voor het <code>class</code> attribuut.</p> <p>Elk html-element kan ingesteld worden door de inhoud van een class of van een id. In het css-document worden dan de stijldeclaraties voor de <code>class</code> of <code>id</code> bepaald. Er is een specifieke syntax voor beschikbaar.</p> <ul> <li><code>.</code> (punt) matcht op de waarde van het <code>class</code>-attribuut</li> <li><code>#</code> (hashtag) matcht op de waarde van het <code>id</code>-attribuut</li> </ul> <p>Het grote verschil tussen beide is dat een ID een uniek onderdeel op een webpagina is. Een ID kan dus maar \u00e9\u00e9n keer voorkomen in de code van een website. De class selector mag vaker gebruikt worden in een html-document.</p> <p>Uit het html-document uit het bovenstaande voorbeeld valt af te lezen er twee <code>&lt;div&gt;</code>-elementen in de coderegels zijn opgenomen. Het is de bedoeling om beide een andere look mee te geven. Hiervoor gebruiken we dus twee verschillende waarden voor de <code>class</code>. De laatste paragraaf willen we ook weer anders stylen, maar deze matchen we op het <code>id</code>. De stylesheet wordt dan als volgt:</p> <pre><code>.eerste-div {\n    color: blue;\n}\n\n.tweede-div {\n    background-color: gray;\n}\n\n#apart {\n    color: red;\n    text-decoration: underline;\n}\n</code></pre> <p>Wat het volgende resultaat tot gevolg heeft:</p> <p></p> <p>Maak nu oefening nummer 3</p>"},{"location":"week1/2.css/css-deel3.html","title":"CSS \u2013 Fonts","text":""},{"location":"week1/2.css/css-deel3.html#css-fonts","title":"CSS \u2013 Fonts","text":"<p>Aan het eind van deze pagina maken we oefening 4.</p> <p>Na de kleur is het lettertype vermoedelijk de meest elementaire eigenschap van een pagina. Het is mogelijk de gewenste lettertypen voor de tekst op de website toe te passen door de lettertype-eigenschappen in het css-bestand te gebruiken. Ook is het mogelijk om Google Fonts API te gebruiken om gewenste lettertypen toe te voegen.</p> <p>Vooraf een waarschuwing. Niet ieder lettertype is niet voor iedere besturingssysteem beschikbaar. Onderstaande links laten zien welke er voor Windows en macOS beschikbaar zijn.</p> <p>Fonts die in OS-X beschikbaar zijn</p> <p>Fonts die in Windows beschikbaar zijn</p> <p>Bekijk het onderstaande verse html-document</p> <pre><code>&lt;body&gt;\n    &lt;h2&gt;The Kids Are On High Street&lt;/h2&gt;\n    &lt;p&gt; In a wake of some change&lt;br&gt;\n        Stones in the pipeline&lt;br&gt;\n        Like some new mountain range&lt;br&gt;\n        We leave the lowlands behind&lt;/p&gt;\n    &lt;p id=\"two\"&gt;(Chorus)&lt;br&gt;\n        They take your photograph&lt;br&gt;\n        You come into existence&lt;br&gt;\n        You realize it's your path&lt;br&gt;\n        In this very instant&lt;/p&gt;\n  &lt;/body&gt;\n</code></pre> <p>Zonder ondersteuning van een CSS-bestand, wordt de inhoud op de volgende manier afgebeeld:</p> <p></p>"},{"location":"week1/2.css/css-deel3.html#font-eigenschappen","title":"Font-eigenschappen","text":"<p>Je kunt het lettertype van de verschillende onderdelen van het html-document styleren door middel van de font-eigenschappen die je met CSS kunt instellen. Er zijn ook weer heel veel van dergelijke eigenschappen met mogelijke waarden. We geven hieronder de belangrijkste, voor een volledig overzicht verwijzen we weer naar MDN:</p> Eigenschap Waarden Betekenis font-family Lijst van lettertypen hiermee wordt bepaald welk lettertype  gebruikt moet worden bij de weergave van de tekst. font-style normal normaal <pre><code>         | italic   | cursief\n         | oblique  | schuin\n</code></pre> <p>font-weight  | normal   | normaal              | bold     | vet              | bolder   | vetter              | lighter  | lichter font-size    | in px    | exacte hoeveelheid pixels              | in em    | 1 em is gelijk aan de ingestelde font-grootte</p> <p>grootheden en eenheden in css</p> <p>Let op de mogelijke waarden die je ziet bij <code>font-size</code>. Hier worden twee mogelijkheden gegeven, namelijk <code>px</code> en <code>em</code>. Er zijn in css verschillende eenheden die je kunt gebruiken als je met grootte wilt werken (bijvoorbeeld hoe groot een plaatje moet worden gerenderd, of hoeveel ruimte een <code>div</code> moet innemen). Check hiervoor deze uitgebreide documentatie op MDN.</p> <p>Stel nu dat we de bovenstaande html verfraaien met de volgende css:</p> <pre><code>h2 {\n    font-family: 'Impact';\n}\n\np {\n    font-family: 'Lucida Console';\n}\n\nbody {\n    font-size: 20px;\n}\n\np {\n    font-size: 10px;\n}\n\n#two {\n    font-size: 2.0em;\n}\n\np {\n    font-style: italic;\n    font-weight: bold;\n}\n</code></pre> <p>Dat levert het volgende (niet per se heel fraaie) resultaat op:</p> <p></p>"},{"location":"week1/2.css/css-deel3.html#google-fonts","title":"Google fonts","text":"<p>Er zijn erg veel lettertypen beschikbaar (letterlijk duizenden) en het is onmogelijk de effecten van ieder font te kennen. Gelukkig heeft Google ook een fraai overzicht van een flink aantal fonts beschikbaar gesteld.</p> <p>Bekijk de site https://fonts.google.com/. Er wordt een site geopend waarin op dit moment 1003 font-family\u2019s beschikbaar zijn.</p> <p></p> <p>Zoek bijvoorbeeld naar het font \u2018Bungee\u2019.</p> <p></p> <p>Onder het kopje Styles kan tekst aan de al bestaande regel worden toegevoegd. Het resultaat is onmiddellijk zichtbaar.</p> <p></p> <p>Is alles naar wens, dan kies je voor Select this style, om de code te zien te krijgen die je in je stylesheet moet opnemen om het gekozen font op je pagina te kunnen gebruiken.</p> <p></p> <p>De twee links zijn belangrijk. De onderste link dient in het css-bestand opgenomen te worden bij het geschikte element en de bovenste link moet aan het html-document toegevoegd te worden in de sectie <code>&lt;head&gt;</code> onder de link naar het css-bestand.</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"deel4.css\"&gt;\n&lt;link href=\"https://fonts.googleapis.com/css2?family=Bungee&amp;display=swap\" rel=\"stylesheet\"&gt;\n</code></pre> <p>Als we dan de <code>h2</code> in het css-bestand als volgt aanpassen:</p> <pre><code>h2 {\n    font-family: 'Bungee', cursive;\n}\n</code></pre> <p>Dan wordt de uiteindelijke pagina als volgt gerenderd:</p> <p></p>"},{"location":"week1/2.css/css-deel3.html#de-inspector","title":"De Inspector","text":"<p>Het kan soms voorkomen dat je bij het surfen over het net een site voorbijkomt, waarvan je denkt \u2018Wauwwwww, dat wil ik ook!\u2019. Dat kan in grote lijnen geregeld worden.</p> <ul> <li>Open de pagina waarvan je de vormgeving wilt nabootsen.</li> <li>Selecteer een onderdeel waarop die vormgeving duidelijk is te zien.</li> <li>Geef een rechtermuisklik en kies voor \u2018Inspecteren\u2019.</li> </ul> <p>Hiermee open je de zogenaamde inspector. Hiermee kun je de code van zowel het html-document als van de bijbehorende css-file bekeken worden. Het is zelfs mogelijk ter plekke instellingen van een andere waarde te voorzien om het effect daarvan te kunnen bekijken. De wijzigingen worden alleen doorgevoerd op de geopende view. Andere gebruikers van deze pagina krijgen de aanpassing(en) natuurlijk niet te zien.</p> <p></p> <p>De HTML van het document zie je aan de linkerkant, de CSS aan de rechterkant. Door deze CSSS te bestuderen, kun je achterhalen hoe het element dat je hebt geselecteerd is vormgegeven.</p> <p>Deze inspector is een heel belangrijk hulpmiddel voor al het front-end werk. We zullen hier dan ook in webtechnologie 3 nog uitgebreid op terugkomen.</p> <p>Maak nu oefening 4.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html","title":"Bootstrap \u2013 Inleiding","text":""},{"location":"week1/3.bootstrap/bootstrap-deel1.html#bootstrap-inleiding","title":"Bootstrap \u2013 Inleiding","text":"<p>Bootstrap is een gratis front-end framework voor snellere en eenvoudigere webontwikkeling. Het bevat op html en css gebaseerde ontwerpsjablonen voor typografie, formulieren, knoppen, tabellen, navigatie, afbeeldingscarrousels en vele andere, evenals optionele Javascript-plug-ins. Tevens geeft het een gebruiker de mogelijkheid om eenvoudig responsieve ontwerpen te maken.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html#voordelen","title":"Voordelen","text":"<p>Voordelen van Bootstrap:</p> <ul> <li>Eenvoudig in gebruik: iedereen met alleen basiskennis van HTML en CSS kan Bootstrap gaan gebruiken.</li> <li>Responsieve functies: de responsieve CSS van Bootstrap past zich aan telefoons, tablets en desktops.</li> <li>Mobiel-eerst benadering: in Bootstrap maken de mobile-first-stijlen deel uit van het kernraamwerk.</li> <li>Compatibiliteit met browsers: Bootstrap 5 is compatibel met alle moderne browsers.</li> </ul> <p>Er zijn twee manieren om Bootstrap 5 te gebruiken voor een eigen website.</p> <ol> <li>Maak gebruik van een CDN.</li> <li>Downloaden van Bootstrap 5.</li> </ol> <p>Content Delivery Network</p> <p>Een Content Delivery Network (CDN) is een netwerk dat verspreid is over verschillende geografische locaties. Via dit netwerk wordt verschillende inhoud (content) aangeboden. Die content kan van alles zijn: video, plaatjes, maar dus ook css of programmacode.</p> <p>Het voordeel hiervan is dat de uptime van zo'n netwerk vele malen hoger ligt dan een enkele computer.</p> <p>Open de pagina GetBootstrap.com. Een klik op de button met de tekst \u2018Download\u2019 zorgt ervoor dat de complete software gedownload wordt. Wanneer er een stukje naar beneden gescrold wordt, zie je wat je moet doen om gebruik te maken van een CDN.</p> <p></p> <p></p> <p>Als je gebruik wilt maken van een CDN, moet je de beide regels aan de rechterkant van het scherm opnemen in je html-document. In het beginscherm zijn een tweetal buttons rood omkaderd. Het kan erg nuttig zijn, zeker voor gebruikers die nog niet heel bedreven zijn in het werken met dit pakket, de onderliggende documentatie te bestuderen.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html#buttons","title":"Buttons","text":"<p>Als voorbeeld een overzicht van de component \u2018Buttons\u2019. Een keurige beschrijving, voorbeelden plus de bijbehorende code, klaar voor gebruik. Dat is voor elk van de items in het linker-menu prachtig uitgewerkt.</p> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel1.html#examples","title":"Examples","text":"<p>Onder de knop Buttons zitten tal van schermontwerpen verborgen, vari\u00ebrend van een scherm dat de inhoud van een check-out formulier levert, inclusief controle op de juistheid van het invullen van de data tot een carrousel, een item dat verschillende afbeeldingen na elkaar kan tonen. Van elk voorbeeld kan de code bekeken worden.</p> <p></p> <p>Hieronder nog eeen voorbeeld van een schermontwerp gemaakt met Bootstrap dat bedoeld is om gebruikers te laten kiezen uit een drietal opties.</p> <p></p> <p>Er is, kortom, heel veel mogelijk met Bootstrap. Bestudeer de voorbeelden en de achterliggende HTML en CSS om een beeld te krijgen van hoe \u00e9\u00e9n en ander in z'n werk gaat.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel2.html","title":"Bootstrap \u2013 Voorbeeld","text":""},{"location":"week1/3.bootstrap/bootstrap-deel2.html#bootstrap-voorbeeld","title":"Bootstrap \u2013 Voorbeeld","text":"<p>Als voorbeeld zullen we nu aan de hand van de documentatie een webpagina opbouwen. De basiscode kan aan het html-document worden toegevoegd en daar aangepast worden aan het gewenste ontwerp. Hierbij wordt een stapsgewijze opbouw gehanteerd.</p> <p>Download de bestanden</p> <p>De bestanden die in dit voorbeeld worden besproken zijn via deze link te downloaden.</p> <p>Stap 1: html-document zonder koppeling naar Bootstrap.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Zonder&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;h1&gt;Hello, world!&lt;/h1&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p></p> <p>Stap 2: Toevoegen links van Bootstrap.</p> <p>Ieder html-document dat gebruik wil maken van de faciliteiten die door Bootstrap aangeboden worden, dient de benodigde links in de <code>&lt;head&gt;</code>-sectie op te nemen. Deze links kunnen gekopieerd worden van de site https://getbootstrap.com/, zoals we al besproken hebben.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Met&lt;/title&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n        &lt;meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\"&gt;\n\n        &lt;link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n        &lt;script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;h1&gt;Hello, world!&lt;/h1&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Nog een geluk dat de links gekopieerd kunnen worden.</p> <p></p> <p>Een duidelijk verschil. De marges en het lettertype is aangepast door de Bootstrap-instellingen.</p> <p>width en init-scale</p> <p>Bootstrap 5 is ontworpen om te kunnen werken met mobiele apparaten. Daarvoor is een <code>&lt;meta&gt;</code>-tag toegevoegd. Hier geven we twee waarden aan mee. Door te stellen dat <code>width = device-width</code> wordt de breedte van de pagina hetzelfde als de schermbreedte van het apparaat (dit is afhankelijk van het apparaat); <code>initial-scale = 1</code> stelt het initi\u00eble zoomniveau in, wanneer de pagina voor het eerst wordt geladen door de browser.</p> <p>Stap3: Container toevoegen.</p> <p>Bootstrap vereist een omvattend element om de inhoud van de site in te pakken. Hiervoor maken we een <code>div</code> aan van de classe <code>container</code> (we laten voor de overzichtelijkheid nu even al die links in de <code>header</code> weg):</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Stap 4: Hero sectie.</p> <p>In Bootstrap 5 is de jumbotron vervangen door utility classes. We kunnen een vergelijkbaar effect cre\u00ebren met een <code>&lt;div&gt;</code> met een achtergrondkleur en padding. Dit maakt een prominente sectie om speciale inhoud of informatie te accentueren.</p> <p>In deze hero sectie kan nagenoeg elke geldige HTML geplaatst worden, inclusief andere Bootstrap-elementen of -klassen.</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Hello, world&lt;/h1&gt;\n\n        &lt;div class=\"bg-light p-5 rounded\"&gt;\n            &lt;h1 class=\"display-3\"&gt;Hello, Hero!&lt;/h1&gt;\n\n            &lt;p class=\"lead\"&gt;Dit is een eenvoudige paragraaf, waarbij gebruik gemaakt wordt van een hero sectie, om extra aandacht te vragen voor dit specifieke onderdeel.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p> <p>Stap 5: Knoppen toevoegen.</p> <p>Bootstrap kent ook verschillende typen knoppen. E\u00e9n van de voordelen hiervan is dat door het algemene gebruik van Bootstrap de meeste mensen bekend zijn met de betekenis van de specifieke vorm van de knoppen, en de interactie met je site dus soepeler gaat lopen.</p> <p>We gaan nu ook knoppen aan ons voorbeeld toevoegen. Als je de component Buttons op de site van Bootstrap selecteert, krijg je te zien welke buttons er allemaal bestaan. Zie het voorbeeld hieronder (om het geheel overzichtelijk laten we de container met de hero sectie achterwege).</p> <pre><code>&lt;div class=\"container\"&gt;\n    &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n    &lt;button class=\"btn btn-success\" type=\"button\" name=\"button\"&gt;Button&lt;/button&gt;\n\n    &lt;!-- rest van de html is weggelaten --&gt;\n\n&lt;/div&gt;\n</code></pre> <p></p> <p>Met de beschikbare informatie wordt een nog een tweede knop in de container opgenomen met de kenmerken, extra groot en niet actief (let op de waarden van het <code>class</code>-attribuut van deze tweede knop):</p> <pre><code>&lt;div class=\"container\"&gt;\n    &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n    &lt;button class=\"btn btn-success\" type=\"button\" name=\"button\"&gt;Button&lt;/button&gt;\n    &lt;button type=\"button\" class=\"btn btn-lg btn-primary\" disabled&gt;Primary button&lt;/button&gt;\n\n    &lt;!-- rest van de html is weggelaten --&gt;\n\n&lt;/div&gt;\n</code></pre> <p></p> <p>Deze laatst toegevoegde knop heeft inderdaad de status inactief gekregen. Als je met je muis over deze knop gaat (hover), verschijnt er geen handje.</p> <p>Stap 6: Finishing touch.</p> <p>In de html hieronder hebben we nog een paar wijzigingen aan onze geweldige site toegevoegd. De grotere knop heeft een ander uiterlijk gekregen, de tweede container heeft ook een tweede klasse gekregen, waarin een knop is opgenomen waaraan een link gekoppeld is.</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Hello World!&lt;/h1&gt;\n\n        &lt;button class=\"btn btn-success btn-lg active\" type=\"button\"       name=\"button\"&gt;Button&lt;/button&gt;\n        &lt;button class=\"btn \" disabled type=\"button\" name=\"button\"&gt;Disabled Button&lt;/button&gt;\n\n        &lt;div class=\"bg-light p-5 rounded mt-3\"&gt;\n            &lt;h1 class=\"display-3\"&gt;Hello, Hero!&lt;/h1&gt;\n\n            &lt;p class=\"lead\"&gt;Dit is een eenvoudige paragraaf, waarbij gebruik gemaakt wordt van een hero sectie, om extra aandacht te vragen voor dit specifieke onderdeel.&lt;/p&gt;\n\n            &lt;p&gt;We maken hier gebruik van een paragraaf, om de spati\u00ebring een de ruimte tussen de container te regelen..&lt;/p&gt;\n\n            &lt;p class=\"lead\"&gt;\n                &lt;a class=\"btn btn-primary btn-lg \" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;\n            &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html","title":"Bootstrap \u2013 Formulieren","text":""},{"location":"week1/3.bootstrap/bootstrap-deel3.html#bootstrap-formulieren","title":"Bootstrap \u2013 Formulieren","text":"<p>E\u00e9n van de meest gebruikte onderwerpen bij het ontwikkelen van een webapplicatie is het werken met formulieren. Basis hiervoor is html-code, aangevuld met de Bootstrap-links. De <code>&lt;input&gt;</code>-tag wordt veelvuldig gebruikt, in meerdere variaties en in combinatie met de klassen van Bootstrap.</p> <p>Bootstrap 5 formulieren</p> <p>In Bootstrap 5 is de formulier styling aangepast. De klasse <code>form-group</code> is vervangen door <code>mb-3</code> (margin-bottom) en formulier labels gebruiken nu de <code>form-label</code> klasse voor betere styling en toegankelijkheid.</p> <p>Aan de hand van een kant-en-klaar formulier wordt de onderliggende code besproken. De volledige code kan weer in de documentatie gevonden worden. Uiteraard worden de items op het formulier opgenomen in het html-document tussen de tags <code>&lt;form&gt;</code> en <code>&lt;/form&gt;</code>. Bovendien wordt het gehele formulier in een container ingebed. Dat alles levert de volgende basis op:</p> <pre><code>&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h2&gt;Vul onderstaande gegevens in &lt;/h2&gt;\n\n        &lt;form&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#email-adres","title":"Email-adres","text":"<pre><code>&lt;div class=\"mb-3\"&gt;\n    &lt;label for=\"e-mail\" class=\"form-label\"&gt;E-mailadres&lt;/label&gt;\n    &lt;input type=\"email\" class=\"form-control\" id=\"e-mail\" aria-describedby=\"emailHelp\" placeholder=\"E-mailadres\"&gt;\n    &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;\n        Wij geven uw persoonlijke gegevens nooit door\n        aan andere organisaties.\n    &lt;/small&gt;\n&lt;/div&gt;\n</code></pre> <p>Het meeste uit het bovenstaande zal je bekend voorkomen uit de vorige paragrafen. Nieuw is de <code>div</code> met class <code>mb-3</code>: dit zorgt voor margin-bottom spacing en geeft aan welke <code>input</code>-elementen bij elkaar horen, welke begeleidende tekst daarbij hoort, enzovoort.</p> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#wachtwoord","title":"Wachtwoord","text":"<pre><code>&lt;div class=\"mb-3\"&gt;\n    &lt;label for=\"password\" class=\"form-label\"&gt;Wachtwoord&lt;/label&gt;\n    &lt;input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Wachtwoord\"&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#keuzelijstje","title":"Keuzelijstje","text":"<pre><code>&lt;div class=\"mb-3\"&gt;\n    &lt;label for=\"keuze\" class=\"form-label\"&gt;Betaalwijze&lt;/label&gt;\n    &lt;select class=\"form-control\" id=\"keuze\"&gt;\n        &lt;option&gt;iDeal&lt;/option&gt;\n        &lt;option&gt;Cash&lt;/option&gt;\n        &lt;option&gt;CreditCard&lt;/option&gt;\n        &lt;option&gt;Rembours&lt;/option&gt;\n        &lt;option&gt;Polaroid&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#keuzelijst-met-meerdere-keuzemogelijkheden","title":"Keuzelijst met meerdere keuzemogelijkheden","text":"<pre><code>&lt;div class=\"mb-3\"&gt;\n    &lt;label for=\"exampleSelect2\" class=\"form-label\"&gt;Welke instrumenten bespeelt u&lt;/label&gt;\n    &lt;select multiple class=\"form-control\" id=\"exampleSelect2\"&gt;\n        &lt;option&gt;Piano&lt;/option&gt;\n        &lt;option&gt;Kerkorgel&lt;/option&gt;\n        &lt;option&gt;Viool&lt;/option&gt;\n        &lt;option&gt;Didgeridoo&lt;/option&gt;\n        &lt;option&gt;Stofzuiger&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#tekstvak","title":"Tekstvak","text":"<pre><code>&lt;div class=\"mb-3\"&gt;\n    &lt;label for=\"tekstvak\" class=\"form-label\"&gt;Eventuele op- of aanmerkingen:&lt;/label&gt;\n    &lt;textarea class=\"form-control\" id=\"tekstvak\" rows=\"3\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#radio-buttons","title":"Radio buttons","text":"<p>De eerste is checked, en de derde disabled. Let ook op de nieuwe <code>fieldset</code>-tag.</p> <pre><code>&lt;fieldset class=\"mb-3\"&gt;\n    &lt;legend&gt;Radio buttons&lt;/legend&gt;\n    &lt;div class=\"form-check\"&gt;\n        &lt;label class=\"form-check-label\"&gt;\n        &lt;input type=\"radio\" class=\"form-check-input\" name=\"optionsRadios\" id=\"optionsRadios1\" value=\"option1\" checked&gt;\n        Er is al een selectie gemaakt voor u&amp;mdash; dat is een uitstekende keuze\n        &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-check\"&gt;\n        &lt;label class=\"form-check-label\"&gt;\n        &lt;input type=\"radio\" class=\"form-check-input\" name=\"optionsRadios\" id=\"optionsRadios2\" value=\"option2\"&gt;\n        Wordt voor optie 2 gekozen, wordt de keuze voor optie 1 ongedaan gemaakt.\n        &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-check disabled\"&gt;\n        &lt;label class=\"form-check-label\"&gt;\n        &lt;input type=\"radio\" class=\"form-check-input\" name=\"optionsRadios\" id=\"optionsRadios3\" value=\"option3\" disabled&gt;\n        Optie drie kan niet gekozen worden.\n        &lt;/label&gt;\n    &lt;/div&gt;\n&lt;/fieldset&gt;\n</code></pre> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#checkbox","title":"Checkbox","text":"<pre><code>&lt;div class=\"form-check\"&gt;\n    &lt;label class=\"form-check-label\"&gt;\n    &lt;input type=\"checkbox\" class=\"form-check-input\"&gt;\n    Ik heb geen zin om de algemene voorwaarden te lezen\n    &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel3.html#knop","title":"Knop","text":"<p>En de laatste knop om het formulier te versturen.</p> <pre><code>&lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Verstuur&lt;/button&gt;\n</code></pre> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html","title":"Bootstrap \u2013 Navigatiebalk","text":""},{"location":"week1/3.bootstrap/bootstrap-deel4.html#bootstrap-navigatiebalk","title":"Bootstrap \u2013 Navigatiebalk","text":"<p>Een navigatiebalk is een header die bovenaan de pagina wordt geplaatst. Met Bootstrap kan een navigatiebalk worden uitgebreid of samengevouwen, afhankelijk van de schermgrootte.</p> <p>Een standaard navigatiebalk wordt gemaakt met de <code>.navbar-klasse</code>, gevolgd door een responsive samenvouwklasse: <code>.navbar-expand-xl</code>. Bootstrap 5 gebruikt vanilla JavaScript en heeft geen jQuery meer nodig voor de interactieve componenten. De JavaScript-functionaliteit is nu ingebouwd in Bootstrap zelf.</p>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#navigatie-toevoegen","title":"Navigatie toevoegen","text":"<p>Om een navigatiebalk toe te kunnen voegen worden er op de Bootstrap-site onder het kopje Components twee mogelijkheden aangeboden: <code>Nav</code> en <code>Navbar</code>. Onder <code>Nav</code> worden alle opties beschreven, aanlijning, wel of geen tabs, achtergrondkleur en nog veel meer. Uiteraard kan de corresponderende code weer overgezet worden naar de webpagina om daar aan de wensen aangepast te worden.</p> <p>Hier wordt gekozen voor de <code>Navbar</code>, waarom zal zo duidelijk worden. Navigatiebalken worden geleverd met ingebouwde ondersteuning voor een handvol sub componenten.</p> Component-classe Uitleg <code>.navbar-brand</code> Voor bedrijfs-, product, of projectnaam (mist bij Nav). <code>.navbar-nav</code> Navigatiebalk zoals hieronder te zien is. <code>.navbar-toggler</code> Nodig voor responsive, maakt inhoud zichtbaar op meerdere schermgrootten. <code>.form-inline</code> Voor toevoegen formuliervelden <code>.navbar-text</code> Voor het toevoegen van verticaal gecentreerde tekstreeksen. <code>.collapse.navbar-collapse</code> Voor het groeperen en verbergen van de inhoud van de navigatiebalk door een bovenliggend breekpunt. <p>Als voorbeeld nu een responsieve navigatiebalk die alle bovengenoemde elementen bevat. Let op: we tonen alleen de <code>body</code>; Bootstrap is al in de <code>head</code> ingeladen.</p> <pre><code>&lt;body&gt;\n &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n        &lt;a class=\"navbar-brand\" href=\"#\"&gt;BRAND&lt;/a&gt;\n\n        &lt;button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"&gt;\n        &lt;/button&gt;\n\n   &lt;div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"&gt;\n    &lt;ul class=\"navbar-nav mr-auto\"&gt;\n     &lt;li class=\"nav-item active\"&gt;\n         &lt;a class=\"nav-link\" href=\"#\"&gt;SomeLink&lt;/a&gt;\n      &lt;/li&gt;\n       &lt;li class=\"nav-item\"&gt;\n         &lt;a class=\"nav-link\" href=\"#\"&gt;AnotherLink&lt;/a&gt;\n       &lt;/li&gt;\n     &lt;li class=\"nav-item dropdown\"&gt;\n         &lt;a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\"          role=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\"\n         aria-expanded=\"false\"&gt;Dropdown&lt;/a&gt;\n         &lt;div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"&gt;\n               &lt;a class=\"dropdown-item\" href=\"#\"&gt;Action&lt;/a&gt;\n               &lt;a class=\"dropdown-item\" href=\"#\"&gt;Another action&lt;/a&gt;\n            &lt;/div&gt;\n\n         &lt;div class=\"dropdown-divider\"&gt;&lt;/div&gt;\n                &lt;a class=\"dropdown-item\" href=\"#\"&gt;Something else here&lt;/a&gt;\n         &lt;/div&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;form class=\"form-inline my-2 my-lg-0\"&gt;\n       &lt;input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\"\n       aria-label=\"Search\"&gt;\n       &lt;button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\"&gt;  Search&lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/nav&gt;\n&lt;/body&gt;\n</code></pre> <p>Als deze code in de browser wordt geladen, wordt de volgende navigatiebalk zichtbaar, inclusief merknaam, keuzelijst en zoekmogelijkheid:</p> <p></p>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#voordelen-van-navbar","title":"Voordelen van <code>Navbar</code>","text":"<p>Een keuze voor <code>Navbar</code> kent een tweetal voordelen:</p> <ol> <li>Het logo van het bedrijf of product wordt getoond als BRAND.</li> <li>Als het scherm verkleind wordt blijft in ieder geval het woord BRAND zichtbaar.</li> </ol> <p>Dat tweede punt vraagt misschien om toelichting. Als de schermgrootte te klein is om de inhoud van de webpagina te tonen, zorgt de <code>&lt;div&gt;</code> met de klassen <code>collapse navbar-collapse</code> ervoor dat het linker scherm in zicht is. Door een klik op de \u2018hamburger\u2019 verschijnt de navigatiebalk, nu verticaal opgebouwd.</p> <pre><code>&lt;div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"&gt;\n</code></pre> <p></p> <p>Dat er nog wat op het scherm te zien is komt doordat de volgende snippet buiten de <code>&lt;div&gt;</code> gehouden is en ook niet verdwijnt bij het collapsen.</p> <pre><code>&lt;button class=\"navbar-toggler\"\n type=\"button\" data-bs-toggle=\"collapse\"\n data-bs-target=\"#navbarSupportedContent\"\n aria-controls=\"navbarSupportedContent\"\n aria-expanded=\"false\"\n    aria-label=\"Toggle navigation\"&gt;\n\n &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#extra-link","title":"Extra link","text":"<p>Het is natuurlijk ook mogelijk de navigatiebalk uit te breiden met een extra link. Het kan een link zijn of een drop down-menu; het gaat op vergelijkbare wijze. Als demo wordt een \u2018NewLink\u2019 aan de navigatie toegevoegd:</p> <pre><code>&lt;li class=\"nav-item active\"&gt;\n        &lt;a class=\"nav-link\" href=\"#\"&gt;Sessions&lt;/a&gt;\n&lt;/li&gt;\n</code></pre> <p></p> <p>In de code die Bootstrap ons ter beschikking heeft gesteld is ook een drop down-menu opgenomen. Na opening staat deze inhoud op het scherm.</p> <p></p> <p>Het is mogelijk meerdere divisies aan te brengen in een keuzemenu. De klasse <code>.dropdown-divider</code> helpt daarbij.</p> <pre><code>&lt;a class=\"dropdown-item\" href=\"#\"&gt;Another action&lt;/a&gt;\n&lt;div class=\"dropdown-divider\"&gt;&lt;/div&gt;\n&lt;a class=\"dropdown-item\" href=\"#\"&gt;Something else here&lt;/a&gt;\n</code></pre>"},{"location":"week1/3.bootstrap/bootstrap-deel4.html#tot-slot","title":"Tot slot","text":"<p>Tot zover alle basisvaardigheden voor Bootstrap. Het is niet nodig zelf alle acties en instellingen uit het hoofd te leren. Het is veel belangrijker te oefenen de juiste componenten te selecteren, daarbinnen de juiste attributen op te zoeken en de bijbehorende code te implementeren in de webpagina om vervolgens nog de nodige aanpassingen door te voeren.</p>"},{"location":"week1/oefeningen/wk1oefening1.html","title":"Oefening 1","text":""},{"location":"week1/oefeningen/wk1oefening1.html#oefening-1","title":"Oefening 1","text":"<p>Hieronder staat een webpagina afgebeeld met informatie over Flask. Het is de bedoeling een HTML-pagina te produceren die hetzelfde doet.</p> <p></p> <p>Extra informatie:</p> <ul> <li>URL van Flask: https://flask.palletsprojects.com/</li> <li>Afmetingen van het logo zijn: 200 x 150.</li> <li>Alle informatie over tags is te vinden op: https://developer.mozilla.org/nl/</li> </ul>"},{"location":"week1/oefeningen/wk1oefening2.html","title":"Oefening 2","text":""},{"location":"week1/oefeningen/wk1oefening2.html#oefening-2","title":"Oefening 2","text":"<p>Aan het eind van het onderdeel HTML nog een tweede oefening, waarin gevraagd wordt een formulier voor de muziekschool te maken. Hieronder is een afbeelding van het uiteindelijke resultaat te zien.</p> <p></p> <p>Nog enkele aanwijzingen:</p> <ul> <li>De invulkaders moeten gebruik maken van een placeholder.</li> <li>De gegevens hoeven niet doorgegeven te worden naar een tweede pagina.</li> <li>In het voorbeeld zijn iDEAL, PayPal en Creditcard als opties gebruikt voor de keuzelijst.</li> <li>De aankruisvakjes zijn van het type \u2018checkbox\u2019; informatie over hun werking kan gevonden worden op de site https://developer.mozilla.org/nl/ .</li> </ul>"},{"location":"week1/oefeningen/wk1oefening3.html","title":"Oefening 3","text":""},{"location":"week1/oefeningen/wk1oefening3.html#oefening-3","title":"Oefening 3","text":"<p>Op Wikipedia kan eenieder de geboortedatum zien van bekende/beruchte personen. In deze oefening gaan we een aantal mensen selecteren op basis van een datum.</p> <ol> <li> <p>Kies een dag uit, bijvoorbeeld je eigen geboortedag. Bekijk de wiki-pagina van mensen die op deze dag geboren zijn.</p> </li> <li> <p>Selecteer uit de ongetwijfeld uitgebreide lijst een zestal personen.</p> </li> <li> <p>Maak een html-document aan om de zes grootheden in onder te brengen. Je mag van onderstaand skelet gebruik maken.</p> </li> </ol> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;link rel=\"stylesheet\" href=\"xx.css\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Tekst&lt;/h2&gt;\n        &lt;p class=\"\"&gt;\n        Naam\n        Waardoor bekend (geboortejaar)\n        &lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Maak een bijhorende stylesheet, waarbij je ervoor zorgt dat elke persoon een separate kleur krijgt. Het eindresultaat zou er zo uit kunnen zien (kleurkeuze is aan jullie):</p> <p></p>"},{"location":"week1/oefeningen/wk1oefening4.html","title":"Oefening 4","text":""},{"location":"week1/oefeningen/wk1oefening4.html#oefening-4","title":"Oefening 4","text":"<p>Download de bestanden <code>oefening4.html</code>, <code>oefening4.css</code> en dit plaatje van een kat. De algemene structuur van het html-bestand is al ingevuld, maar je moet hier nog wel wat dingen in aanpassen. Het css-bestand bevat uitsluitend commentaarregels met opdrachten om de webpagina een ander aanzien te geven.</p> <p>Het uiteindelijke resultaat moet er als volgt uit zien. Je mag natuurlijk ook nog wat meer toeters en bellen toevoegen, maar dit is het minimum:</p> <p></p>"},{"location":"week1/oefeningen/wk1oefening5.html","title":"Oefening 5","text":""},{"location":"week1/oefeningen/wk1oefening5.html#oefening-5","title":"Oefening 5","text":"<p>In het project zal van jullie gevraagd worden op diverse plaatsen componenten van Bootstrap te gebruiken. Vaak zijn het ook componenten die in deze cursus basisvaardigheden niet aan bod zijn gekomen. Dat is ook het geval bij deze opdracht. Er zal onder meer gevraagd worden een \u2018carousel\u2019, een draaimolen, op een webpagina in te bouwen.</p> <p>De basis van de opgaven kun je vinden in de bestanden <code>oefening_5_main.html</code>, 'oefening_5_login.html` en de bijhorende plaatjes. In html-bestanden staan ook de exacte opdrachten gegeven. De eindresultaten zien er als volgt uit:</p> <p></p> <p></p>"},{"location":"week2/oop-deel1.html","title":"OOP Python \u2013 Inleiding tot objecten","text":""},{"location":"week2/oop-deel1.html#oop-python-inleiding-tot-objecten","title":"OOP Python \u2013 Inleiding tot objecten","text":"<p>Je gaat nu werken met objecten in Python. Dit is een fundamenteel concept - later ga je zien hoe een database rij automatisch een object wordt in je code.</p>"},{"location":"week2/oop-deel1.html#waarom-objecten","title":"Waarom objecten?","text":"<p>Tot nu toe heb je geprogrammeerd met losse variabelen en functies. Voor kleine programma's werkt dat prima, maar bij grotere applicaties zoals een webshop wordt het al snel onoverzichtelijk. Objecten groeperen gerelateerde data en functionaliteit.</p> <p>Voorbeeld: In een webshop heeft elk product eigenschappen (naam, prijs, voorraad) en acties (verkopen, prijs aanpassen). In plaats van losse variabelen gebruik je een klasse als sjabloon om objecten (instanties) te maken.</p>"},{"location":"week2/oop-deel1.html#je-eerste-klasse-product","title":"Je eerste klasse: Product","text":"<pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n</code></pre>"},{"location":"week2/oop-deel1.html#klasse-definitie","title":"Klasse definitie","text":"<pre><code>class Product:\n</code></pre> <p>Met <code>class</code> definieer je een nieuwe klasse. De naam begint altijd met een hoofdletter (<code>Product</code>, niet <code>product</code>).</p>"},{"location":"week2/oop-deel1.html#type-annotaties","title":"Type annotaties","text":"<pre><code>def __init__(self, naam: str, prijs: float, voorraad: int):\n</code></pre> <p>De type annotaties (<code>: str</code>, <code>: float</code>, <code>: int</code>) geven aan welk datatype je verwacht:</p> <ul> <li><code>naam: str</code> - een string</li> <li><code>prijs: float</code> - een getal met decimalen</li> <li><code>voorraad: int</code> - een heel getal</li> </ul> <p>Waarom type annotaties?</p> <p>Type annotaties zijn nieuw voor je, maar hebben drie grote voordelen: 1. Je ziet direct wat een functie verwacht - code wordt makkelijker te begrijpen 2. Je editor helpt je met autocompletion en waarschuwt voor fouten 3. Later (bij databases en webapplicaties) zijn ze vereist Vanaf nu gebruik je ze standaard in je code.</p>"},{"location":"week2/oop-deel1.html#de-constructor-__init__","title":"De constructor: <code>__init__</code>","text":"<pre><code>def __init__(self, naam: str, prijs: float, voorraad: int):\n    self.naam = naam\n    self.prijs = prijs\n    self.voorraad = voorraad\n</code></pre> <p>De <code>__init__</code> methode is de constructor - deze wordt automatisch aangeroepen wanneer je een nieuw object aanmaakt.</p> <p><code>self</code> - het object zelf</p> <p><code>self</code> verwijst naar het object zelf. Wanneer je <code>self.naam = naam</code> schrijft, maak je een attribuut aan dat bij dit specifieke object hoort. Belangrijk: Elke methode moet <code>self</code> als eerste parameter hebben - Python geeft het huidige object automatisch door.</p>"},{"location":"week2/oop-deel1.html#objecten-aanmaken","title":"Objecten aanmaken","text":"<pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Draadloze muis\", 25.50, 20)\n</code></pre> <p>Je hebt nu twee objecten (instanties) van de klasse <code>Product</code>. Elk object heeft zijn eigen waarden:</p> <pre><code>print(laptop.naam)      # \"Laptop\"\nprint(laptop.prijs)     # 799.99\nprint(muis.naam)        # \"Draadloze muis\"\nprint(muis.prijs)       # 25.50\n</code></pre>"},{"location":"week2/oop-deel1.html#terminologie","title":"Terminologie","text":"Term Betekenis Klasse Een sjabloon voor het maken van objecten (bijv. <code>Product</code>) Object/Instantie Een concreet exemplaar van een klasse (bijv. <code>laptop</code>) Attribuut Een variabele die bij een object hoort (bijv. <code>naam</code>, <code>prijs</code>) Methode Een functie die bij een klasse hoort Constructor De <code>__init__</code> methode die een nieuw object initialiseert"},{"location":"week2/oop-deel1.html#methoden-toevoegen","title":"Methoden toevoegen","text":"<p>Een klasse kan methoden bevatten - functies die bij de klasse horen:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop een aantal items. Geeft True terug bij succes, False bij onvoldoende voorraad.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n</code></pre> <p>Belangrijke details:</p> <ol> <li>Return type annotatie: <code>-&gt; bool</code> betekent dat deze methode een boolean teruggeeft</li> <li>Docstring: De regel tussen <code>\"\"\"</code> documenteert wat de methode doet</li> <li>Return value: De methode geeft <code>True</code> of <code>False</code> terug - de aanroepende code beslist wat ermee gebeurt</li> </ol> <p>Print vs Return in webapplicaties</p> <p>De <code>verkoop()</code> methode geeft een boolean terug in plaats van te printen. Dit is essentieel voor webapplicaties: - <code>print()</code> schrijft naar de console - de gebruiker ziet dit niet - <code>return</code> geeft data terug aan de aanroepende code In Flask geef je data terug aan de browser. Je <code>Product</code> klasse weet alleen van producten - feedback tonen aan gebruikers doet je Flask route: </p><pre><code># Later in een Flask route:\nif laptop.verkoop(2):\n    flash(\"Product verkocht!\")\n    return redirect('/winkelwagen')\nelse:\n    flash(\"Onvoldoende voorraad\")\n    return redirect('/producten')\n</code></pre> Dit heet scheiding van verantwoordelijkheden (separation of concerns): elke laag in je applicatie heeft zijn eigen verantwoordelijkheid.<p></p>"},{"location":"week2/oop-deel1.html#de-__str__-methode","title":"De <code>__str__</code> methode","text":"<p>Python heeft speciale methoden die beginnen en eindigen met dubbele underscores (<code>__</code>), ook wel \"dunder methods\" genoemd (van \"double underscore\").</p> <p>De <code>__str__</code> methode bepaalt hoe een object als string wordt weergegeven:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam}: \u20ac{self.prijs:.2f} ({self.voorraad} op voorraad)\"\n</code></pre> <p>Nu kun je een product direct printen:</p> <pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nprint(laptop)\n# Output: Laptop: \u20ac799.99 (5 op voorraad)\n</code></pre>"},{"location":"week2/oop-deel1.html#volledige-voorbeeld","title":"Volledige voorbeeld","text":"<pre><code>class Product:\n    \"\"\"Een product in de webshop.\"\"\"\n\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop een aantal items. Geeft True terug bij succes.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def voorraad_bijvullen(self, aantal: int) -&gt; None:\n        \"\"\"Voeg items toe aan de voorraad.\"\"\"\n        self.voorraad += aantal\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam}: \u20ac{self.prijs:.2f} ({self.voorraad} op voorraad)\"\n\n\n# Gebruik de klasse\nlaptop = Product(\"Laptop\", 799.99, 5)\nprint(laptop)\n# Output: Laptop: \u20ac799.99 (5 op voorraad)\n\n# Verkoop\nif laptop.verkoop(2):\n    print(f\"Verkocht! Nieuwe voorraad: {laptop.voorraad}\")\nelse:\n    print(\"Onvoldoende voorraad\")\n# Output: Verkocht! Nieuwe voorraad: 3\n\n# Voorraad bijvullen\nlaptop.voorraad_bijvullen(10)\nprint(laptop)\n# Output: Laptop: \u20ac799.99 (13 op voorraad)\n</code></pre>"},{"location":"week2/oop-deel1.html#meerdere-objecten","title":"Meerdere objecten","text":"<p>Je kunt meerdere objecten van dezelfde klasse maken, elk met eigen data:</p> <pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Draadloze muis\", 25.50, 20)\ntoetsenbord = Product(\"Mechanisch toetsenbord\", 89.99, 15)\n\n# Elk object is onafhankelijk\nlaptop.verkoop(2)\nmuis.verkoop(5)\n\nprint(laptop)        # Laptop: \u20ac799.99 (3 op voorraad)\nprint(muis)          # Draadloze muis: \u20ac25.50 (15 op voorraad)\nprint(toetsenbord)   # Mechanisch toetsenbord: \u20ac89.99 (15 op voorraad)\n</code></pre> <p>Elk object heeft zijn eigen <code>voorraad</code> attribuut - wijzigingen in <code>laptop.voorraad</code> hebben geen effect op <code>muis.voorraad</code>.</p>"},{"location":"week2/oop-deel1.html#methoden-met-berekeningen","title":"Methoden met berekeningen","text":"<p>Methoden kunnen ook berekeningen doen:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def bereken_voorraadwaarde(self) -&gt; float:\n        \"\"\"Bereken de totale waarde van de voorraad.\"\"\"\n        return self.prijs * self.voorraad\n\n    def bereken_prijs_met_btw(self, btw_percentage: float = 21.0) -&gt; float:\n        \"\"\"Bereken prijs inclusief BTW.\"\"\"\n        return self.prijs * (1 + btw_percentage / 100)\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam}: \u20ac{self.prijs:.2f}\"\n\n\nlaptop = Product(\"Laptop\", 799.99, 5)\n\nprint(f\"Voorraadwaarde: \u20ac{laptop.bereken_voorraadwaarde():.2f}\")\n# Output: Voorraadwaarde: \u20ac3999.95\n\nprint(f\"Prijs incl. BTW: \u20ac{laptop.bereken_prijs_met_btw():.2f}\")\n# Output: Prijs incl. BTW: \u20ac968.39\n\nprint(f\"Prijs met 9% BTW: \u20ac{laptop.bereken_prijs_met_btw(9.0):.2f}\")\n# Output: Prijs met 9% BTW: \u20ac871.99\n</code></pre> <p>Default waarden</p> <p><code>btw_percentage: float = 21.0</code> is een default waarde - als je geen waarde meegeeft, wordt 21.0 gebruikt. Dit is handig voor parameters die vaak dezelfde waarde hebben.</p>"},{"location":"week2/oop-deel1.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt nu gezien:</p> <ul> <li>Klassen en objecten: Een klasse is een sjabloon, een object is een instantie</li> <li>Type annotaties: <code>: str</code>, <code>: float</code>, <code>-&gt; bool</code> maken code duidelijker en helpen fouten voorkomen</li> <li>Constructor: <code>__init__</code> initialiseert nieuwe objecten</li> <li>Attributen: Data die bij een object hoort (bijv. <code>self.naam</code>)</li> <li>Methoden: Functies binnen een klasse, eerste parameter is altijd <code>self</code></li> <li>Return values: Methoden geven data terug (geen print statements)</li> <li>Speciale methoden: <code>__str__</code> bepaalt string representatie</li> </ul>"},{"location":"week2/oop-deel1.html#belangrijke-regels","title":"Belangrijke regels","text":"<ol> <li>Type annotaties altijd gebruiken</li> <li>Return values in plaats van print statements (web-ready code)</li> <li>Elke methode heeft <code>self</code> als eerste parameter</li> <li>Klasse namen beginnen met hoofdletter, methode namen met kleine letter</li> </ol>"},{"location":"week2/oop-deel1.html#volgende-stap","title":"Volgende stap","text":"<p>In het volgende deel: dataclasses - een moderne manier om klassen te maken die vooral data bevatten. Dit maakt je code nog korter en leesbaarder.</p> <p>Maak nu oefening 1.</p>"},{"location":"week2/oop-deel2.html","title":"OOP Python \u2013 Dataclasses","text":""},{"location":"week2/oop-deel2.html#oop-python-dataclasses","title":"OOP Python \u2013 Dataclasses","text":"<p>In het vorige deel heb je gezien hoe je klassen maakt met <code>__init__</code>. Voor klassen die vooral data bevatten, heeft Python een modernere aanpak: dataclasses. Deze maken je code korter en leesbaarder.</p>"},{"location":"week2/oop-deel2.html#het-probleem-met-reguliere-klassen","title":"Het probleem met reguliere klassen","text":"<p>Kijk naar deze <code>Product</code> klasse:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int = 0):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n</code></pre> <p>Dit werkt prima, maar er is veel boilerplate (herhalende, weinig toevoegende code): je typt elke attribuutnaam drie keer. Voor klassen met veel attributen wordt dit vervelend.</p>"},{"location":"week2/oop-deel2.html#dataclasses-minder-code-zelfde-resultaat","title":"Dataclasses: minder code, zelfde resultaat","text":"<p>Python biedt een elegantere manier voor data-klassen: dataclasses.</p> <p>Je herkent een dataclass aan de <code>@dataclass</code> decorator (het <code>@</code>-symbool) boven de klasse:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n</code></pre> <p>Wat betekent <code>@dataclass</code>?</p> <p>De <code>@</code> syntax is een decorator - een speciale aanduiding die functionaliteit toevoegt aan je klasse. Je hoeft nu niet precies te begrijpen hoe decorators werken. Belangrijk is dat <code>@dataclass</code> ervoor zorgt dat Python automatisch een aantal methoden voor je genereert: - <code>__init__()</code> - constructor met alle attributen als parameters - <code>__repr__()</code> - nette string representatie voor debugging - <code>__eq__()</code> - vergelijking tussen objecten Dit scheelt veel typwerk en voorkomt fouten. Later zie je meer decorators zoals <code>@app.route</code> in Flask.</p> <p>Je gebruikt de klasse precies hetzelfde:</p> <pre><code>laptop = Product(\"Laptop\", 799.99, 5)\nprint(laptop.naam)        # \"Laptop\"\nprint(laptop.prijs)       # 799.99\nprint(laptop)             # Product(naam='Laptop', prijs=799.99, voorraad=5)\n</code></pre>"},{"location":"week2/oop-deel2.html#methoden-toevoegen-aan-dataclasses","title":"Methoden toevoegen aan dataclasses","text":"<p>Je kunt gewoon methoden toevoegen zoals bij normale klassen:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop een aantal items.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def bereken_voorraadwaarde(self) -&gt; float:\n        \"\"\"Bereken totale waarde van voorraad.\"\"\"\n        return self.prijs * self.voorraad\n\n\nlaptop = Product(\"Laptop\", 799.99, 5)\nlaptop.verkoop(2)\nprint(f\"Voorraadwaarde: \u20ac{laptop.bereken_voorraadwaarde():.2f}\")\n# Output: Voorraadwaarde: \u20ac2399.97\n</code></pre>"},{"location":"week2/oop-deel2.html#type-hints-verdieping","title":"Type hints verdieping","text":"<p>Nu je dataclasses gebruikt, is het tijd om meer type hints te leren kennen.</p>"},{"location":"week2/oop-deel2.html#str-none-waarden-die-none-kunnen-zijn","title":"str | None - waarden die None kunnen zijn","text":"<p>Soms mag een waarde <code>None</code> zijn. Dat geef je aan met <code>str | None</code>:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n    beschrijving: str | None = None  # Mag None zijn\n\nlaptop = Product(\"Laptop\", 799.99, 5, \"Gaming laptop\")\nmuis = Product(\"Muis\", 25.50, 10)  # Geen beschrijving\n\nif laptop.beschrijving:\n    print(laptop.beschrijving)\n</code></pre> <p>str | None</p> <p><code>beschrijving: str | None = None</code> betekent: \"een string OF None\". De <code>= None</code> is de standaardwaarde als je niets invult.</p>"},{"location":"week2/oop-deel2.html#list-lijsten-met-types","title":"List - lijsten met types","text":"<p>Voor lijsten geef je aan welk type elementen erin zitten:</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Winkelwagen:\n    klant_naam: str\n    producten: list[Product] = field(default_factory=list)\n\n    def voeg_toe(self, product: Product) -&gt; None:\n        \"\"\"Voeg een product toe aan de winkelwagen.\"\"\"\n        self.producten.append(product)\n\n    def bereken_totaal(self) -&gt; float:\n        \"\"\"Bereken totaalprijs van alle producten.\"\"\"\n        return sum(p.prijs for p in self.producten)\n\n\nwagen = Winkelwagen(\"Jan Jansen\")\nwagen.voeg_toe(Product(\"Laptop\", 799.99))\nwagen.voeg_toe(Product(\"Muis\", 25.50))\nprint(f\"Totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n# Output: Totaal: \u20ac825.49\n</code></pre> <p>field(default_factory=list)</p> <p>Voor mutable default waarden (lists, dicts) moet je <code>field(default_factory=list)</code> gebruiken in plaats van <code>= []</code>. Waarom? Een gewoon <code>= []</code> zou gedeeld worden tussen alle instanties: Python maakt die lijst eenmalig aan bij het laden van de klasse, niet bij elke aanmaak van een object. Met <code>default_factory</code> krijgt elke instantie zijn eigen lege lijst.</p>"},{"location":"week2/oop-deel2.html#preview-database-modellen","title":"Preview: Database modellen","text":"<p>Database modellen (die je later gaat maken) lijken erg op dataclasses:</p> <pre><code># Dit is hoe SQLAlchemy 2.0+ modellen eruitzien:\nfrom sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column\n\nclass Base(DeclarativeBase):\n    pass\n\nclass Product(Base):\n    __tablename__ = \"products\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str] = mapped_column(String(100))\n    prijs: Mapped[float]\n    voorraad: Mapped[int] = mapped_column(default=0)\n</code></pre> <p>Zie je de overeenkomst? Type annotations + class attributes, net als dataclasses!</p>"},{"location":"week2/oop-deel2.html#volledige-voorbeeld-webshop","title":"Volledige voorbeeld: Webshop","text":"<p>Een compleet voorbeeld met dataclasses:</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n\n@dataclass\nclass Klant:\n    naam: str\n    email: str\n    korting_percentage: float = 0.0\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        \"\"\"Bereken korting op een bedrag.\"\"\"\n        return bedrag * (self.korting_percentage / 100)\n\n\n@dataclass\nclass Bestelling:\n    klant: Klant\n    producten: list[Product] = field(default_factory=list)\n    betaald: bool = False\n\n    def voeg_product_toe(self, product: Product) -&gt; None:\n        \"\"\"Voeg een product toe aan de bestelling.\"\"\"\n        self.producten.append(product)\n\n    def bereken_subtotaal(self) -&gt; float:\n        \"\"\"Bereken subtotaal (zonder korting).\"\"\"\n        return sum(p.prijs for p in self.producten)\n\n    def bereken_totaal(self) -&gt; float:\n        \"\"\"Bereken totaal (met korting).\"\"\"\n        subtotaal = self.bereken_subtotaal()\n        korting = self.klant.bereken_korting(subtotaal)\n        return subtotaal - korting\n\n\n# Gebruik\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", 10.0)\nbestelling = Bestelling(jan)\n\nlaptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Muis\", 25.50, 20)\n\nbestelling.voeg_product_toe(laptop)\nbestelling.voeg_product_toe(muis)\n\nprint(f\"Subtotaal: \u20ac{bestelling.bereken_subtotaal():.2f}\")\nprint(f\"Korting: \u20ac{jan.bereken_korting(bestelling.bereken_subtotaal()):.2f}\")\nprint(f\"Totaal: \u20ac{bestelling.bereken_totaal():.2f}\")\n\n# Output:\n# Subtotaal: \u20ac825.49\n# Korting: \u20ac82.55\n# Totaal: \u20ac742.94\n</code></pre>"},{"location":"week2/oop-deel2.html#wanneer-dataclasses-gebruiken","title":"Wanneer dataclasses gebruiken?","text":"<p>Gebruik dataclasses:</p> <ul> <li>Voor klassen die vooral data bevatten</li> <li>Veel attributen, weinig logica</li> <li>Je wilt leesbare, overzichtelijke code</li> </ul> <p>Gebruik reguliere klassen:</p> <ul> <li>Complexe initialization logic nodig</li> <li>Veel custom dunder methoden (speciale methoden met dubbele underscores, zoals <code>__len__</code>, <code>__iter__</code>)</li> <li>Geen data container maar echt gedrag</li> </ul> <p>Database modellen zijn dataclass-achtig</p> <p>SQLAlchemy modellen die je later maakt, gebruiken hetzelfde patroon: type annotaties met class attributen. Als je dataclasses begrijpt, begrijp je ook de moderne SQLAlchemy syntax.</p>"},{"location":"week2/oop-deel2.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt nu gezien:</p> <ul> <li>Dataclasses: Minder herhalende code (boilerplate) voor data containers met <code>@dataclass</code></li> <li>Type hints: <code>str | None</code>, <code>list[Product]</code> voor complexere types</li> <li>field(): Voor mutable defaults met <code>default_factory</code></li> <li>Preview: Database modellen volgen hetzelfde patroon</li> </ul>"},{"location":"week2/oop-deel2.html#belangrijkste-voordelen-dataclasses","title":"Belangrijkste voordelen dataclasses","text":"<ol> <li>Minder code - geen repetitieve <code>__init__</code></li> <li>Automatische methoden - <code>__repr__</code>, <code>__eq__</code> gratis</li> <li>Type safety - duidelijk welke attributen een klasse heeft</li> <li>Voorbereidend - SQLAlchemy modellen werken vergelijkbaar</li> </ol>"},{"location":"week2/oop-deel2.html#volgende-stap","title":"Volgende stap","text":"<p>In het volgende deel: inheritance - hoe klassen van elkaar kunnen erven. Dit is essentieel voor database modellen.</p> <p>Maak nu oefening 2.</p>"},{"location":"week2/oop-deel3.html","title":"OOP Python \u2013 Inheritance","text":""},{"location":"week2/oop-deel3.html#oop-python-inheritance","title":"OOP Python \u2013 Inheritance","text":"<p>In dit deel leer je hoe inheritance (overerving) werkt in Python. Dit is een essenti\u00eble basis voor het werken met SQLAlchemy, waar je straks modellen maakt die erven van <code>db.Model</code>.</p>"},{"location":"week2/oop-deel3.html#wat-is-inheritance","title":"Wat is inheritance?","text":"<p>Inheritance betekent dat een klasse eigenschappen en methoden overneemt van een andere klasse:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float):\n        self.naam = naam\n        self.prijs = prijs\n\nclass FysiekProduct(Product):\n    def __init__(self, naam: str, prijs: float, gewicht: float):\n        super().__init__(naam, prijs)  # Roep parent constructor aan\n        self.gewicht = gewicht\n\nlaptop = FysiekProduct(\"Laptop\", 799.99, 2.5)\nprint(laptop.naam)  # Werkt! Overgenomen van Product\n</code></pre> <p>Terminologie:</p> <ul> <li><code>Product</code> is de parent class (ook wel: superclass, base class)</li> <li><code>FysiekProduct</code> is de child class (ook wel: subclass, derived class)</li> </ul>"},{"location":"week2/oop-deel3.html#wanneer-gebruik-je-inheritance","title":"Wanneer gebruik je inheritance?","text":"<p>Gebruik inheritance wanneer er een \"is een\" relatie is:</p> <ul> <li>Een <code>FysiekProduct</code> is een <code>Product</code></li> <li>Een <code>DigitaalProduct</code> is een <code>Product</code></li> <li>Een <code>User</code> is een <code>db.Model</code> (SQLAlchemy!)</li> </ul> <p>Is-een vs heeft-een</p> <p>Inheritance (is-een): Een laptop is een product Compositie (heeft-een): Een bestelling heeft een klant (zie deel 4)</p>"},{"location":"week2/oop-deel3.html#super-gebruiken","title":"Super() gebruiken","text":"<p><code>super()</code> roept de parent class aan. Dit gebruik je vooral in <code>__init__</code>:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float):\n        self.naam = naam\n        self.prijs = prijs\n        print(f\"Product aangemaakt: {naam}\")\n\nclass FysiekProduct(Product):\n    def __init__(self, naam: str, prijs: float, gewicht: float):\n        super().__init__(naam, prijs)  # Parent initialisatie\n        self.gewicht = gewicht\n        print(f\"Gewicht: {gewicht} kg\")\n</code></pre> <p>super() is verplicht</p> <p>Als je <code>super().__init__()</code> vergeet, worden de parent attributen niet ge\u00efnitialiseerd. Je krijgt dan fouten als <code>AttributeError: 'FysiekProduct' object has no attribute 'naam'</code>.</p>"},{"location":"week2/oop-deel3.html#methoden-overerven-en-overriden","title":"Methoden overerven en overriden","text":"<p>Child classes erven alle methoden van de parent:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float, voorraad: int):\n        self.naam = naam\n        self.prijs = prijs\n        self.voorraad = voorraad\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def bereken_waarde(self) -&gt; float:\n        return self.prijs * self.voorraad\n\nclass FysiekProduct(Product):\n    def __init__(self, naam: str, prijs: float, voorraad: int, gewicht: float):\n        super().__init__(naam, prijs, voorraad)\n        self.gewicht = gewicht\n\n    def bereken_verzendkosten(self) -&gt; float:\n        \"\"\"Nieuwe methode, alleen in FysiekProduct.\"\"\"\n        if self.gewicht &lt;= 1.0:\n            return 3.95\n        elif self.gewicht &lt;= 5.0:\n            return 6.95\n        else:\n            return 9.95\n\n# Test\nboek = FysiekProduct(\"Python Crash Course\", 34.95, 10, 0.6)\nboek.verkoop(3)  # Inherited van Product!\nprint(f\"Voorraad: {boek.voorraad}\")  # 7\nprint(f\"Verzendkosten: \u20ac{boek.bereken_verzendkosten():.2f}\")  # \u20ac3.95\n</code></pre>"},{"location":"week2/oop-deel3.html#methoden-overriden","title":"Methoden overriden","text":"<p>Je kunt een parent methode vervangen door dezelfde methode in de child te defini\u00ebren:</p> <pre><code>class Product:\n    def __init__(self, naam: str, prijs: float):\n        self.naam = naam\n        self.prijs = prijs\n\n    def __str__(self) -&gt; str:\n        return f\"Product: {self.naam} - \u20ac{self.prijs:.2f}\"\n\nclass DigitaalProduct(Product):\n    def __init__(self, naam: str, prijs: float, bestandsgrootte: float):\n        super().__init__(naam, prijs)\n        self.bestandsgrootte = bestandsgrootte\n\n    def __str__(self) -&gt; str:\n        \"\"\"Override: voeg bestandsgrootte toe.\"\"\"\n        return f\"Digitaal Product: {self.naam} - \u20ac{self.prijs:.2f} ({self.bestandsgrootte} MB)\"\n\nphotoshop = DigitaalProduct(\"Photoshop\", 29.99, 2480.0)\nprint(photoshop)  # Gebruikt de overridden __str__\n</code></pre> <p>Type annotations bij override</p> <p>Gebruik bij een override dezelfde type annotations als de parent methode. Dit houdt je code consistent en voorkomt fouten.</p>"},{"location":"week2/oop-deel3.html#inheritance-met-dataclasses","title":"Inheritance met dataclasses","text":"<p>Dataclasses maken inheritance nog eenvoudiger - je hoeft geen <code>super().__init__()</code> te gebruiken:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n@dataclass\nclass FysiekProduct(Product):\n    gewicht: float = 0.5  # Nieuw attribuut\n\n    def bereken_verzendkosten(self) -&gt; float:\n        if self.gewicht &lt;= 1.0:\n            return 3.95\n        elif self.gewicht &lt;= 5.0:\n            return 6.95\n        else:\n            return 9.95\n\n# Gebruik\nlaptop = FysiekProduct(\"Gaming Laptop\", 1299.99, 5, gewicht=2.5)\nprint(laptop)\n# FysiekProduct(naam='Gaming Laptop', prijs=1299.99, voorraad=5, gewicht=2.5)\n</code></pre> <p>Parent attributen eerst</p> <p>Bij dataclass inheritance komen parent attributen automatisch eerst. Child attributen komen daarna. Je hoeft niets extra's te doen.</p>"},{"location":"week2/oop-deel3.html#meerdere-niveaus-inheritance","title":"Meerdere niveaus inheritance","text":"<p>Je kunt ook van een child class erven (inheritance hierarchie):</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n@dataclass\nclass FysiekProduct(Product):\n    gewicht: float = 0.5\n\n@dataclass\nclass Boek(FysiekProduct):\n    auteur: str = \"\"\n    isbn: str = \"\"\n\n    def __str__(self) -&gt; str:\n        return f\"{self.naam} door {self.auteur} (ISBN: {self.isbn})\"\n\n# Boek erft van FysiekProduct, die erft van Product\npython_boek = Boek(\n    naam=\"Python Crash Course\",\n    prijs=34.95,\n    voorraad=8,\n    gewicht=0.6,\n    auteur=\"Eric Matthes\",\n    isbn=\"978-1593279288\"\n)\n\nprint(python_boek)\n# Python Crash Course door Eric Matthes (ISBN: 978-1593279288)\n</code></pre> <p>Inheritance hierarchie</p> <p><code>Boek</code> \u2192 <code>FysiekProduct</code> \u2192 <code>Product</code> Een <code>Boek</code> heeft toegang tot alle attributen en methoden van zowel <code>FysiekProduct</code> als <code>Product</code>.</p>"},{"location":"week2/oop-deel3.html#preview-sqlalchemy-modellen","title":"Preview: SQLAlchemy modellen","text":"<p>Dit is waarom je inheritance leert - straks in week 6 ga je database modellen maken:</p> <pre><code>from flask_sqlalchemy import SQLAlchemy\nfrom sqlalchemy.orm import Mapped, mapped_column\nfrom sqlalchemy import String\n\ndb = SQLAlchemy()\n\nclass User(db.Model):  # Erft van db.Model!\n    __tablename__ = 'users'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    username: Mapped[str] = mapped_column(String(80))\n    email: Mapped[str] = mapped_column(String(120))\n\nclass Product(db.Model):  # Erft van db.Model!\n    __tablename__ = 'products'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str] = mapped_column(String(100))\n    prijs: Mapped[float]\n</code></pre> <p>Door te erven van <code>db.Model</code> krijgen je klassen automatisch alle database functionaliteit: opslaan, opvragen, verwijderen, etc.</p> <p>Waarom OOP voor SQLAlchemy?</p> <p>SQLAlchemy gebruikt OOP omdat het perfect past bij database structuur: - Elke klasse = een database tabel - Elk object = een rij in de tabel - Inheritance geeft je de database functionaliteit</p> <p>SQLAlchemy vertaalt je Python code naar SQL. In week 3 schrijf je die SQL zelf - dat laat zien wat er achter de schermen gebeurt.</p>"},{"location":"week2/oop-deel3.html#praktijkvoorbeeld-producttypes","title":"Praktijkvoorbeeld: Producttypes","text":"<p>Hier een compleet voorbeeld met verschillende producttypes:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    \"\"\"Basis product klasse.\"\"\"\n    naam: str\n    prijs: float\n    voorraad: int = 0\n    beschrijving: str | None = None\n\n    def verkoop(self, aantal: int) -&gt; bool:\n        \"\"\"Verkoop items. Geeft True terug bij succes.\"\"\"\n        if self.voorraad &gt;= aantal:\n            self.voorraad -= aantal\n            return True\n        return False\n\n    def voorraad_waarde(self) -&gt; float:\n        \"\"\"Bereken totale waarde van voorraad.\"\"\"\n        return self.prijs * self.voorraad\n\n@dataclass\nclass FysiekProduct(Product):\n    \"\"\"Product dat fysiek verzonden moet worden.\"\"\"\n    gewicht: float = 0.5\n\n    def bereken_verzendkosten(self) -&gt; float:\n        \"\"\"Bereken verzendkosten op basis van gewicht.\"\"\"\n        if self.gewicht &lt;= 1.0:\n            return 3.95\n        elif self.gewicht &lt;= 5.0:\n            return 6.95\n        else:\n            return 9.95\n\n@dataclass\nclass DigitaalProduct(Product):\n    \"\"\"Product dat digitaal geleverd wordt.\"\"\"\n    bestandsgrootte: float = 0.0  # MB\n    download_link: str = \"\"\n    voorraad: int = 999  # Digitale producten zijn bijna onbeperkt\n\n    def download(self) -&gt; dict:\n        \"\"\"Simuleer download. Geeft download info terug.\"\"\"\n        if self.voorraad &gt; 0:\n            self.voorraad -= 1\n            return {\n                \"product\": self.naam,\n                \"link\": self.download_link,\n                \"grootte_mb\": self.bestandsgrootte\n            }\n        return {\"error\": \"Niet beschikbaar\"}\n\n# Test\nlaptop = FysiekProduct(\"Gaming Laptop\", 1299.99, 5, gewicht=2.5)\ngame = DigitaalProduct(\n    \"Cyberpunk 2077\", 59.99,\n    bestandsgrootte=70000.0,\n    download_link=\"https://gog.com/download/cyberpunk\"\n)\n\nprint(f\"Laptop verzendkosten: \u20ac{laptop.bereken_verzendkosten():.2f}\")\ninfo = game.download()\nprint(f\"Download: {info['product']} ({info['grootte_mb']} MB)\")\n</code></pre>"},{"location":"week2/oop-deel3.html#checklist","title":"Checklist","text":"<p>Controleer of je het volgende beheerst:</p> <ul> <li> Begrijpen wanneer je inheritance gebruikt (is-een relatie)</li> <li> <code>super().__init__()</code> correct gebruiken in reguliere klassen</li> <li> Inheritance met dataclasses (automatische parent attributen)</li> <li> Methoden overriden met dezelfde signature</li> <li> Meerdere niveaus inheritance (Boek \u2192 FysiekProduct \u2192 Product)</li> <li> Type annotations bij inherited en overridden methoden</li> <li> Begrijpen waarom SQLAlchemy inheritance gebruikt</li> </ul>"},{"location":"week2/oop-deel3.html#samenvatting","title":"Samenvatting","text":"<p>In dit deel heb je geleerd:</p> <ul> <li>Inheritance: Child class neemt eigenschappen over van parent class</li> <li><code>super()</code>: Roept parent class aan, vooral in <code>__init__()</code></li> <li>Overriding: Child kan parent methoden vervangen</li> <li>Dataclass inheritance: Nog eenvoudiger dan reguliere klassen</li> <li>Hierarchie: Meerdere niveaus inheritance mogelijk</li> <li>SQLAlchemy preview: Database modellen erven van <code>db.Model</code></li> </ul> <p>Volgende stap: In deel 4 leer je over compositie - objecten die andere objecten bevatten. Dit is de basis voor foreign keys in databases.</p> <p>Oefening: Maak Oefening 3 om inheritance te oefenen.</p>"},{"location":"week2/oop-deel4.html","title":"OOP Python \u2013 Objecten &amp; Relaties","text":""},{"location":"week2/oop-deel4.html#oop-python-objecten-relaties","title":"OOP Python \u2013 Objecten &amp; Relaties","text":"<p>In dit deel leer je hoe objecten andere objecten kunnen bevatten (compositie). Dit is essentieel voor het werken met databases, waar tabellen aan elkaar gereleerd zijn via foreign keys.</p>"},{"location":"week2/oop-deel4.html#wat-is-compositie","title":"Wat is compositie?","text":"<p>Compositie betekent dat een object andere objecten bevat. Dit is een \"heeft een\" relatie:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Customer:\n    naam: str\n    email: str\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n\n@dataclass\nclass Order:\n    klant: Customer  # Order HEEFT EEN klant\n    product: Product  # Order HEEFT EEN product\n\n# Gebruik\njan = Customer(\"Jan Jansen\", \"jan@email.nl\")\nlaptop = Product(\"Laptop\", 799.99)\norder = Order(jan, laptop)\n\nprint(f\"{order.klant.naam} bestelde {order.product.naam}\")\n# Jan Jansen bestelde Laptop\n</code></pre> <p>Compositie vs Inheritance</p> <p>Inheritance (is-een): Een laptop is een product Compositie (heeft-een): Een order heeft een klant In databases: compositie = foreign keys!</p>"},{"location":"week2/oop-deel4.html#waarom-compositie","title":"Waarom compositie?","text":"<p>In webapplicaties heb je vaak objecten die aan elkaar gerelateerd zijn:</p> <ul> <li>Een order heeft een klant</li> <li>Een order heeft producten</li> <li>Een blogpost heeft een auteur</li> <li>Een comment heeft een user en een post</li> </ul> <p>Dit modelleer je met compositie in je code, en met foreign keys in je database.</p>"},{"location":"week2/oop-deel4.html#objects-in-lists","title":"Objects in lists","text":"<p>Een object kan een lijst met andere objecten bevatten:</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n\n@dataclass\nclass Cart:\n    klant_naam: str\n    items: list[Product] = field(default_factory=list)\n\n    def voeg_toe(self, product: Product) -&gt; None:\n        \"\"\"Voeg product toe aan winkelcart.\"\"\"\n        self.items.append(product)\n\n    def bereken_totaal(self) -&gt; float:\n        \"\"\"Bereken totaalprijs van alle producten.\"\"\"\n        return sum(product.prijs for product in self.items)\n\n# Gebruik\ncart = Cart(\"Jan Jansen\")\ncart.voeg_toe(Product(\"Laptop\", 799.99))\ncart.voeg_toe(Product(\"Muis\", 25.50))\n\nprint(f\"Totaal: \u20ac{cart.bereken_totaal():.2f}\")\n# Totaal: \u20ac825.49\n</code></pre> <p>field(default_factory=list)</p> <p>Voor een lijst als attribuut moet je altijd <code>field(default_factory=list)</code> gebruiken, anders delen alle instanties dezelfde lijst!</p>"},{"location":"week2/oop-deel4.html#return-dicts-voor-gestructureerde-data","title":"Return dicts voor gestructureerde data","text":"<p>In webapplicaties wil je vaak gestructureerde data teruggeven aan templates:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Customer:\n    naam: str\n    email: str\n    korting_percentage: float = 0.0\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        \"\"\"Bereken kortingsbedrag.\"\"\"\n        return bedrag * (self.korting_percentage / 100)\n\n@dataclass\nclass Order:\n    klant: Customer\n    subtotaal: float\n    verzendkosten: float = 5.95\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"\n        Bereken totaal en geef gestructureerde data terug.\n\n        Returns:\n            dict met keys: subtotaal, korting, verzendkosten, totaal\n        \"\"\"\n        korting = self.klant.bereken_korting(self.subtotaal)\n\n        # Gratis verzending boven \u20ac50 (na korting)\n        verzendkosten = self.verzendkosten\n        if (self.subtotaal - korting) &gt;= 50:\n            verzendkosten = 0.0\n\n        totaal = self.subtotaal - korting + verzendkosten\n\n        return {\n            \"subtotaal\": self.subtotaal,\n            \"korting\": korting,\n            \"verzendkosten\": verzendkosten,\n            \"totaal\": totaal\n        }\n\n# Gebruik\njan = Customer(\"Jan Jansen\", \"jan@email.nl\", 10.0)\norder = Order(jan, subtotaal=125.50)\n\ntotaal_info = order.bereken_totaal()\nprint(f\"Subtotaal: \u20ac{totaal_info['subtotaal']:.2f}\")\nprint(f\"Korting: -\u20ac{totaal_info['korting']:.2f}\")\nprint(f\"Verzendkosten: \u20ac{totaal_info['verzendkosten']:.2f}\")\nprint(f\"Totaal: \u20ac{totaal_info['totaal']:.2f}\")\n</code></pre> <p>Waarom dicts teruggeven?</p> <p>Dicts zijn handig voor templates. In Flask kun je ze doorgeven aan Jinja2 templates: </p><pre><code>@app.route('/order/&lt;int:id&gt;')\ndef toon_order(id):\n    order = db.session.get(Order, id)\n    totaal_info = order.bereken_totaal()\n    return render_template('order.html',\n                         order=order,\n                         totaal=totaal_info)\n</code></pre> In het template (<code>order.html</code>) kun je dan de dict gebruiken: <pre><code>&lt;p&gt;Subtotaal: \u20ac{{ totaal.subtotaal }}&lt;/p&gt;\n&lt;p&gt;Korting: -\u20ac{{ totaal.korting }}&lt;/p&gt;\n&lt;p&gt;Totaal: \u20ac{{ totaal.totaal }}&lt;/p&gt;\n</code></pre><p></p>"},{"location":"week2/oop-deel4.html#complexe-compositie-complete-order","title":"Complexe compositie: Complete order","text":"<p>Hier een realistisch voorbeeld met meerdere gecomponeerde objecten:</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Customer:\n    naam: str\n    email: str\n    korting_percentage: float = 0.0\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        return bedrag * (self.korting_percentage / 100)\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n    voorraad: int = 0\n\n@dataclass\nclass PaymentMethod:\n    type: str  # \"iDEAL\", \"Creditcard\", \"PayPal\"\n    transactiekosten: float = 0.0\n\n    def bereken_totaal_met_kosten(self, bedrag: float) -&gt; float:\n        return bedrag + self.transactiekosten\n\n@dataclass\nclass ShippingMethod:\n    type: str  # \"Standaard\", \"Express\", \"Afhalen\"\n    kosten: float\n    levertijd: str\n\n@dataclass\nclass DiscountCode:\n    code: str\n    percentage: float\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        return bedrag * (self.percentage / 100)\n\n@dataclass\nclass Order:\n    \"\"\"Complete order met alle relaties.\"\"\"\n    klant: Customer\n    producten: list[Product] = field(default_factory=list)\n    betaalmethode: PaymentMethod | None = None\n    verzendmethode: ShippingMethod | None = None\n    kortingscode: DiscountCode | None = None\n\n    def bereken_subtotaal(self) -&gt; float:\n        \"\"\"Som van alle productprijzen.\"\"\"\n        return sum(p.prijs for p in self.producten)\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"\n        Bereken complete totaal met alle kortingen en kosten.\n\n        Returns:\n            dict met alle bedragen - handig voor templates\n        \"\"\"\n        subtotaal = self.bereken_subtotaal()\n\n        # DiscountCode\n        korting = 0.0\n        if self.kortingscode:\n            korting = self.kortingscode.bereken_korting(subtotaal)\n\n        # Verzendkosten (gratis boven \u20ac50 na korting)\n        verzendkosten = 0.0\n        if self.verzendmethode:\n            verzendkosten = self.verzendmethode.kosten\n            if (subtotaal - korting) &gt;= 50:\n                verzendkosten = 0.0\n\n        # Transactiekosten\n        tussentotaal = subtotaal - korting + verzendkosten\n        transactiekosten = 0.0\n        if self.betaalmethode:\n            transactiekosten = self.betaalmethode.transactiekosten\n\n        totaal = tussentotaal + transactiekosten\n\n        return {\n            \"subtotaal\": subtotaal,\n            \"korting\": korting,\n            \"verzendkosten\": verzendkosten,\n            \"transactiekosten\": transactiekosten,\n            \"totaal\": totaal\n        }\n\n# Test complete systeem\nlaptop = Product(\"Gaming Laptop\", 799.99, 5)\nmuis = Product(\"Gaming Muis\", 89.99, 20)\n\njan = Customer(\"Jan Jansen\", \"jan@email.nl\", 5.0)\n\norder = Order(\n    klant=jan,\n    producten=[laptop, muis],\n    betaalmethode=PaymentMethod(\"iDEAL\", transactiekosten=0.0),\n    verzendmethode=ShippingMethod(\"Standaard\", 5.95, \"2-3 werkdagen\"),\n    kortingscode=DiscountCode(\"WELKOM10\", 10.0)\n)\n\ntotaal_info = order.bereken_totaal()\n\nprint(f\"Customer: {order.klant.naam}\")\nprint(f\"Producten: {len(order.producten)}x\")\nprint(f\"\\nSubtotaal: \u20ac{totaal_info['subtotaal']:.2f}\")\nprint(f\"Korting: -\u20ac{totaal_info['korting']:.2f}\")\nprint(f\"Verzendkosten: \u20ac{totaal_info['verzendkosten']:.2f}\")\nprint(f\"Transactiekosten: \u20ac{totaal_info['transactiekosten']:.2f}\")\nprint(f\"TOTAAL: \u20ac{totaal_info['totaal']:.2f}\")\n</code></pre>"},{"location":"week2/oop-deel4.html#preview-database-relaties-foreign-keys","title":"Preview: Database relaties (Foreign Keys)","text":"<p>Dit is waarom je compositie leert - in databases werk je zo met gerelateerde tabellen:</p> <pre><code>from flask_sqlalchemy import SQLAlchemy\nfrom sqlalchemy.orm import Mapped, mapped_column, relationship\nfrom sqlalchemy import String, ForeignKey\n\ndb = SQLAlchemy()\n\nclass User(db.Model):\n    __tablename__ = 'users'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    username: Mapped[str] = mapped_column(String(80))\n    email: Mapped[str] = mapped_column(String(120))\n\n    # Relationship\n    posts: Mapped[list['BlogPost']] = relationship(back_populates='author')\n\nclass BlogPost(db.Model):\n    __tablename__ = 'posts'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    title: Mapped[str] = mapped_column(String(200))\n    content: Mapped[str]\n\n    # Foreign key: elke post HEEFT EEN auteur\n    author_id: Mapped[int] = mapped_column(ForeignKey('users.id'))\n\n    # Relationship: geeft toegang tot het User object\n    author: Mapped['User'] = relationship(back_populates='posts')\n\n# Gebruik (week 6!)\nuser = db.session.get(User, 1)\npost = BlogPost(title=\"Mijn blog\", content=\"...\", author=user)\ndb.session.add(post)\ndb.session.commit()\n\n# Compositie in actie:\nprint(f\"{post.title} door {post.author.username}\")\n</code></pre> <p>OOP \u2192 Database mapping</p> <ul> <li>Compositie in Python \u2192 Foreign key in database</li> <li><code>order.klant</code> \u2192 <code>orderen.klant_id</code> (foreign key naar <code>klanten.id</code>)</li> <li>Objecten bevatten objecten \u2192 Tabellen verwijzen naar tabellen</li> </ul>"},{"location":"week2/oop-deel4.html#gestructureerde-data-voor-templates","title":"Gestructureerde data voor templates","text":"<p>Voor webapplicaties wil je vaak je data in een gestructureerde vorm aan templates doorgeven:</p> <pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Customer:\n    naam: str\n    email: str\n\n@dataclass\nclass Product:\n    naam: str\n    prijs: float\n\n@dataclass\nclass Order:\n    klant: Customer\n    producten: list[Product]\n\n    def bereken_overzicht(self) -&gt; dict:\n        \"\"\"Maak een overzicht voor de template.\"\"\"\n        subtotaal = sum(p.prijs for p in self.producten)\n        return {\n            \"klant_naam\": self.klant.naam,\n            \"aantal_producten\": len(self.producten),\n            \"subtotaal\": subtotaal,\n            \"btw\": subtotaal * 0.21,\n            \"totaal\": subtotaal * 1.21\n        }\n\n# Test\njan = Customer(\"Jan Jansen\", \"jan@email.nl\")\norder = Order(\n    klant=jan,\n    producten=[\n        Product(\"Laptop\", 799.99),\n        Product(\"Muis\", 25.50)\n    ]\n)\n\noverzicht = order.bereken_overzicht()\nprint(overzicht)\n</code></pre> <p>Output:</p> <pre><code>{\n    'klant_naam': 'Jan Jansen',\n    'aantal_producten': 2,\n    'subtotaal': 825.49,\n    'btw': 173.35,\n    'totaal': 998.84\n}\n</code></pre> <p>Dataclass \u2192 dict voor debugging</p> <p>Je kunt <code>asdict()</code> gebruiken om een dataclass automatisch naar een dict te converteren. Dit is vooral handig voor debugging: </p><pre><code>from dataclasses import asdict\nklant_dict = asdict(jan)\nprint(klant_dict)\n# {'naam': 'Jan Jansen', 'email': 'jan@email.nl'}\n</code></pre> Let op: in productiecode maak je meestal zelf specifieke dicts met alleen de data die je template nodig heeft.<p></p>"},{"location":"week2/oop-deel4.html#praktijk-flask-routes-met-templates","title":"Praktijk: Flask routes met templates","text":"<p>Hier zie je hoe dit in een echte Flask applicatie werkt:</p> <pre><code>from flask import Flask, render_template\nfrom dataclasses import dataclass\n\napp = Flask(__name__)\n\n@dataclass\nclass Product:\n    id: int\n    naam: str\n    prijs: float\n\n# In-memory \"database\" (later: echte database!)\nproducten = [\n    Product(1, \"Laptop\", 799.99),\n    Product(2, \"Muis\", 25.50),\n    Product(3, \"Toetsenbord\", 89.99)\n]\n\n@app.route('/producten')\ndef toon_producten():\n    \"\"\"Toon alle producten in een template.\"\"\"\n    return render_template('producten.html', producten=producten)\n\n@app.route('/product/&lt;int:product_id&gt;')\ndef toon_product(product_id):\n    \"\"\"Toon \u00e9\u00e9n product.\"\"\"\n    product = next((p for p in producten if p.id == product_id), None)\n\n    if product:\n        return render_template('product.html', product=product)\n    else:\n        return \"Product niet gevonden\", 404\n</code></pre> <p>In je template (<code>producten.html</code>) kun je dan de objecten gebruiken:</p> <pre><code>&lt;h1&gt;Producten&lt;/h1&gt;\n&lt;ul&gt;\n{% for product in producten %}\n    &lt;li&gt;{{ product.naam }} - \u20ac{{ product.prijs }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre> <p>Return values \u2192 Templates</p> <p>Zie je waarom we altijd return values gebruiken en niet print? In een Flask route moet je data doorgeven aan je template, niet naar de console printen.</p>"},{"location":"week2/oop-deel4.html#scheiding-van-verantwoordelijkheden-separation-of-concerns","title":"Scheiding van verantwoordelijkheden (separation of concerns)","text":"<p>Goede code scheidt verantwoordelijkheden:</p> <p>Bedrijfslogica (modellen):</p> <pre><code>@dataclass\nclass Order:\n    \"\"\"Bevat bedrijfslogica en data.\"\"\"\n    klant: Customer\n    producten: list[Product]\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"Bereken totaal - RETURN data.\"\"\"\n        return {\"totaal\": sum(p.prijs for p in self.producten)}\n</code></pre> <p>Presentatielaag (routes):</p> <pre><code>@app.route('/order/&lt;int:id&gt;')\ndef toon_order(id):\n    \"\"\"Haalt data op en presenteert het.\"\"\"\n    order = get_order(id)  # Haal op\n    totaal_info = order.bereken_totaal()  # Bereken\n\n    # Presenteer in template\n    return render_template('order.html',\n                         order=order,\n                         totaal=totaal_info)\n</code></pre> <p>Waarom scheiden?</p> <ul> <li>De bedrijfslogica is herbruikbaar (webapplicatie, CLI, tests)</li> <li>Makkelijker te testen (geen Flask nodig voor tests)</li> <li>Duidelijke verantwoordelijkheden</li> </ul>"},{"location":"week2/oop-deel4.html#checklist","title":"Checklist","text":"<p>Controleer of je het volgende beheerst:</p> <ul> <li> Compositie: objecten die andere objecten bevatten</li> <li> <code>list[Object]</code> met <code>field(default_factory=list)</code></li> <li> <code>X | None</code> voor attributen die None kunnen zijn</li> <li> Methoden die dicts teruggeven voor templates</li> <li> Begrijpen: compositie in code = foreign keys in database</li> <li> Scheiding van verantwoordelijkheden: bedrijfslogica vs presentatie</li> </ul>"},{"location":"week2/oop-deel4.html#samenvatting","title":"Samenvatting","text":"<p>In dit deel heb je geleerd:</p> <ul> <li>Compositie: Objecten die andere objecten bevatten (heeft-een relatie)</li> <li>Type hints: <code>list[Product]</code>, <code>Customer | None</code></li> <li>Return dicts: Gestructureerde data voor templates</li> <li>Database preview: Compositie = foreign keys</li> <li>Scheiding van verantwoordelijkheden: Bedrijfslogica apart van presentatie</li> </ul> <p>Je kunt nu:</p> <ul> <li>Complexe datastructuren modelleren met objecten</li> <li>Web-ready code schrijven die data aan templates doorgeeft</li> <li>Begrijpen hoe SQLAlchemy relaties werkt (foreign keys)</li> <li>Code schrijven die geschikt is voor Flask applicaties</li> </ul> <p>Volgende stap: Later ga je dit toepassen met SQLAlchemy. Je modellen krijgen foreign keys en relationships om tabellen aan elkaar te koppelen.</p> <p>Oefening: Maak Oefening 4 om compositie te oefenen met een compleet orderssysteem.</p>"},{"location":"week2/oefeningen/oop-oefening1.html","title":"OOP Python \u2013 Oefening 1","text":""},{"location":"week2/oefeningen/oop-oefening1.html#oop-python-oefening-1","title":"OOP Python \u2013 Oefening 1","text":"<p>In deze oefening ga je een <code>Klant</code> klasse maken voor de webshop. Je past toe wat je in deel 1 hebt geleerd: klassen, type annotations, methoden en return values.</p>"},{"location":"week2/oefeningen/oop-oefening1.html#opdracht","title":"Opdracht","text":"<p>Maak een bestand <code>klant.py</code> met een <code>Klant</code> klasse die het volgende kan:</p>"},{"location":"week2/oefeningen/oop-oefening1.html#a-basis-klasse-opzetten","title":"a. Basis klasse opzetten","text":"<p>De klasse moet deze attributen hebben:</p> <ul> <li><code>naam</code> (str): De naam van de klant</li> <li><code>email</code> (str): Het emailadres</li> <li><code>korting_percentage</code> (float): Het kortingspercentage (default: 0.0)</li> </ul> <p>Gebruik type annotations bij alle attributen!</p>"},{"location":"week2/oefeningen/oop-oefening1.html#b-methoden-implementeren","title":"b. Methoden implementeren","text":"<p>Voeg de volgende methoden toe:</p> <ol> <li><code>bereken_korting(bedrag: float) -&gt; float</code></li> <li>Berekent de korting op een bepaald bedrag</li> <li> <p>Geeft het kortingsbedrag terug</p> </li> <li> <p><code>bereken_prijs_na_korting(bedrag: float) -&gt; float</code></p> </li> <li>Berekent de prijs na aftrek van korting</li> <li> <p>Geeft de uiteindelijke prijs terug</p> </li> <li> <p><code>__str__() -&gt; str</code></p> </li> <li>Geeft een nette string representatie van de klant</li> <li>Formaat: <code>\"Klant: Jan Jansen (jan@email.nl) - 10% korting\"</code></li> </ol> <p>Return values, geen prints</p> <p>Je methoden moeten waarden teruggeven, niet printen. De aanroepende code beslist wat er met de waarde gebeurt.</p>"},{"location":"week2/oefeningen/oop-oefening1.html#c-testen","title":"c. Testen","text":"<p>Test je klasse met deze code:</p> <pre><code># Maak klanten aan\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", 10.0)\nmarie = Klant(\"Marie Peters\", \"marie@email.nl\")  # Geen korting\n\n# Bereken prijzen\nprijs = 100.0\n\nprint(jan)\nprint(f\"Korting op \u20ac{prijs:.2f}: \u20ac{jan.bereken_korting(prijs):.2f}\")\nprint(f\"Prijs na korting: \u20ac{jan.bereken_prijs_na_korting(prijs):.2f}\")\nprint()\n\nprint(marie)\nprint(f\"Korting op \u20ac{prijs:.2f}: \u20ac{marie.bereken_korting(prijs):.2f}\")\nprint(f\"Prijs na korting: \u20ac{marie.bereken_prijs_na_korting(prijs):.2f}\")\n</code></pre> <p>Verwachte output:</p> <pre><code>Klant: Jan Jansen (jan@email.nl) - 10.0% korting\nKorting op \u20ac100.00: \u20ac10.00\nPrijs na korting: \u20ac90.00\n\nKlant: Marie Peters (marie@email.nl) - 0.0% korting\nKorting op \u20ac100.00: \u20ac0.00\nPrijs na korting: \u20ac100.00\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening1.html#extra-uitdaging-optioneel","title":"Extra uitdaging (optioneel)","text":"<p>Voeg een methode <code>verhoog_korting(extra_percentage: float) -&gt; None</code> toe die het kortingspercentage verhoogt. Beperk de maximale korting tot 50%.</p> <pre><code>jan.verhoog_korting(5.0)  # Nu 15% korting\nprint(jan)\n# Output: Klant: Jan Jansen (jan@email.nl) - 15.0% korting\n\njan.verhoog_korting(40.0)  # Zou 55% worden, maar max is 50%\nprint(jan)\n# Output: Klant: Jan Jansen (jan@email.nl) - 50.0% korting\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening1.html#checklist","title":"Checklist","text":"<p>Controleer voordat je klaar bent:</p> <ul> <li> Type annotations bij alle parameters en return types</li> <li> Methoden geven waarden terug (return), geen print statements</li> <li> <code>__str__</code> methode ge\u00efmplementeerd</li> <li> Default waarde voor <code>korting_percentage</code></li> <li> Code werkt met de testcode</li> <li> Docstrings bij alle methoden</li> </ul>"},{"location":"week2/oefeningen/oop-oefening1.html#tips","title":"Tips","text":"<ul> <li>Gebruik <code>self.attribuut</code> om attributen van het object te benaderen</li> <li>Type annotatie voor return value: <code>-&gt; float</code>, <code>-&gt; str</code>, of <code>-&gt; None</code></li> <li>F-strings zijn handig voor de <code>__str__</code> methode: <code>f\"Tekst {variabele}\"</code></li> <li>Een percentage van 10% bereken je als: <code>bedrag * (percentage / 100)</code></li> </ul>"},{"location":"week2/oefeningen/oop-oefening2.html","title":"OOP Python \u2013 Oefening 2","text":""},{"location":"week2/oefeningen/oop-oefening2.html#oop-python-oefening-2","title":"OOP Python \u2013 Oefening 2","text":"<p>In deze oefening ga je werken met dataclasses en geavanceerde type hints. Je zet een reguliere klasse om naar een dataclass en maakt een winkelwagen systeem.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#deel-a-product-omzetten-naar-dataclass","title":"Deel a: Product omzetten naar dataclass","text":"<p>Je hebt in oefening 1 waarschijnlijk een reguliere <code>Product</code> klasse gemaakt. Nu ga je deze omzetten naar een dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#opdracht-a","title":"Opdracht a","text":"<p>Maak een bestand <code>product.py</code> met een <code>Product</code> dataclass:</p> <p>Attributen:</p> <ul> <li><code>naam</code> (str): Productnaam</li> <li><code>prijs</code> (float): Prijs in euro's</li> <li><code>voorraad</code> (int): Aantal op voorraad (default: 0)</li> <li><code>beschrijving</code> (str | None): Een optionele beschrijving (default: None)</li> </ul> <p>Methoden:</p> <ul> <li><code>verkoop(aantal: int) -&gt; bool</code>: Verkoop items, geeft True bij succes</li> <li><code>voorraad_waarde() -&gt; float</code>: Bereken totale waarde van voorraad</li> </ul>"},{"location":"week2/oefeningen/oop-oefening2.html#startcode","title":"Startcode","text":"<pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Product:\n    # Jouw code hier\n    pass\n</code></pre> <p>str | None</p> <p><code>beschrijving: str | None = None</code> betekent dat beschrijving een string OF None kan zijn.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#test-je-product","title":"Test je Product","text":"<pre><code>laptop = Product(\"Laptop\", 799.99, 5, \"Gaming laptop met RGB\")\nmuis = Product(\"Muis\", 25.50, 20)  # Geen beschrijving\n\nprint(laptop)\nprint(f\"Voorraadwaarde: \u20ac{laptop.voorraad_waarde():.2f}\")\n\nlaptop.verkoop(2)\n\nprint(laptop)\nprint(f\"Voorraadwaarde: \u20ac{laptop.voorraad_waarde():.2f}\")\n</code></pre> <p>Verwachte output:</p> <pre><code>Product(naam='Laptop', prijs=799.99, voorraad=5, beschrijving='Gaming laptop met RGB')\nVoorraadwaarde: \u20ac3999.95\nProduct(naam='Laptop', prijs=799.99, voorraad=3, beschrijving='Gaming laptop met RGB')\nVoorraadwaarde: \u20ac2399.97\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening2.html#deel-b-winkelwagen-met-list-type-hint","title":"Deel b: Winkelwagen met list type hint","text":"<p>Maak een bestand <code>winkelwagen.py</code> met een <code>Winkelwagen</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening2.html#opdracht-b","title":"Opdracht b","text":"<p>Attributen:</p> <ul> <li><code>klant_naam</code> (str): Naam van de klant</li> <li><code>items</code> (list[Product]): Lijst met producten</li> </ul> <p>Methoden:</p> <ul> <li><code>voeg_toe(product: Product) -&gt; None</code>: Voeg product toe</li> <li><code>verwijder(product: Product) -&gt; bool</code>: Verwijder product, geeft True als gelukt</li> <li><code>bereken_totaal() -&gt; float</code>: Bereken totaalprijs</li> <li><code>aantal_items() -&gt; int</code>: Geef aantal items terug</li> </ul> <p>Mutable defaults: gebruik field()</p> <p>Voor lists als default waarde moet je <code>field(default_factory=list)</code> gebruiken!</p> <pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Winkelwagen:\n    klant_naam: str\n    items: list[Product] = field(default_factory=list)\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening2.html#test-je-winkelwagen","title":"Test je Winkelwagen","text":"<pre><code>from product import Product\nfrom winkelwagen import Winkelwagen\n\n# Maak producten\nlaptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Muis\", 25.50, 20)\ntoetsenbord = Product(\"Toetsenbord\", 89.99, 15)\n\n# Maak winkelwagen\nwagen = Winkelwagen(\"Jan Jansen\")\nprint(f\"Aantal items: {wagen.aantal_items()}\")  # Should be 0\n\n# Voeg producten toe\nwagen.voeg_toe(laptop)\nwagen.voeg_toe(muis)\nwagen.voeg_toe(toetsenbord)\n\nprint(f\"Aantal items: {wagen.aantal_items()}\")\nprint(f\"Totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n\n# Verwijder item\nif wagen.verwijder(muis):\n    print(\"Muis verwijderd\")\n\nprint(f\"Nieuw totaal: \u20ac{wagen.bereken_totaal():.2f}\")\n</code></pre> <p>Verwachte output:</p> <pre><code>Aantal items: 0\nAantal items: 3\nTotaal: \u20ac915.48\nMuis verwijderd\nNieuw totaal: \u20ac889.98\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening2.html#checklist","title":"Checklist","text":"<p>Controleer voordat je klaar bent:</p> <ul> <li> <code>Product</code> gebruikt <code>@dataclass</code> decorator (de <code>@</code>-aanduiding boven de klasse)</li> <li> <code>str | None</code> gebruikt voor beschrijving</li> <li> <code>Winkelwagen</code> gebruikt <code>list[Product]</code> type hint</li> <li> <code>field(default_factory=list)</code> gebruikt voor items</li> <li> Alle methoden hebben return type annotations</li> <li> Code werkt met de testcode</li> </ul>"},{"location":"week2/oefeningen/oop-oefening2.html#wat-je-geleerd-hebt","title":"Wat je geleerd hebt","text":"<ul> <li><code>@dataclass</code> vermindert herhalende code (boilerplate)</li> <li><code>X | None</code> voor waarden die None kunnen zijn</li> <li><code>list[Type]</code> voor typed lists</li> <li><code>field(default_factory=list)</code> voor mutable defaults</li> </ul> <p>Tip: Deze patterns zie je later terug in SQLAlchemy modellen!</p>"},{"location":"week2/oefeningen/oop-oefening3.html","title":"OOP Python \u2013 Oefening 3","text":""},{"location":"week2/oefeningen/oop-oefening3.html#oop-python-oefening-3","title":"OOP Python \u2013 Oefening 3","text":"<p>In deze oefening pas je inheritance (overerving) toe. Je maakt subklassen van <code>Product</code> voor verschillende producttypen, wat je voorbereidt op het werken met database modellen die erven van <code>db.Model</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#achtergrond","title":"Achtergrond","text":"<p>In een webshop heb je verschillende soorten producten:</p> <ul> <li>Fysieke producten: hebben gewicht en verzendkosten</li> <li>Digitale producten: hebben bestandsgrootte en geen verzending</li> </ul> <p>Dit is een perfect geval voor inheritance: beide zijn producten, maar met specifieke eigenschappen.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#deel-a-fysiekproduct","title":"Deel a: FysiekProduct","text":"<p>Maak een <code>FysiekProduct</code> klasse die erft van <code>Product</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#opdracht-a","title":"Opdracht a","text":"<p>Extra attributen:</p> <ul> <li><code>gewicht</code> (float): Gewicht in kg</li> </ul> <p>Extra methoden:</p> <ul> <li><code>bereken_verzendkosten() -&gt; float</code>: Bereken verzendkosten op basis van gewicht</li> <li>Tot 1 kg: \u20ac3.95</li> <li>Tot 5 kg: \u20ac6.95</li> <li>Meer dan 5 kg: \u20ac9.95</li> </ul>"},{"location":"week2/oefeningen/oop-oefening3.html#startcode-a","title":"Startcode a","text":"<pre><code>from dataclasses import dataclass\nfrom product import Product\n\n@dataclass\nclass FysiekProduct(Product):\n    gewicht: float = 0.5  # Default 0.5 kg\n\n    def bereken_verzendkosten(self) -&gt; float:\n        # Jouw code hier\n        pass\n</code></pre> <p>Werken met dataclass inheritance</p> <p>Bij dataclasses hoef je geen <code>super().__init__()</code> te gebruiken - de parent attributen worden automatisch overgenomen!</p>"},{"location":"week2/oefeningen/oop-oefening3.html#test-je-fysiekproduct","title":"Test je FysiekProduct","text":"<pre><code>boek = FysiekProduct(\n    naam=\"Python Crash Course\",\n    prijs=34.95,\n    voorraad=8,\n    gewicht=0.6\n)\n\nprint(boek)\nprint(f\"Verzendkosten: \u20ac{boek.bereken_verzendkosten():.2f}\")\n\nlaptop = FysiekProduct(\"Gaming Laptop\", 1299.99, 3, gewicht=2.5)\nprint(f\"Verzendkosten laptop: \u20ac{laptop.bereken_verzendkosten():.2f}\")\n</code></pre> <p>Verwachte output:</p> <pre><code>FysiekProduct(naam='Python Crash Course', prijs=34.95, voorraad=8, beschrijving=None, gewicht=0.6)\nVerzendkosten: \u20ac3.95\nVerzendkosten laptop: \u20ac6.95\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#deel-b-digitaalproduct","title":"Deel b: DigitaalProduct","text":"<p>Maak een <code>DigitaalProduct</code> klasse die erft van <code>Product</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#opdracht-b","title":"Opdracht b","text":"<p>Extra attributen:</p> <ul> <li><code>bestandsgrootte</code> (float): Grootte in MB</li> <li><code>download_link</code> (str): URL voor download</li> </ul> <p>Defaults:</p> <ul> <li><code>voorraad</code>: 999 (digitale producten zijn bijna onbeperkt beschikbaar)</li> </ul> <p>Extra methoden:</p> <ul> <li><code>download() -&gt; dict</code>: Simuleer een download</li> <li>Verminder voorraad met 1</li> <li>Geef een dict terug met info: <code>{\"product\": naam, \"link\": download_link, \"grootte_mb\": bestandsgrootte}</code></li> </ul>"},{"location":"week2/oefeningen/oop-oefening3.html#startcode-b","title":"Startcode b","text":"<pre><code>@dataclass\nclass DigitaalProduct(Product):\n    bestandsgrootte: float = 0.0  # MB\n    download_link: str = \"\"\n    voorraad: int = 999  # Override parent default\n\n    def download(self) -&gt; dict:\n        # Jouw code hier\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#test-je-digitaalproduct","title":"Test je DigitaalProduct","text":"<pre><code>photoshop = DigitaalProduct(\n    naam=\"Adobe Photoshop\",\n    prijs=29.99,\n    bestandsgrootte=2480.0,\n    download_link=\"https://adobe.com/download/ps\"\n)\n\nprint(photoshop)\ninfo = photoshop.download()\nprint(f\"Download info: {info}\")\nprint(f\"Voorraad na download: {photoshop.voorraad}\")\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#deel-c-subklasse-van-subklasse","title":"Deel c: Subklasse van subklasse","text":"<p>Maak een <code>Boek</code> klasse die erft van <code>FysiekProduct</code>.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#opdracht-c","title":"Opdracht c","text":"<p>Extra attributen:</p> <ul> <li><code>auteur</code> (str): Naam van de auteur</li> <li><code>isbn</code> (str): ISBN nummer</li> </ul> <p>Defaults:</p> <ul> <li><code>gewicht</code>: 0.5 kg (boeken zijn meestal licht)</li> </ul> <p>Override <code>__str__()</code>: Maak een custom string representatie die ook auteur en ISBN toont.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#startcode-c","title":"Startcode c","text":"<pre><code>@dataclass\nclass Boek(FysiekProduct):\n    auteur: str = \"\"\n    isbn: str = \"\"\n    gewicht: float = 0.5\n\n    def __str__(self) -&gt; str:\n        # Hint: gebruik f-string met alle relevante info\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#test-je-boek","title":"Test je Boek","text":"<pre><code>python_boek = Boek(\n    naam=\"Python Crash Course\",\n    prijs=34.95,\n    voorraad=8,\n    auteur=\"Eric Matthes\",\n    isbn=\"978-1593279288\"\n)\n\nprint(python_boek)\nprint(f\"Verzendkosten: \u20ac{python_boek.bereken_verzendkosten():.2f}\")\n\n# Test verkoop (inherited van Product)\npython_boek.verkoop(3)\nprint(f\"Voorraad na verkoop: {python_boek.voorraad}\")\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening3.html#extra-uitdaging-software-klasse-optioneel","title":"Extra uitdaging: Software klasse (optioneel)","text":"<p>Maak een <code>Software</code> klasse die erft van <code>DigitaalProduct</code> met extra attributen:</p> <ul> <li><code>versie</code> (str): Versienummer</li> <li><code>besturingssysteem</code> (str): \"Windows\", \"Mac\", \"Linux\", etc.</li> </ul> <p>Test door een instantie te maken en downloads te simuleren.</p>"},{"location":"week2/oefeningen/oop-oefening3.html#checklist","title":"Checklist","text":"<p>Controleer voordat je klaar bent:</p> <ul> <li> <code>FysiekProduct</code> erft van <code>Product</code></li> <li> <code>DigitaalProduct</code> erft van <code>Product</code></li> <li> <code>Boek</code> erft van <code>FysiekProduct</code></li> <li> Alle type annotations aanwezig</li> <li> <code>download()</code> geeft een dict terug (geen print)</li> <li> <code>bereken_verzendkosten()</code> werkt correct</li> <li> <code>__str__()</code> override in <code>Boek</code> klasse</li> <li> Code werkt met alle testcode</li> </ul>"},{"location":"week2/oefeningen/oop-oefening3.html#wat-je-geleerd-hebt","title":"Wat je geleerd hebt","text":"<ul> <li>Inheritance met dataclasses</li> <li>Override van default waarden in subklassen</li> <li>Override van methoden (<code>__str__</code>)</li> <li>Inheritance hierarchie (Boek \u2192 FysiekProduct \u2192 Product)</li> <li>Return dicts voor gestructureerde data</li> </ul> <p>Preview: Database modellen werken precies zo - je maakt klassen die erven van <code>db.Model</code>!</p>"},{"location":"week2/oefeningen/oop-oefening4.html","title":"OOP Python \u2013 Oefening 4","text":""},{"location":"week2/oefeningen/oop-oefening4.html#oop-python-oefening-4","title":"OOP Python \u2013 Oefening 4","text":"<p>In deze oefening werk je met compositie - objecten die andere objecten bevatten. Je bouwt een compleet bestellingssysteem dat je voorbereidt op het werken met database relaties (foreign keys).</p>"},{"location":"week2/oefeningen/oop-oefening4.html#achtergrond","title":"Achtergrond","text":"<p>Een bestelling in een webshop is samengesteld uit meerdere objecten:</p> <ul> <li>Een Klant (wie bestelt?)</li> <li>Een lijst met Producten (wat wordt besteld?)</li> <li>Een Betaalmethode (hoe betalen?) -Een Verzendmethode (hoe verzenden?)</li> <li>Optioneel: een Kortingscode</li> </ul> <p>Dit is compositie: de <code>Bestelling</code> heeft een klant, heeft producten, etc.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-a-betaalmethode","title":"Deel a: Betaalmethode","text":"<p>Maak een <code>Betaalmethode</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht-a","title":"Opdracht a","text":"<p>Attributen:</p> <ul> <li><code>type</code> (str): Type betaling (\"iDEAL\", \"Creditcard\", \"PayPal\")</li> <li><code>transactiekosten</code> (float): Kosten voor deze betaalmethode (default: 0.0)</li> </ul> <p>Methoden:</p> <ul> <li><code>bereken_totaal_met_kosten(bedrag: float) -&gt; float</code>: Geef bedrag + transactiekosten terug</li> </ul>"},{"location":"week2/oefeningen/oop-oefening4.html#code-a","title":"Code a","text":"<pre><code>from dataclasses import dataclass\n\n@dataclass\nclass Betaalmethode:\n    type: str\n    transactiekosten: float = 0.0\n\n    def bereken_totaal_met_kosten(self, bedrag: float) -&gt; float:\n        # Jouw code hier\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-b-verzendmethode","title":"Deel b: Verzendmethode","text":"<p>Maak een <code>Verzendmethode</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht-b","title":"Opdracht b","text":"<p>Attributen:</p> <ul> <li><code>type</code> (str): Type verzending (\"Standaard\", \"Express\", \"Afhalen\")</li> <li><code>kosten</code> (float): Verzendkosten</li> <li><code>levertijd</code> (str): Verwachte levertijd (bijv. \"2-3 werkdagen\")</li> </ul>"},{"location":"week2/oefeningen/oop-oefening4.html#code-b","title":"Code b","text":"<pre><code>@dataclass\nclass Verzendmethode:\n    type: str\n    kosten: float\n    levertijd: str\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-c-kortingscode-optioneel-maar-aanbevolen","title":"Deel c: Kortingscode (optioneel maar aanbevolen)","text":"<p>Maak een <code>Kortingscode</code> dataclass.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht-c","title":"Opdracht c","text":"<p>Attributen:</p> <ul> <li><code>code</code> (str): De kortingscode (bijv. \"ZOMER2024\")</li> <li><code>percentage</code> (float): Kortingspercentage (bijv. 15.0 voor 15%)</li> </ul> <p>Methoden:</p> <ul> <li><code>bereken_korting(bedrag: float) -&gt; float</code>: Bereken kortingsbedrag</li> </ul>"},{"location":"week2/oefeningen/oop-oefening4.html#code-c","title":"Code c","text":"<pre><code>@dataclass\nclass Kortingscode:\n    code: str\n    percentage: float\n\n    def bereken_korting(self, bedrag: float) -&gt; float:\n        # Jouw code hier\n        pass\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#deel-d-bestelling-compositie","title":"Deel d: Bestelling (compositie!)","text":"<p>Nu komt het allemaal samen. Maak een <code>Bestelling</code> dataclass die alle andere objecten gebruikt.</p>"},{"location":"week2/oefeningen/oop-oefening4.html#opdracht-d","title":"Opdracht d","text":"<p>Attributen:</p> <ul> <li><code>klant</code> (Klant): Klant object</li> <li><code>producten</code> (list[Product]): Lijst met producten</li> <li><code>betaalmethode</code> (Betaalmethode): Betaalmethode object</li> <li><code>verzendmethode</code> (Verzendmethode): Verzendmethode object</li> <li><code>kortingscode</code> (Kortingscode | None): Optionele kortingscode (default: None)</li> </ul> <p>Methoden:</p> <ol> <li><code>bereken_subtotaal() -&gt; float</code></li> <li> <p>Som van alle productprijzen</p> </li> <li> <p><code>bereken_totaal() -&gt; dict</code></p> </li> <li>Bereken complete totaal en geef gestructureerde data terug</li> <li>Return dictionary met alle details (zie voorbeeld)</li> </ol> <p>Return dict, geen print</p> <p>De <code>bereken_totaal()</code> methode moet een dictionary teruggeven met alle bedragen. Zo kun je de data gemakkelijk aan templates doorgeven!</p>"},{"location":"week2/oefeningen/oop-oefening4.html#startcode-d","title":"Startcode d","text":"<pre><code>from dataclasses import dataclass, field\n\n@dataclass\nclass Bestelling:\n    klant: Klant\n    producten: list[Product] = field(default_factory=list)\n    betaalmethode: Betaalmethode = None\n    verzendmethode: Verzendmethode = None\n    kortingscode: Kortingscode | None = None\n\n    def bereken_subtotaal(self) -&gt; float:\n        # Jouw code hier\n        pass\n\n    def bereken_totaal(self) -&gt; dict:\n        \"\"\"\n        Bereken totaal en geef gestructureerde data terug.\n\n        Returns:\n            dict met keys: subtotaal, korting, verzendkosten,\n                          transactiekosten, totaal\n        \"\"\"\n        subtotaal = self.bereken_subtotaal()\n\n        # Bereken korting\n        korting = 0.0\n        if self.kortingscode:\n            korting = self.kortingscode.bereken_korting(subtotaal)\n\n        # Verzendkosten\n        verzendkosten = self.verzendmethode.kosten if self.verzendmethode else 0.0\n\n        # Gratis verzending boven \u20ac50\n        if (subtotaal - korting) &gt;= 50:\n            verzendkosten = 0.0\n\n        # Transactiekosten\n        tussentotaal = subtotaal - korting + verzendkosten\n        transactiekosten = self.betaalmethode.transactiekosten if self.betaalmethode else 0.0\n\n        totaal = tussentotaal + transactiekosten\n\n        return {\n            \"subtotaal\": subtotaal,\n            \"korting\": korting,\n            \"verzendkosten\": verzendkosten,\n            \"transactiekosten\": transactiekosten,\n            \"totaal\": totaal\n        }\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#test-je-complete-systeem","title":"Test je complete systeem","text":"<pre><code>from product import Product\nfrom klant import Klant\nfrom bestelling import Bestelling, Betaalmethode, Verzendmethode, Kortingscode\n\n# Maak producten\nlaptop = Product(\"Laptop\", 799.99, 5)\nmuis = Product(\"Muis\", 25.50, 20)\n\n# Maak klant\njan = Klant(\"Jan Jansen\", \"jan@email.nl\", 5.0)\n\n# Maak bestelling\nbestelling = Bestelling(\n    klant=jan,\n    producten=[laptop, muis],\n    betaalmethode=Betaalmethode(\"iDEAL\", transactiekosten=0.0),\n    verzendmethode=Verzendmethode(\"Standaard\", 5.95, \"2-3 werkdagen\"),\n    kortingscode=Kortingscode(\"WELKOM10\", 10.0)\n)\n\n# Bereken totaal\ntotaal_info = bestelling.bereken_totaal()\n\n# Toon resultaten\nprint(f\"Klant: {bestelling.klant.naam}\")\nprint(f\"Aantal producten: {len(bestelling.producten)}\")\nprint(f\"\\nSubtotaal: \u20ac{totaal_info['subtotaal']:.2f}\")\nprint(f\"Korting (-{bestelling.kortingscode.percentage}%): -\u20ac{totaal_info['korting']:.2f}\")\nprint(f\"Verzendkosten: \u20ac{totaal_info['verzendkosten']:.2f}\")\nprint(f\"Transactiekosten: \u20ac{totaal_info['transactiekosten']:.2f}\")\nprint(f\"Totaal: \u20ac{totaal_info['totaal']:.2f}\")\n</code></pre> <p>Verwachte output:</p> <pre><code>Klant: Jan Jansen\nAantal producten: 2\n\nSubtotaal: \u20ac825.49\nKorting (-10.0%): -\u20ac82.55\nVerzendkosten: \u20ac0.00\nTransactiekosten: \u20ac0.00\nTotaal: \u20ac742.94\n</code></pre> <p>Gratis verzending boven \u20ac50</p> <p>Let op: de verzendkosten zijn \u20ac0.00 omdat het subtotaal na korting boven de \u20ac50 is!</p>"},{"location":"week2/oefeningen/oop-oefening4.html#extra-uitdaging-data-overzicht-optioneel","title":"Extra uitdaging: Data overzicht (optioneel)","text":"<p>Voeg een methode <code>maak_overzicht() -&gt; dict</code> toe aan <code>Bestelling</code> die een volledig overzicht van de bestelling teruggeeft:</p> <pre><code>def maak_overzicht(self) -&gt; dict:\n    \"\"\"Maak een dict met alle bestellingsgegevens.\"\"\"\n    totaal_info = self.bereken_totaal()\n\n    data = {\n        \"klant\": {\n            \"naam\": self.klant.naam,\n            \"email\": self.klant.email\n        },\n        \"producten\": [\n            {\"naam\": p.naam, \"prijs\": p.prijs}\n            for p in self.producten\n        ],\n        \"betaling\": self.betaalmethode.type,\n        \"verzending\": self.verzendmethode.type,\n        \"totaal\": totaal_info\n    }\n\n    return data\n</code></pre> <p>Test:</p> <pre><code>overzicht = bestelling.maak_overzicht()\nprint(overzicht)\n</code></pre>"},{"location":"week2/oefeningen/oop-oefening4.html#checklist","title":"Checklist","text":"<ul> <li> Alle dataclasses gebruiken <code>@dataclass</code></li> <li> <code>Bestelling</code> gebruikt compositie (bevat andere objecten)</li> <li> <code>bereken_totaal()</code> geeft dict terug voor templates</li> <li> <code>Kortingscode | None</code> gebruikt voor kortingscode</li> <li> <code>list[Product]</code> met <code>field(default_factory=list)</code></li> <li> Gratis verzending boven \u20ac50 werkt</li> <li> Type annotations overal</li> <li> Code werkt met testcode</li> </ul>"},{"location":"week2/oefeningen/oop-oefening4.html#wat-je-geleerd-hebt","title":"Wat je geleerd hebt","text":"<ul> <li>Compositie: Objecten die andere objecten bevatten (has-a relatie)</li> <li>Return dicts: Gestructureerde data voor templates</li> <li>X | None: Voor attributen die None kunnen zijn</li> <li>Complex data modeling: Realistische webshop structuur</li> </ul> <p>Preview: Database relaties werken precies zo - een <code>Order</code> heeft een foreign key naar <code>Customer</code>, <code>Product</code>, etc.!</p>"},{"location":"week3/python-exceptions.html","title":"Python exceptions","text":""},{"location":"week3/python-exceptions.html#python-exceptions","title":"Python exceptions","text":"<p>Je kent ze al: rode foutmeldingen in je terminal.</p> <pre><code>ValueError: invalid literal for int() with base 10: 'abc'\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\nIndexError: list index out of range\n</code></pre> <p>Elke foutmelding is een exception - een object dat Python aanmaakt als er iets misgaat tijdens het uitvoeren van je code. Tot nu toe stopte je programma altijd zodra zo'n exception optrad. Met <code>try/except</code> bepaal je zelf wat er dan gebeurt.</p>"},{"location":"week3/python-exceptions.html#tryexcept","title":"try/except","text":"<pre><code># Zonder try/except: programma crasht\ngetal = int(\"geen getal\")  # ValueError, programma stopt\n\n# Met try/except: jij bepaalt wat er gebeurt\ntry:\n    getal = int(\"geen getal\")\n    print(f\"Getal: {getal}\")\nexcept ValueError:\n    print(\"Dat is geen geldig getal\")\n</code></pre> <p>De code in het <code>try</code>-blok wordt uitgevoerd. Als er een exception optreedt:</p> <ol> <li>Python stopt direct met de rest van het <code>try</code>-blok</li> <li>Python springt naar het bijpassende <code>except</code>-blok</li> <li>Het programma gaat daarna verder - het crasht niet meer</li> </ol>"},{"location":"week3/python-exceptions.html#exceptions-die-je-al-kent","title":"Exceptions die je al kent","text":"<p>Alle foutmeldingen die je eerder hebt gezien zijn exceptions:</p> Exception Wanneer <code>TypeError</code> Verkeerd type, bijv. <code>\"a\" + 1</code> <code>ValueError</code> Ongeldige waarde, bijv. <code>int(\"abc\")</code> <code>NameError</code> Variabele bestaat niet <code>IndexError</code> Lijstindex buiten bereik <code>KeyError</code> Dictionary-sleutel bestaat niet <code>AttributeError</code> Methode of attribuut bestaat niet op het object <code>ZeroDivisionError</code> Delen door nul"},{"location":"week3/python-exceptions.html#meerdere-except-blokken","title":"Meerdere except-blokken","text":"<p>Je kunt verschillende soorten exceptions apart afhandelen:</p> <pre><code>def lees_getal(tekst: str) -&gt; int | None:\n    \"\"\"Zet tekst om naar int. Geeft None terug bij fout.\"\"\"\n    try:\n        return int(tekst)\n    except ValueError:\n        print(f\"'{tekst}' is geen geldig geheel getal\")\n        return None\n    except TypeError:\n        print(\"Verwachtte een string als invoer\")\n        return None\n</code></pre>"},{"location":"week3/python-exceptions.html#de-foutmelding-opvragen","title":"De foutmelding opvragen","text":"<p>Met <code>as</code> sla je de exception zelf op als variabele:</p> <pre><code>try:\n    getal = int(\"abc\")\nexcept ValueError as fout:\n    print(f\"Fout: {fout}\")\n# Uitvoer: Fout: invalid literal for int() with base 10: 'abc'\n</code></pre>"},{"location":"week3/python-exceptions.html#exceptions-zijn-klassen","title":"Exceptions zijn klassen","text":"<p>Exceptions zijn gewone Python-klassen - ze erven van <code>Exception</code>. Dat is ook waarom je het type aangeeft in <code>except</code>: je controleert welke klasse de exception heeft.</p> <pre><code># ValueError is een klasse, net als Product of Klant\nexcept ValueError:    # opvangen van ValueError-objecten\nexcept TypeError:     # opvangen van TypeError-objecten\n</code></pre> <p>Je ziet dit patroon ook bij databases: <code>sqlite3.IntegrityError</code> is een exception-klasse specifiek voor database-fouten - die zie je in deel 2.</p> <p>Volgende stap: Deel 2 - SQLite vanuit Python.</p>"},{"location":"week3/sql-deel1.html","title":"SQLite in Python","text":""},{"location":"week3/sql-deel1.html#sqlite-in-python","title":"SQLite in Python","text":"<p>In het vak Databases heb je geleerd werken met PostgreSQL. In deze module gebruik je SQLite - een lichtgewicht database die als een enkel bestand werkt en built-in bij Python zit. Geen server setup nodig.</p>"},{"location":"week3/sql-deel1.html#sqlite-cli-kort","title":"SQLite CLI (kort)","text":"<p>Je kunt SQLite via de command-line gebruiken (vergelijkbaar met <code>psql</code> voor PostgreSQL). Of het al beschikbaar is hangt af van je besturingssysteem:</p> macOS en LinuxWindows <p>SQLite3 is standaard aanwezig, er is niets te installeren. Controleer met <code>sqlite3 --version</code> in de terminal.</p> <p>SQLite3 staat niet standaard op Windows. De makkelijkste manier is via winget (de packagemanager die standaard op Windows 10 en 11 zit). Open PowerShell en voer uit: <code>winget install SQLite.SQLite</code>. Herstart daarna je terminal.</p> <p>Werkt winget niet? Installeer dan handmatig:</p> <ol> <li>Download <code>sqlite-tools-win-x64-*.zip</code> van sqlite.org/download.html (onder \"Precompiled Binaries for Windows\")</li> <li>Pak het zip-bestand uit naar een vaste map, bijv. <code>C:\\sqlite</code></li> <li>Voeg die map toe aan je PATH:<ul> <li>Zoek via de Windows-zoekbalk naar \"omgevingsvariabelen\"</li> <li>Klik op \"Omgevingsvariabelen bewerken voor uw account\"</li> <li>Selecteer <code>Path</code> onder \"Gebruikersvariabelen\" en klik \"Bewerken\"</li> <li>Klik \"Nieuw\", typ <code>C:\\sqlite</code> en bevestig alles met OK</li> </ul> </li> <li>Herstart PowerShell en controleer met <code>sqlite3 --version</code></li> </ol> <p>Eenmaal ge\u00efnstalleerd open je een database zo:</p> <pre><code>$ sqlite3 test.db\nSQLite version 3.39.5\nEnter \".help\" for usage hints.\nsqlite&gt; .tables\nsqlite&gt; .quit\n</code></pre> <p>Handige punt-commando's (vergelijkbaar met <code>\\d</code> commando's in psql):</p> Commando Betekenis <code>.tables</code> Toon alle tabellen <code>.schema</code> Toon tabelstructuur <code>.quit</code> Afsluiten <p>Visueel werken met DB Browser for SQLite</p> <p>Als je liever visueel werkt (vergelijkbaar met pgAdmin voor PostgreSQL), gebruik dan DB Browser for SQLite.</p> <p>Voordelen:</p> <ul> <li>Tabellen visueel bekijken en bewerken</li> <li>SQL queries uitvoeren met syntax highlighting</li> <li>Database structuur inspecteren</li> <li>Handig tijdens Flask development om snel data te controleren</li> </ul> <p>Volgende stap: Python exceptions - nodig voor deel 2.</p>"},{"location":"week3/sql-deel1.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>SQLite: een lichtgewicht database die als \u00e9\u00e9n bestand werkt, zonder serverinstallatie, en standaard meegeleverd wordt met Python</li> <li>SQLite CLI op macOS/Linux: de <code>sqlite3</code>-tool is standaard beschikbaar en direct te starten met <code>sqlite3 bestandsnaam.db</code></li> <li>SQLite installeren op Windows: via <code>winget install SQLite.SQLite</code> of handmatig downloaden en de map toevoegen aan de PATH-omgevingsvariabele</li> <li>Database openen via de CLI: <code>sqlite3 &lt;bestandsnaam&gt;</code> opent een bestaande database of maakt een nieuw bestand aan</li> <li>Punt-commando's: <code>.tables</code> toont alle tabellen, <code>.schema</code> toont de tabelstructuur, <code>.quit</code> sluit de CLI af</li> <li>DB Browser for SQLite: een grafische tool om visueel met SQLite te werken, vergelijkbaar met pgAdmin voor PostgreSQL</li> </ul>"},{"location":"week3/sql-deel2.html","title":"SQLite in Python: Basics","text":""},{"location":"week3/sql-deel2.html#sqlite-in-python-basics","title":"SQLite in Python: Basics","text":"<p>Python heeft de <code>sqlite3</code> library built-in. Hieronder zie je hoe je een database connectie maakt, queries uitvoert, en data ophaalt.</p>"},{"location":"week3/sql-deel2.html#database-connectie","title":"Database connectie","text":"<p>De basis: database connectie maken en een tabel aanmaken.</p> <pre><code>import sqlite3\nfrom sqlite3 import Connection\n\ndef create_database() -&gt; Connection:\n    \"\"\"Maak database connectie en tabel aan.\"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    # Maak contacts tabel\n    conn.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS contacts (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            name TEXT NOT NULL,\n            email TEXT NOT NULL UNIQUE,\n            phone TEXT\n        )\n    \"\"\")\n\n    conn.commit()\n    return conn\n\n# Gebruik\nconn = create_database()\nprint(\"Database en tabel aangemaakt\")\nconn.close()\n</code></pre> <p>CREATE TABLE IF NOT EXISTS</p> <p>Dit voorkomt errors als de tabel al bestaat. Handig tijdens development wanneer je het script meerdere keren uitvoert.</p>"},{"location":"week3/sql-deel2.html#insert-data-toevoegen","title":"Insert: Data toevoegen","text":"<p>Voeg contacten toe aan de database:</p> <pre><code>import sqlite3\n\ndef add_contact(name: str, email: str, phone: str | None = None) -&gt; int:\n    \"\"\"\n    Voeg een contact toe aan de database.\n\n    Returns:\n        int: ID van het toegevoegde contact\n    \"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    cursor = conn.execute(\n        \"INSERT INTO contacts (name, email, phone) VALUES (?, ?, ?)\",\n        (name, email, phone)\n    )\n\n    contact_id = cursor.lastrowid\n    conn.commit()\n    conn.close()\n\n    return contact_id\n\n# Gebruik\njan_id = add_contact(\"Jan Jansen\", \"jan@email.nl\", \"06-12345678\")\nsara_id = add_contact(\"Sara de Vries\", \"sara@email.nl\")\n\nprint(f\"Jan toegevoegd met ID: {jan_id}\")\nprint(f\"Sara toegevoegd met ID: {sara_id}\")\n</code></pre> <p>SQL Injection voorkomen met placeholders</p> <p>Gebruik altijd <code>?</code> placeholders in plaats van f-strings: Goed: </p><pre><code>cursor.execute(\"SELECT * FROM contacts WHERE name = ?\", (name,))\n</code></pre> FOUT (SQL injection risico!): <pre><code>cursor.execute(f\"SELECT * FROM contacts WHERE name = '{name}'\")\n</code></pre> Dit wordt uitgebreid besproken in Deel 5 over SQL injection.<p></p>"},{"location":"week3/sql-deel2.html#select-data-ophalen","title":"Select: Data ophalen","text":"<p>Haal data op met <code>SELECT</code> queries:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef get_all_contacts() -&gt; list[Row]:\n    \"\"\"Haal alle contacten op.\"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n    conn.row_factory = Row  # Zodat we kolommen bij naam kunnen benaderen\n\n    cursor = conn.execute(\"SELECT * FROM contacts ORDER BY name\")\n    contacts = cursor.fetchall()\n\n    conn.close()\n    return contacts\n\n# Gebruik\ncontacts = get_all_contacts()\n\nfor contact in contacts:\n    print(f\"{contact['name']}: {contact['email']}\")\n</code></pre> <p>Output:</p> <pre><code>Jan Jansen: jan@email.nl\nSara de Vries: sara@email.nl\n</code></pre> <p>row_factory = Row</p> <p>Met <code>row_factory = Row</code> kun je kolommen benaderen via <code>row['name']</code> in plaats van <code>row[0]</code>. Dit maakt code leesbaarder.</p>"},{"location":"week3/sql-deel2.html#enkele-rij-ophalen","title":"Enkele rij ophalen","text":"<p>Gebruik <code>fetchone()</code> voor \u00e9\u00e9n result:</p> <pre><code>def get_contact_by_email(email: str) -&gt; Row | None:\n    \"\"\"Haal \u00e9\u00e9n contact op op basis van email.\"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n    conn.row_factory = Row\n\n    cursor = conn.execute(\n        \"SELECT * FROM contacts WHERE email = ?\",\n        (email,)\n    )\n\n    contact = cursor.fetchone()\n    conn.close()\n\n    return contact\n\n# Gebruik\ncontact = get_contact_by_email(\"jan@email.nl\")\n\nif contact:\n    print(f\"Gevonden: {contact['name']}\")\nelse:\n    print(\"Contact niet gevonden\")\n</code></pre>"},{"location":"week3/sql-deel2.html#update-data-wijzigen","title":"Update: Data wijzigen","text":"<p>Wijzig bestaande records met <code>UPDATE</code>:</p> <pre><code>def update_phone(email: str, new_phone: str) -&gt; bool:\n    \"\"\"\n    Update telefoonnummer van een contact.\n\n    Returns:\n        bool: True als update gelukt, False als contact niet bestaat\n    \"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    cursor = conn.execute(\n        \"UPDATE contacts SET phone = ? WHERE email = ?\",\n        (new_phone, email)\n    )\n\n    conn.commit()\n    rows_affected = cursor.rowcount\n    conn.close()\n\n    return rows_affected &gt; 0\n\n# Gebruik\nsuccess = update_phone(\"jan@email.nl\", \"06-98765432\")\n\nif success:\n    print(\"Telefoonnummer bijgewerkt\")\nelse:\n    print(\"Contact niet gevonden\")\n</code></pre> <p>Altijd WHERE clausule bij UPDATE</p> <p>Zonder <code>WHERE</code> clausule worden alle rijen ge\u00fcpdatet: </p><pre><code># GEVAARLIJK - iedereen krijgt hetzelfde telefoonnummer!\nconn.execute(\"UPDATE contacts SET phone = ?\", (phone,))\n</code></pre><p></p>"},{"location":"week3/sql-deel2.html#delete-data-verwijderen","title":"Delete: Data verwijderen","text":"<p>Verwijder records met <code>DELETE</code>:</p> <pre><code>def delete_contact(email: str) -&gt; bool:\n    \"\"\"\n    Verwijder een contact op basis van email.\n\n    Returns:\n        bool: True als delete gelukt, False als contact niet bestaat\n    \"\"\"\n    conn = sqlite3.connect(\"contacts.db\")\n\n    cursor = conn.execute(\n        \"DELETE FROM contacts WHERE email = ?\",\n        (email,)\n    )\n\n    conn.commit()\n    rows_affected = cursor.rowcount\n    conn.close()\n\n    return rows_affected &gt; 0\n\n# Gebruik\ndeleted = delete_contact(\"sara@email.nl\")\n\nif deleted:\n    print(\"Contact verwijderd\")\nelse:\n    print(\"Contact niet gevonden\")\n</code></pre> <p>Altijd WHERE clausule bij DELETE</p> <p>Zonder <code>WHERE</code> clausule worden alle rijen verwijderd: </p><pre><code># GEVAARLIJK - ALLE contacten worden gewist!\nconn.execute(\"DELETE FROM contacts\")\n</code></pre><p></p>"},{"location":"week3/sql-deel2.html#context-managers-with-statement","title":"Context managers (with statement)","text":"<p>Bovenstaande code heeft een probleem: als er een error optreedt, wordt <code>conn.close()</code> niet aangeroepen. Gebruik <code>with</code> voor automatic cleanup:</p> <pre><code>def add_contact_safe(name: str, email: str, phone: str | None = None) -&gt; int:\n    \"\"\"Voeg contact toe met automatic connection cleanup.\"\"\"\n    with sqlite3.connect(\"contacts.db\") as conn:\n        cursor = conn.execute(\n            \"INSERT INTO contacts (name, email, phone) VALUES (?, ?, ?)\",\n            (name, email, phone)\n        )\n        contact_id = cursor.lastrowid\n        conn.commit()\n        return contact_id\n    # conn.close() wordt automatisch aangeroepen\n\n# Gebruik\ntry:\n    contact_id = add_contact_safe(\"Piet Bakker\", \"piet@email.nl\")\n    print(f\"Contact toegevoegd met ID: {contact_id}\")\nexcept sqlite3.IntegrityError:\n    print(\"Email bestaat al (UNIQUE constraint)\")\n</code></pre> <p><code>sqlite3.IntegrityError</code> is een exception die sqlite3 gooit als een database-constraint wordt geschonden - hier de UNIQUE constraint op het email-veld.</p> <p>Altijd with gebruiken</p> <p>De <code>with</code> statement zorgt dat de connectie altijd wordt gesloten, ook bij errors. Dit is de aangeraden manier om met databases te werken.</p>"},{"location":"week3/sql-deel2.html#complete-voorbeeld","title":"Complete voorbeeld","text":"<p>Hier een volledig voorbeeld dat alle CRUD operaties (Create, Read, Update, Delete) combineert:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass ContactDatabase:\n    \"\"\"Database manager voor contacten.\"\"\"\n\n    def __init__(self, db_path: str = \"contacts.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak contacts tabel aan als deze niet bestaat.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS contacts (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    name TEXT NOT NULL,\n                    email TEXT NOT NULL UNIQUE,\n                    phone TEXT\n                )\n            \"\"\")\n            conn.commit()\n\n    def add(self, name: str, email: str, phone: str | None = None) -&gt; int:\n        \"\"\"Voeg contact toe.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"INSERT INTO contacts (name, email, phone) VALUES (?, ?, ?)\",\n                (name, email, phone)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    def get_all(self) -&gt; list[Row]:\n        \"\"\"Haal alle contacten op.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\"SELECT * FROM contacts ORDER BY name\")\n            return cursor.fetchall()\n\n    def get_by_email(self, email: str) -&gt; Row | None:\n        \"\"\"Haal \u00e9\u00e9n contact op.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\n                \"SELECT * FROM contacts WHERE email = ?\",\n                (email,)\n            )\n            return cursor.fetchone()\n\n    def update_phone(self, email: str, phone: str) -&gt; bool:\n        \"\"\"Update telefoonnummer.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"UPDATE contacts SET phone = ? WHERE email = ?\",\n                (phone, email)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n    def delete(self, email: str) -&gt; bool:\n        \"\"\"Verwijder contact.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"DELETE FROM contacts WHERE email = ?\",\n                (email,)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n# Gebruik\ndb = ContactDatabase()\n\n# Create\njan_id = db.add(\"Jan Jansen\", \"jan@email.nl\", \"06-12345678\")\nsara_id = db.add(\"Sara de Vries\", \"sara@email.nl\")\n\n# Read\ncontacts = db.get_all()\nfor contact in contacts:\n    print(f\"{contact['name']}: {contact['email']}\")\n\n# Update\ndb.update_phone(\"jan@email.nl\", \"06-98765432\")\n\n# Delete\ndb.delete(\"sara@email.nl\")\n\n# Verify\nprint(\"\\nNa delete:\")\nfor contact in db.get_all():\n    print(f\"{contact['name']}: {contact['email']}\")\n</code></pre>"},{"location":"week3/sql-deel2.html#verschillen-met-postgresql","title":"Verschillen met PostgreSQL","text":"<p>Je bent gewend aan PostgreSQL. Enkele verschillen met SQLite:</p> Aspect PostgreSQL SQLite Datatypes Veel types (VARCHAR, TIMESTAMP, etc.) Weinig types (TEXT, INTEGER, REAL, BLOB) Constraints Alle constraints Beperkte constraint support ALTER TABLE Volledig support Zeer beperkt (meestal: nieuwe tabel maken) Type checking Strikt Losjes (string in INTEGER kolom kan!) Concurrent writes Veel users tegelijk File locking (\u00e9\u00e9n writer tegelijk) <p>SQLite type validatie is losjes</p> <p>SQLite accepteert dit zonder error: </p><pre><code>conn.execute(\"CREATE TABLE IF NOT EXISTS test (id INTEGER, score INTEGER)\")\nconn.execute(\"INSERT INTO test VALUES (?, ?)\", (1, \"geen-integer\"))  # string in INTEGER kolom\n</code></pre> PostgreSQL zou dit afwijzen. Zorg dus zelf voor correcte types!<p></p>"},{"location":"week3/sql-deel2.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Database connectie maken met <code>sqlite3.connect()</code></li> <li>CRUD operaties: <code>INSERT</code>, <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code></li> <li>Placeholders (<code>?</code>) gebruiken tegen SQL injection</li> <li><code>row_factory = Row</code> voor dict-like access</li> <li>Context managers (<code>with</code>) voor automatic cleanup</li> <li>Type annotations en moderne Python patterns</li> </ul> <p>Volgende stap: Deel 3 - JOINs met meerdere tabellen.</p>"},{"location":"week3/sql-deel3.html","title":"SQLite in Python: JOINs en Queries","text":""},{"location":"week3/sql-deel3.html#sqlite-in-python-joins-en-queries","title":"SQLite in Python: JOINs en Queries","text":"<p>De webshop database heeft meerdere tabellen (categories, products) die met elkaar verbonden zijn via foreign keys. Met JOIN queries haal je data uit meerdere tabellen tegelijk op.</p>"},{"location":"week3/sql-deel3.html#de-webshop-database","title":"De webshop database","text":"<p>Download de <code>webshop.sqlite</code> database. Deze bevat twee tabellen met realistische e-commerce data:</p> <ul> <li><code>categories</code> - Productcategorie\u00ebn (10 records)</li> <li><code>products</code> - Producten (120 records)</li> </ul>"},{"location":"week3/sql-deel3.html#database-structuur-inspecteren","title":"Database structuur inspecteren","text":"<p>Laten we eerst de database verkennen vanuit Python:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef inspect_database(db_path: str = \"webshop.sqlite\") -&gt; None:\n    \"\"\"Toon database structuur en basisstatistieken.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        # Haal schema informatie op\n        cursor = conn.execute(\"\"\"\n            SELECT name, sql\n            FROM sqlite_master\n            WHERE type='table'\n        \"\"\")\n\n        print(\"Database tabellen:\\n\")\n        for table in cursor.fetchall():\n            print(f\"Tabel: {table['name']}\")\n\n            # Tel records per tabel\n            count_cursor = conn.execute(f\"SELECT COUNT(*) as count FROM {table['name']}\")\n            count = count_cursor.fetchone()['count']\n            print(f\"Aantal records: {count}\\n\")\n\n# Gebruik\ninspect_database()\n</code></pre> <p>Output:</p> <pre><code>Database tabellen:\n\nTabel: categories\nAantal records: 10\n\nTabel: products\nAantal records: 120\n</code></pre> <p>PRIMARY KEY AUTOINCREMENT</p> <p>SQLite vult automatisch de primary key kolom <code>id</code> in wanneer je een nieuwe record toevoegt: </p><pre><code>cursor = conn.execute(\"INSERT INTO categories (name, description) VALUES (?, ?)\",\n                     (\"Furniture\", \"Tables, chairs, and desks\"))\nnewid = cursor.lastrowid  # 11\n</code></pre> Dit werkt hetzelfde als PostgreSQL's <code>SERIAL</code> type.<p></p>"},{"location":"week3/sql-deel3.html#eenvoudige-queries","title":"Eenvoudige queries","text":"<p>Laten we beginnen met een paar eenvoudige queries om weer in te komen:</p> <pre><code>def get_product_by_id(product_id: int, db_path: str = \"webshop.sqlite\") -&gt; Row | None:\n    \"\"\"Haal \u00e9\u00e9n product op op basis van ID.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            \"SELECT * FROM products WHERE id = ?\",\n            (product_id,)\n        )\n        return cursor.fetchone()\n\n# Gebruik\nproduct = get_product_by_id(42)\nif product:\n    print(f\"Product {product['id']}: {product['name']} - \u20ac{product['price']}\")\n</code></pre> <p>Output:</p> <pre><code>Product 42: Sneakers Nike - \u20ac89.99\n</code></pre>"},{"location":"week3/sql-deel3.html#sorteren-met-order-by","title":"Sorteren met ORDER BY","text":"<p>Je kunt resultaten sorteren met <code>ORDER BY</code>:</p> <pre><code>def get_products_sorted_by_price(\n    db_path: str = \"webshop.sqlite\",\n    desc: bool = False\n) -&gt; list[Row]:\n    \"\"\"Haal alle producten op, gesorteerd op prijs.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        order = \"DESC\" if desc else \"ASC\"\n        cursor = conn.execute(f\"SELECT * FROM products ORDER BY price {order}\")\n\n        return cursor.fetchall()\n\n# Gebruik\nproducts = get_products_sorted_by_price(desc=True)\nfor product in products[:5]:  # Toon eerste 5 (duurste)\n    print(f\"{product['name']}: \u20ac{product['price']}\")\n</code></pre> <p>Output:</p> <pre><code>Smartphone Samsung Galaxy: \u20ac699.99\nTablet iPad Air: \u20ac599.99\nMonitor Dell 27 inch: \u20ac349.99\n4K Blu-ray Player: \u20ac199.99\nSmartwatch Fitbit: \u20ac199.99\n</code></pre> <p>SQL injection bij ORDER BY</p> <p>In het voorbeeld hierboven gebruiken we f-string voor <code>order</code> (<code>ASC</code>/<code>DESC</code>). Dit is veilig omdat we de waarde zelf controleren (boolean \u2192 \"ASC\" of \"DESC\"). Doe dit NOOIT met user input: </p><pre><code># GEVAARLIJK - SQL injection risico!\norder = input(\"ASC or DESC? \")\ncursor.execute(f\"SELECT * FROM products ORDER BY price {order}\")\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#joins-meerdere-tabellen-combineren","title":"JOINs: meerdere tabellen combineren","text":"<p>Tot nu toe hebben we met \u00e9\u00e9n tabel gewerkt. Maar de echte kracht van SQL komt pas bij JOINs. Je kent dit al van PostgreSQL - in Python werkt het precies hetzelfde.</p>"},{"location":"week3/sql-deel3.html#simpele-join-products-met-categories","title":"Simpele JOIN: Products met Categories","text":"<p>Laten we producten combineren met hun categorie\u00ebn om een complete productlijst te maken:</p> <pre><code>def get_products_with_categories(db_path: str = \"webshop.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal alle producten op met hun categorie naam.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT p.name AS product, p.price, p.stock, c.name AS category\n            FROM products p\n            JOIN categories c ON p.category_id = c.id\n            ORDER BY c.name, p.name\n        \"\"\")\n\n        return cursor.fetchall()\n\n# Gebruik\nproducts = get_products_with_categories()\nfor product in products[:10]:  # Toon eerste 10\n    print(f\"{product['category']}: {product['product']} - \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre> <p>Output:</p> <pre><code>Beauty: Electric Toothbrush - \u20ac79.99 (20 op voorraad)\nBeauty: Face Cream Anti-Aging - \u20ac34.99 (25 op voorraad)\nBeauty: Hair Dryer - \u20ac49.99 (22 op voorraad)\nBeauty: Lipstick Set (5 colors) - \u20ac29.99 (30 op voorraad)\nBeauty: Makeup Brush Set - \u20ac39.99 (28 op voorraad)\nBeauty: Nail Polish Kit - \u20ac19.99 (40 op voorraad)\nBeauty: Perfume Eau de Parfum 50ml - \u20ac59.99 (18 op voorraad)\nBeauty: Shampoo &amp; Conditioner Set - \u20ac24.99 (35 op voorraad)\nBooks: 1984 - \u20ac12.99 (45 op voorraad)\nBooks: Algorithms Unlocked - \u20ac32.99 (25 op voorraad)\n</code></pre> <p>JOIN syntax</p> <p>De JOIN syntax is identiek aan PostgreSQL: </p><pre><code>SELECT kolommen\nFROM tabel1 alias1\nJOIN tabel2 alias2 ON alias1.foreign_key = alias2.primary_key\n</code></pre> - <code>p</code> en <code>c</code> zijn aliases (afkortingen) - <code>ON</code> specificeert de relatie tussen tabellen - <code>c.name AS category</code> geeft de kolom een duidelijke naam<p></p>"},{"location":"week3/sql-deel3.html#join-met-where-filteren-op-resultaten","title":"JOIN met WHERE: Filteren op resultaten","text":"<p>Nu gaan we producten ophalen uit een specifieke categorie, met extra filters:</p> <pre><code>def get_products_by_category(\n    category_name: str,\n    db_path: str = \"webshop.sqlite\"\n) -&gt; list[Row]:\n    \"\"\"Haal producten op uit een specifieke categorie.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT c.name AS category, p.name AS product, p.price, p.stock\n            FROM products p\n            JOIN categories c ON p.category_id = c.id\n            WHERE c.name = ?\n            ORDER BY p.name\n        \"\"\", (category_name,))\n\n        return cursor.fetchall()\n\n# Gebruik\nbooks = get_products_by_category(\"Books\")\nprint(f\"Gevonden {len(books)} boeken:\\n\")\nfor book in books[:5]:  # Toon eerste 5\n    print(f\"{book['product']} - \u20ac{book['price']}\")\n</code></pre> <p>Output:</p> <pre><code>Gevonden 20 boeken:\n\n1984 - \u20ac12.99\nAlgorithms Unlocked - \u20ac32.99\nAtomic Habits - \u20ac18.99\nClean Code - \u20ac34.99\nDesign Patterns - \u20ac44.99\n</code></pre>"},{"location":"week3/sql-deel3.html#join-met-aggregatie-producten-tellen-per-categorie","title":"JOIN met aggregatie: Producten tellen per categorie","text":"<p>We kunnen JOINs combineren met aggregatiefuncties zoals <code>COUNT()</code> en <code>GROUP BY</code>:</p> <pre><code>def get_category_statistics(db_path: str = \"webshop.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal statistieken op per categorie.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT\n                c.name AS category,\n                COUNT(p.id) AS product_count,\n                AVG(p.price) AS avg_price,\n                SUM(p.stock) AS total_stock\n            FROM categories c\n            LEFT JOIN products p ON c.id = p.category_id\n            GROUP BY c.id, c.name\n            ORDER BY product_count DESC\n        \"\"\")\n\n        return cursor.fetchall()\n\n# Gebruik\nstats = get_category_statistics()\nprint(\"Categorie statistieken:\\n\")\nfor cat in stats:\n    print(f\"{cat['category']}: {cat['product_count']} producten, \"\n          f\"gemiddelde prijs: \u20ac{cat['avg_price']:.2f}, \"\n          f\"totale voorraad: {cat['total_stock']}\")\n</code></pre> <p>Output:</p> <pre><code>Categorie statistieken:\n\nBooks: 20 producten, gemiddelde prijs: \u20ac24.34, totale voorraad: 703\nClothing: 15 producten, gemiddelde prijs: \u20ac37.19, totale voorraad: 570\nElectronics: 15 producten, gemiddelde prijs: \u20ac189.32, totale voorraad: 413\nHome &amp; Garden: 12 producten, gemiddelde prijs: \u20ac42.99, totale voorraad: 358\nSports: 12 producten, gemiddelde prijs: \u20ac36.24, totale voorraad: 445\n...\n</code></pre> <p>LEFT JOIN vs JOIN</p> <p>We gebruiken hier <code>LEFT JOIN</code> in plaats van <code>JOIN</code>: - <code>JOIN</code> (of <code>INNER JOIN</code>): alleen categorie\u00ebn MET producten - <code>LEFT JOIN</code>: ALLE categorie\u00ebn, ook als ze geen producten hebben Voor statistieken wil je vaak <code>LEFT JOIN</code> om lege categorie\u00ebn ook te zien.</p>"},{"location":"week3/sql-deel3.html#join-met-where-en-like-zoeken-in-resultaten","title":"JOIN met WHERE en LIKE: Zoeken in resultaten","text":"<p>We kunnen ook filteren op JOIN resultaten met een <code>WHERE</code> clausule. Bijvoorbeeld: zoek alle producten met \"phone\" in de naam:</p> <pre><code>def search_products_by_name(\n    search_term: str,\n    db_path: str = \"webshop.sqlite\"\n) -&gt; list[Row]:\n    \"\"\"Zoek producten op basis van naam, inclusief categorie info.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT\n                c.name AS category,\n                p.name AS product,\n                p.price,\n                p.stock\n            FROM products p\n            JOIN categories c ON p.category_id = c.id\n            WHERE p.name LIKE ?\n            ORDER BY c.name, p.name\n        \"\"\", (f\"%{search_term}%\",))\n\n        return cursor.fetchall()\n\n# Gebruik\nphone_products = search_products_by_name(\"phone\")\nprint(f\"Gevonden {len(phone_products)} producten met 'phone' in de naam:\\n\")\nfor product in phone_products:\n    print(f\"{product['category']}: {product['product']} - \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre> <p>Output:</p> <pre><code>Gevonden 3 producten met 'phone' in de naam:\n\nElectronics: Bluetooth Headphones Sony - \u20ac149.99 (18 op voorraad)\nElectronics: Smartphone Samsung Galaxy - \u20ac699.99 (8 op voorraad)\nMusic &amp; Movies: DJ Headphones - \u20ac89.99 (16 op voorraad)\n</code></pre> <p>LIKE operator en wildcard</p> <ul> <li><code>LIKE '%phone%'</code> zoekt overal in de string</li> <li><code>%</code> is een wildcard (= 0 of meer karakters)</li> <li>We gebruiken <code>?</code> placeholder met <code>f\"%{search_term}%\"</code> voor veiligheid Dit is identiek aan PostgreSQL's <code>LIKE</code> operator.</li> </ul>"},{"location":"week3/sql-deel3.html#complexe-where-clausules-prijs-en-voorraad-filteren","title":"Complexe WHERE clausules: Prijs en voorraad filteren","text":"<p>Je kunt meerdere voorwaarden combineren met <code>AND</code> en <code>OR</code>:</p> <pre><code>def get_affordable_in_stock_products(\n    max_price: float,\n    min_stock: int,\n    db_path: str = \"webshop.sqlite\"\n) -&gt; list[Row]:\n    \"\"\"Haal betaalbare producten op die op voorraad zijn.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n\n        cursor = conn.execute(\"\"\"\n            SELECT\n                c.name AS category,\n                p.name AS product,\n                p.price,\n                p.stock\n            FROM products p\n            JOIN categories c ON p.category_id = c.id\n            WHERE p.price &lt;= ? AND p.stock &gt;= ?\n            ORDER BY p.price ASC\n        \"\"\", (max_price, min_stock))\n\n        return cursor.fetchall()\n\n# Gebruik\nproducts = get_affordable_in_stock_products(max_price=30.0, min_stock=40)\nprint(f\"Gevonden {len(products)} betaalbare producten met voldoende voorraad:\\n\")\nfor product in products[:10]:\n    print(f\"{product['product']}: \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre> <p>Output:</p> <pre><code>Gevonden 21 betaalbare producten met voldoende voorraad:\n\nCard Game Uno: \u20ac9.99 (60 op voorraad)\nThe Art of War: \u20ac9.99 (48 op voorraad)\nThe Great Gatsby: \u20ac10.99 (50 op voorraad)\nSticky Notes Pack: \u20ac11.99 (65 op voorraad)\nHoney Natural 500g: \u20ac11.99 (30 op voorraad)\n...\n</code></pre>"},{"location":"week3/sql-deel3.html#views-optioneel","title":"Views (optioneel)","text":"<p>Een view is een virtuele tabel - een opgeslagen query die je kunt gebruiken alsof het een echte tabel is. Views worden gebruikt voor:</p> <ul> <li>Security: Gevoelige kolommen verbergen (zoals salaris)</li> <li>Simplificatie: Complexe queries herbruikbaar maken</li> <li>Abstraction layer: Database structuur verbergen voor gebruikers</li> </ul> <p>Views in modern Python apps</p> <p>In Python/Flask apps gebruik je views minder vaak. Met een ORM zoals SQLAlchemy schrijf je queries direct in Python en gebruik je geen SQL views meer. Views zijn wel handig als je een database deelt met andere applicaties of rapportage tools.</p>"},{"location":"week3/sql-deel3.html#view-maken-en-gebruiken-in-python","title":"View maken en gebruiken in Python","text":"<p>Laten we een view maken voor de \"producten op voorraad\" query:</p> <pre><code>def create_in_stock_view(db_path: str = \"webshop.sqlite\") -&gt; None:\n    \"\"\"Maak een view voor producten die op voorraad zijn.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        # Verwijder view als deze al bestaat\n        conn.execute(\"DROP VIEW IF EXISTS vInStockProducts\")\n\n        # Maak nieuwe view\n        conn.execute(\"\"\"\n            CREATE VIEW vInStockProducts AS\n            SELECT\n                c.name AS category,\n                p.name AS product,\n                p.price,\n                p.stock\n            FROM products p\n            JOIN categories c ON p.category_id = c.id\n            WHERE p.stock &gt; 0\n            ORDER BY c.name, p.name\n        \"\"\")\n\n        conn.commit()\n        print(\"View 'vInStockProducts' aangemaakt\")\n\ndef query_view(view_name: str, db_path: str = \"webshop.sqlite\") -&gt; list[Row]:\n    \"\"\"Haal data op uit een view.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(f\"SELECT * FROM {view_name}\")\n        return cursor.fetchall()\n\n# Gebruik\ncreate_in_stock_view()\n\n# Query de view alsof het een tabel is\nproducts = query_view(\"vInStockProducts\")\nfor product in products[:10]:\n    print(f\"{product['category']}: {product['product']} - \u20ac{product['price']}\")\n</code></pre> <p>Output:</p> <pre><code>View 'vInStockProducts' aangemaakt\nBeauty: Electric Toothbrush - \u20ac79.99\nBeauty: Face Cream Anti-Aging - \u20ac34.99\nBeauty: Hair Dryer - \u20ac49.99\nBeauty: Lipstick Set (5 colors) - \u20ac29.99\nBeauty: Makeup Brush Set - \u20ac39.99\n...\n</code></pre> <p>SQL injection bij view/tabelnamen</p> <p>In <code>query_view</code> gebruiken we een f-string voor <code>view_name</code>. Dit is een SQL injection risico als <code>view_name</code> uit user input komt: </p><pre><code># GEVAARLIJK - SQL injection risico!\nview_name = request.args.get(\"view\")\nquery_view(view_name)  # aanvaller kan eigen SQL injecteren\n</code></pre> Tabel- en viewnamen kunnen niet met <code>?</code> geparametriseerd worden. De veilige oplossing is een whitelist: <pre><code>ALLOWED_VIEWS = {\"vInStockProducts\"}\nif view_name not in ALLOWED_VIEWS:\n    raise ValueError(f\"Ongeldige viewnaam: {view_name}\")\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#view-met-filter","title":"View met filter","text":"<p>Je kunt de view ook filteren, net als een normale tabel:</p> <pre><code>def search_in_view(\n    view_name: str,\n    category_filter: str,\n    db_path: str = \"webshop.sqlite\"\n) -&gt; list[Row]:\n    \"\"\"Zoek in een view met extra filtering.\"\"\"\n    with sqlite3.connect(db_path) as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            f\"SELECT * FROM {view_name} WHERE category LIKE ?\",\n            (f\"%{category_filter}%\",)\n        )\n        return cursor.fetchall()\n\n# Gebruik\nelectronics = search_in_view(\"vInStockProducts\", \"Electronics\")\nprint(f\"\\nElectronics op voorraad ({len(electronics)} producten):\\n\")\nfor product in electronics[:5]:\n    print(f\"{product['product']}: \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre> <p>Output:</p> <pre><code>Electronics op voorraad (15 producten):\n\nBluetooth Headphones Sony: \u20ac149.99 (18 op voorraad)\nExternal SSD 1TB: \u20ac89.99 (40 op voorraad)\nGaming Controller Xbox: \u20ac59.99 (20 op voorraad)\nHDMI Cable 2m: \u20ac12.99 (60 op voorraad)\nKeyboard Mechanical: \u20ac119.99 (22 op voorraad)\n</code></pre> <p>Views bekijken</p> <p>Je kunt alle views in de database opvragen: </p><pre><code>cursor = conn.execute(\"\"\"\n    SELECT name, sql\n    FROM sqlite_master\n    WHERE type='view'\n\"\"\")\n</code></pre><p></p>"},{"location":"week3/sql-deel3.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Database structuur inspecteren met <code>sqlite_master</code></li> <li>JOINs gebruiken om meerdere tabellen te combineren</li> <li>JOIN tussen products en categories</li> <li>WHERE clausules combineren met JOINs</li> <li>Aggregatiefuncties zoals <code>COUNT()</code>, <code>AVG()</code>, <code>SUM()</code> met <code>GROUP BY</code></li> <li>LIKE operator voor tekst zoeken met wildcards</li> <li>LEFT JOIN vs JOIN voor inclusieve queries</li> <li>Views maken en gebruiken (optioneel)</li> <li>Placeholders gebruiken voor SQL injection preventie</li> </ul> <p>Volgende stap: Deel 4 - Complete database class.</p> <p>Oefening: Maak nu oefening 1.</p>"},{"location":"week3/sql-deel4.html","title":"Complete Database Class: WebshopDatabase","text":""},{"location":"week3/sql-deel4.html#complete-database-class-webshopdatabase","title":"Complete Database Class: WebshopDatabase","text":"<p>In de vorige delen heb je afzonderlijke functies gezien voor database operaties. Nu gaan we alles combineren in een database class - een moderne, herbruikbare oplossing voor het werken met de webshop database.</p>"},{"location":"week3/sql-deel4.html#waarom-een-database-class","title":"Waarom een database class?","text":"<p>Een database class biedt verschillende voordelen:</p> <ul> <li>Encapsulation: Alle database logica op \u00e9\u00e9n plek</li> <li>Herbruikbaarheid: Makkelijk te gebruiken in verschillende scripts</li> <li>Consistency: Altijd dezelfde patterns (context managers, placeholders, etc.)</li> <li>Onderhoudbaarheid: Aanpassingen hoef je maar op \u00e9\u00e9n plek te maken</li> </ul>"},{"location":"week3/sql-deel4.html#de-complete-webshopdatabase-class","title":"De complete WebshopDatabase class","text":"<p>Hier is een complete implementatie met alle patterns die je tot nu toe hebt geleerd:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\n\nclass WebshopDatabase:\n    \"\"\"Database manager voor de webshop.sqlite database.\n\n    Deze class biedt methoden voor het ophalen van categorie\u00ebn en producten\n    uit de webshop database, inclusief JOIN queries en statistieken.\n\n    Attributes:\n        db_path (str): Pad naar de SQLite database file.\n    \"\"\"\n\n    def __init__(self, db_path: str = \"webshop.sqlite\"):\n        \"\"\"Initialiseer de database manager.\n\n        Args:\n            db_path: Pad naar de database file (default: \"webshop.sqlite\")\n        \"\"\"\n        self.db_path = db_path\n\n    def _get_connection(self) -&gt; sqlite3.Connection:\n        \"\"\"Maak database connectie met row_factory ingesteld.\n\n        Returns:\n            sqlite3.Connection: Database connectie object\n        \"\"\"\n        conn = sqlite3.connect(self.db_path)\n        conn.row_factory = Row\n        return conn\n\n    # ==================== CATEGORIES ====================\n\n    def get_all_categories(self, order_by: str = \"name\") -&gt; list[Row]:\n        \"\"\"Haal alle categorie\u00ebn op, gesorteerd.\n\n        Args:\n            order_by: Kolom om op te sorteren: \"id\" of \"name\" (default: \"name\")\n\n        Returns:\n            Lijst met alle categorie\u00ebn\n        \"\"\"\n        valid_columns = {\"id\", \"name\"}\n        if order_by not in valid_columns:\n            order_by = \"name\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(f\"SELECT * FROM categories ORDER BY {order_by}\")\n            return cursor.fetchall()\n\n    def get_category_by_id(self, category_id: int) -&gt; Row | None:\n        \"\"\"Haal \u00e9\u00e9n categorie op op basis van ID.\n\n        Args:\n            category_id: ID van de categorie\n\n        Returns:\n            Categorie record of None als niet gevonden\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM categories WHERE id = ?\",\n                (category_id,)\n            )\n            return cursor.fetchone()\n\n    def search_categories(self, search_term: str) -&gt; list[Row]:\n        \"\"\"Zoek categorie\u00ebn op basis van naam.\n\n        Args:\n            search_term: Zoekterm voor categorie naam\n\n        Returns:\n            Lijst met matchende categorie\u00ebn\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM categories WHERE name LIKE ? ORDER BY name\",\n                (f\"%{search_term}%\",)\n            )\n            return cursor.fetchall()\n\n    # ==================== PRODUCTS ====================\n\n    def get_all_products(self) -&gt; list[Row]:\n        \"\"\"Haal alle producten op met categorie informatie.\"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    p.id,\n                    p.name AS product,\n                    p.price,\n                    p.stock,\n                    c.name AS category\n                FROM products p\n                JOIN categories c ON p.category_id = c.id\n                ORDER BY c.name, p.name\n            \"\"\")\n            return cursor.fetchall()\n\n    def get_product_by_id(self, product_id: int) -&gt; Row | None:\n        \"\"\"Haal \u00e9\u00e9n product op op basis van ID.\n\n        Args:\n            product_id: ID van het product\n\n        Returns:\n            Product record of None als niet gevonden\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM products WHERE id = ?\",\n                (product_id,)\n            )\n            return cursor.fetchone()\n\n    def get_products_by_category(self, category_id: int) -&gt; list[Row]:\n        \"\"\"Haal alle producten op van een specifieke categorie.\n\n        Args:\n            category_id: ID van de categorie\n\n        Returns:\n            Lijst met producten van deze categorie\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM products WHERE category_id = ? ORDER BY name\",\n                (category_id,)\n            )\n            return cursor.fetchall()\n\n    def search_products(self, search_term: str) -&gt; list[Row]:\n        \"\"\"Zoek producten inclusief categorie informatie.\n\n        Args:\n            search_term: Zoekterm voor product naam\n\n        Returns:\n            Lijst met matchende producten met volledige informatie\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    c.name AS category,\n                    p.name AS product,\n                    p.price,\n                    p.stock,\n                    p.id\n                FROM products p\n                JOIN categories c ON p.category_id = c.id\n                WHERE p.name LIKE ?\n                ORDER BY c.name, p.name\n            \"\"\", (f\"%{search_term}%\",))\n            return cursor.fetchall()\n\n    def get_products_in_price_range(\n        self,\n        min_price: float,\n        max_price: float\n    ) -&gt; list[Row]:\n        \"\"\"Haal producten op binnen een prijsrange.\n\n        Args:\n            min_price: Minimale prijs\n            max_price: Maximale prijs\n\n        Returns:\n            Lijst met producten in de prijsrange\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    c.name AS category,\n                    p.name AS product,\n                    p.price,\n                    p.stock\n                FROM products p\n                JOIN categories c ON p.category_id = c.id\n                WHERE p.price BETWEEN ? AND ?\n                ORDER BY p.price ASC\n            \"\"\", (min_price, max_price))\n            return cursor.fetchall()\n\n    def get_products_in_stock(self, min_stock: int = 1) -&gt; list[Row]:\n        \"\"\"Haal producten op die op voorraad zijn.\n\n        Args:\n            min_stock: Minimale voorraad (default: 1)\n\n        Returns:\n            Lijst met producten die op voorraad zijn\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    c.name AS category,\n                    p.name AS product,\n                    p.price,\n                    p.stock\n                FROM products p\n                JOIN categories c ON p.category_id = c.id\n                WHERE p.stock &gt;= ?\n                ORDER BY c.name, p.name\n            \"\"\", (min_stock,))\n            return cursor.fetchall()\n\n    # ==================== CATALOG ====================\n\n    def get_category_catalog(self, category_id: int) -&gt; dict:\n        \"\"\"Haal complete catalogus op voor een categorie.\n\n        Args:\n            category_id: ID van de categorie\n\n        Returns:\n            Dictionary met categorie info en alle producten\n        \"\"\"\n        category = self.get_category_by_id(category_id)\n        if not category:\n            return {}\n\n        products = self.get_products_by_category(category_id)\n\n        catalog = {\n            \"category\": category[\"name\"],\n            \"category_id\": category_id,\n            \"description\": category[\"description\"],\n            \"products\": [\n                {\n                    \"product_id\": product[\"id\"],\n                    \"name\": product[\"name\"],\n                    \"price\": product[\"price\"],\n                    \"stock\": product[\"stock\"],\n                    \"description\": product[\"description\"]\n                }\n                for product in products\n            ]\n        }\n\n        return catalog\n\n    # ==================== STATISTICS ====================\n\n    def get_statistics(self) -&gt; dict:\n        \"\"\"Haal database statistieken op.\n\n        Returns:\n            Dictionary met statistieken\n        \"\"\"\n        with self._get_connection() as conn:\n            stats = {}\n\n            # Tel categorie\u00ebn\n            cursor = conn.execute(\"SELECT COUNT(*) as count FROM categories\")\n            stats[\"total_categories\"] = cursor.fetchone()[\"count\"]\n\n            # Tel producten\n            cursor = conn.execute(\"SELECT COUNT(*) as count FROM products\")\n            stats[\"total_products\"] = cursor.fetchone()[\"count\"]\n\n            # Tel producten op voorraad\n            cursor = conn.execute(\"SELECT COUNT(*) as count FROM products WHERE stock &gt; 0\")\n            stats[\"products_in_stock\"] = cursor.fetchone()[\"count\"]\n\n            # Gemiddelde prijs\n            cursor = conn.execute(\"SELECT AVG(price) as avg_price FROM products\")\n            stats[\"average_price\"] = cursor.fetchone()[\"avg_price\"]\n\n            # Totale voorraad waarde\n            cursor = conn.execute(\"SELECT SUM(price * stock) as total_value FROM products\")\n            stats[\"total_inventory_value\"] = cursor.fetchone()[\"total_value\"]\n\n            return stats\n\n    def get_category_statistics(self) -&gt; list[Row]:\n        \"\"\"Haal statistieken op per categorie.\n\n        Returns:\n            Lijst met statistieken per categorie\n        \"\"\"\n        with self._get_connection() as conn:\n            cursor = conn.execute(\"\"\"\n                SELECT\n                    c.name AS category,\n                    COUNT(p.id) AS product_count,\n                    AVG(p.price) AS avg_price,\n                    SUM(p.stock) AS total_stock,\n                    SUM(p.price * p.stock) AS inventory_value\n                FROM categories c\n                LEFT JOIN products p ON c.id = p.category_id\n                GROUP BY c.id, c.name\n                ORDER BY product_count DESC\n            \"\"\")\n            return cursor.fetchall()\n\n\n# ==================== GEBRUIK ====================\n\nif __name__ == \"__main__\":\n    db = WebshopDatabase()\n\n    # Toon statistieken\n    stats = db.get_statistics()\n    print(\"=== Webshop Database Statistics ===\")\n    print(f\"Categorie\u00ebn: {stats['total_categories']}\")\n    print(f\"Producten: {stats['total_products']}\")\n    print(f\"Op voorraad: {stats['products_in_stock']}\")\n    print(f\"Gemiddelde prijs: \u20ac{stats['average_price']:.2f}\")\n    print(f\"Totale voorraad waarde: \u20ac{stats['total_inventory_value']:.2f}\\n\")\n\n    # Categorie statistieken\n    print(\"=== Statistieken per categorie ===\")\n    cat_stats = db.get_category_statistics()\n    for cat in cat_stats[:5]:\n        print(f\"{cat['category']}: {cat['product_count']} producten, \"\n              f\"gemiddeld \u20ac{cat['avg_price']:.2f}, \"\n              f\"voorraad: {cat['total_stock']}\")\n\n    print()\n\n    # Haal complete catalogus op\n    print(\"=== Electronics Catalogus (category_id=1) ===\")\n    catalog = db.get_category_catalog(1)\n    if catalog:\n        print(f\"Categorie: {catalog['category']}\")\n        print(f\"Beschrijving: {catalog['description']}\\n\")\n        for product in catalog[\"products\"][:5]:  # Toon eerste 5\n            print(f\"  {product['name']}: \u20ac{product['price']} ({product['stock']} op voorraad)\")\n        print()\n\n    # Zoek producten\n    print(\"=== Producten met 'book' in de naam ===\")\n    products = db.search_products(\"book\")\n    for product in products[:5]:  # Toon eerste 5\n        print(f\"{product['category']}: {product['product']} - \u20ac{product['price']}\")\n\n    print()\n\n    # Prijsrange\n    print(\"=== Producten tussen \u20ac10 en \u20ac30 ===\")\n    products = db.get_products_in_price_range(10.0, 30.0)\n    for product in products[:5]:\n        print(f\"{product['product']}: \u20ac{product['price']}\")\n</code></pre>"},{"location":"week3/sql-deel4.html#gebruik-van-de-class","title":"Gebruik van de class","text":""},{"location":"week3/sql-deel4.html#basis-gebruik","title":"Basis gebruik","text":"<pre><code># Maak een database instance\ndb = WebshopDatabase()\n\n# Haal alle categorie\u00ebn op\ncategories = db.get_all_categories()\nfor category in categories:\n    print(f\"{category['id']}: {category['name']}\")\n\n# Zoek specifiek\nlaptop_products = db.search_products(\"laptop\")\nfor product in laptop_products:\n    print(f\"{product['product']}: \u20ac{product['price']}\")\n</code></pre>"},{"location":"week3/sql-deel4.html#catalogus-ophalen","title":"Catalogus ophalen","text":"<pre><code># Haal alle producten op voor een categorie\ncatalog = db.get_category_catalog(category_id=2)  # Books\n\nprint(f\"Categorie: {catalog['category']}\")\nprint(f\"Beschrijving: {catalog['description']}\\n\")\n\nfor product in catalog['products']:\n    print(f\"  {product['name']}: \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre>"},{"location":"week3/sql-deel4.html#eigen-database-pad","title":"Eigen database pad","text":"<pre><code># Gebruik een andere database file\ndb = WebshopDatabase(\"path/to/other/webshop.sqlite\")\n</code></pre>"},{"location":"week3/sql-deel4.html#design-patterns-in-de-class","title":"Design patterns in de class","text":"<p>Deze class demonstreert verschillende belangrijke patterns:</p>"},{"location":"week3/sql-deel4.html#1-private-helper-method","title":"1. Private helper method","text":"<pre><code>def _get_connection(self) -&gt; sqlite3.Connection:\n    \"\"\"Helper method die niet bedoeld is voor extern gebruik.\"\"\"\n    # ...\n</code></pre> <p>De underscore <code>_</code> geeft aan dat dit een interne method is.</p>"},{"location":"week3/sql-deel4.html#2-type-hints-overal","title":"2. Type hints overal","text":"<pre><code>def get_product_by_id(self, product_id: int) -&gt; Row | None:\n    #                              \u2191 input type    \u2191 return type\n</code></pre>"},{"location":"week3/sql-deel4.html#3-docstrings-met-args-en-returns","title":"3. Docstrings met Args en Returns","text":"<pre><code>def search_products(self, search_term: str) -&gt; list[Row]:\n    \"\"\"Zoek producten op basis van naam.\n\n    Args:\n        search_term: Zoekterm voor product naam\n\n    Returns:\n        Lijst met matchende producten\n    \"\"\"\n</code></pre>"},{"location":"week3/sql-deel4.html#4-context-managers","title":"4. Context managers","text":"<pre><code>with self._get_connection() as conn:\n    # Gebruik connection\n    # Automatische cleanup\n</code></pre>"},{"location":"week3/sql-deel4.html#5-placeholders-tegen-sql-injection","title":"5. Placeholders tegen SQL injection","text":"<pre><code>cursor.execute(\n    \"SELECT * FROM products WHERE name LIKE ?\",\n    (f\"%{search_term}%\",)  # Veilig!\n)\n</code></pre>"},{"location":"week3/sql-deel4.html#uitbreidingen-optioneel","title":"Uitbreidingen (optioneel)","text":"<p>Je kunt de class uitbreiden met extra functionaliteit:</p>"},{"location":"week3/sql-deel4.html#data-toevoegen","title":"Data toevoegen","text":"<pre><code>def add_product(\n    self,\n    name: str,\n    price: float,\n    stock: int,\n    category_id: int,\n    description: str | None = None\n) -&gt; int:\n    \"\"\"Voeg een nieuw product toe.\"\"\"\n    with self._get_connection() as conn:\n        cursor = conn.execute(\n            \"\"\"INSERT INTO products (name, price, stock, category_id, description)\n               VALUES (?, ?, ?, ?, ?)\"\"\",\n            (name, price, stock, category_id, description)\n        )\n        conn.commit()\n        return cursor.lastrowid\n</code></pre>"},{"location":"week3/sql-deel4.html#data-wijzigen","title":"Data wijzigen","text":"<pre><code>def update_stock(self, product_id: int, new_stock: int) -&gt; bool:\n    \"\"\"Update de voorraad van een product.\"\"\"\n    with self._get_connection() as conn:\n        cursor = conn.execute(\n            \"UPDATE products SET stock = ? WHERE id = ?\",\n            (new_stock, product_id)\n        )\n        conn.commit()\n        return cursor.rowcount &gt; 0\n</code></pre>"},{"location":"week3/sql-deel4.html#error-handling","title":"Error handling","text":"<pre><code>def get_product_by_id(self, product_id: int) -&gt; Row | None:\n    \"\"\"Haal product op met error handling.\"\"\"\n    try:\n        with self._get_connection() as conn:\n            cursor = conn.execute(\n                \"SELECT * FROM products WHERE id = ?\",\n                (product_id,)\n            )\n            return cursor.fetchone()\n    except sqlite3.Error as e:\n        print(f\"Database error: {e}\")\n        return None\n</code></pre>"},{"location":"week3/sql-deel4.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Een complete database class bouwen</li> <li>Methods organiseren per entiteit (categories, products)</li> <li>Private helper methods gebruiken (<code>_get_connection</code>)</li> <li>Complexe data structuren returnen (catalogus dictionary)</li> <li>Statistieken berekenen met aggregatiefuncties</li> <li>Type hints en docstrings consequent toepassen</li> <li>Alle patterns combineren (context managers, placeholders, row_factory)</li> </ul> <p>Volgende stap: Deel 5 - SQL injection preventie.</p> <p>Deze class is een startpunt: je voegt zelf methoden toe voor de queries die jouw applicatie nodig heeft. Met SQLAlchemy schrijf je geen raw SQL meer, maar Python code die de queries automatisch genereert - dat zie je in week 6.</p>"},{"location":"week3/sql-deel5.html","title":"SQL Injection: Beveiliging","text":""},{"location":"week3/sql-deel5.html#sql-injection-beveiliging","title":"SQL Injection: Beveiliging","text":"<p>SQL injection is \u00e9\u00e9n van de meest voorkomende en gevaarlijkste beveiligingslekken in webapplicaties.</p> <p>OWASP Top 10</p> <p>SQL injection staat al jaren in de OWASP Top 10 van meest kritieke webapplicatie beveiligingsrisico's. Dit is essenti\u00eble kennis voor elke webdeveloper.</p>"},{"location":"week3/sql-deel5.html#wat-is-sql-injection","title":"Wat is SQL injection?","text":"<p>SQL injection is een aanval waarbij een kwaadwillende gebruiker SQL code injecteert via user input. Dit kan leiden tot:</p> <ul> <li>Data diefstal: Toegang tot alle data in de database</li> <li>Data verlies: Verwijderen van tabellen of records</li> <li>Ongeautoriseerde toegang: Inloggen als andere gebruikers</li> <li>Complete compromise: Overame van de database server</li> </ul>"},{"location":"week3/sql-deel5.html#voorbeeld-onveilige-code","title":"Voorbeeld: onveilige code","text":"<p>Stel je hebt een login functie die user input direct in SQL zet:</p> <pre><code>import sqlite3\n\ndef login_unsafe(username: str, password: str) -&gt; bool:\n    \"\"\"GEVAARLIJK - gebruik dit NOOIT!\"\"\"\n    conn = sqlite3.connect(\"users.db\")\n\n    # FOUT: f-string met user input in SQL!\n    query = f\"SELECT * FROM users WHERE username = '{username}' AND password = '{password}'\"\n\n    cursor = conn.execute(query)\n    user = cursor.fetchone()\n    conn.close()\n\n    return user is not None\n\n# Normale login\nresult = login_unsafe(\"jan\", \"geheim123\")  # Werkt normaal\n\n# SQL injection attack!\nresult = login_unsafe(\"admin' --\", \"whatever\")\n# Query wordt: SELECT * FROM users WHERE username = 'admin' --' AND password = 'whatever'\n# De -- maakt de rest commentaar, dus password check wordt overgeslagen!\n</code></pre> <p>De aanvaller kan nu inloggen als admin zonder het wachtwoord te weten!</p>"},{"location":"week3/sql-deel5.html#andere-aanvallen","title":"Andere aanvallen","text":"<p>SQL injection kan ook gebruikt worden voor:</p> <p>Data diefstal:</p> <pre><code># User input: ' OR '1'='1\nquery = f\"SELECT * FROM users WHERE username = '{user_input}'\"\n# Wordt: SELECT * FROM users WHERE username = '' OR '1'='1'\n# Dit returnt ALLE gebruikers!\n</code></pre> <p>Data vernietiging:</p> <pre><code># User input: '; DROP TABLE users; --\nquery = f\"DELETE FROM messages WHERE id = {messageid}\"\n# Zou kunnen worden: DELETE FROM messages WHERE id = 1; DROP TABLE users; --\n# (Dit werkt gelukkig niet altijd, maar het risico bestaat)\n</code></pre>"},{"location":"week3/sql-deel5.html#de-oplossing-placeholders","title":"De oplossing: placeholders","text":"<p>Je hebt de oplossing al gezien in eerdere delen: placeholders (<code>?</code>). Dit is de enige veilige manier om user input in SQL te gebruiken.</p>"},{"location":"week3/sql-deel5.html#veilige-login-functie","title":"Veilige login functie","text":"<pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef login_safe(username: str, password: str) -&gt; bool:\n    \"\"\"Veilige login met placeholders.\"\"\"\n    with sqlite3.connect(\"users.db\") as conn:\n        conn.row_factory = Row\n\n        # VEILIG: gebruik placeholders!\n        cursor = conn.execute(\n            \"SELECT * FROM users WHERE username = ? AND password = ?\",\n            (username, password)\n        )\n\n        user = cursor.fetchone()\n        return user is not None\n\n# Normale login werkt\nresult = login_safe(\"jan\", \"geheim123\")\n\n# SQL injection attack wordt onschadelijk gemaakt\nresult = login_safe(\"admin' --\", \"whatever\")\n# De ' wordt ge\u00ebscaped, wordt gezocht naar username \"admin' --\"\n# Geen gevaar!\n</code></pre>"},{"location":"week3/sql-deel5.html#waarom-placeholders-veilig-zijn","title":"Waarom placeholders veilig zijn","text":"<p>Placeholders zorgen voor automatische escaping van speciale karakters:</p> <pre><code>def search_users_safe(search_term: str) -&gt; list[Row]:\n    \"\"\"Zoek gebruikers veilig.\"\"\"\n    with sqlite3.connect(\"users.db\") as conn:\n        conn.row_factory = Row\n\n        # Gevaarlijke input wordt automatisch ge\u00ebscaped\n        cursor = conn.execute(\n            \"SELECT * FROM users WHERE username LIKE ?\",\n            (f\"%{search_term}%\",)\n        )\n\n        return cursor.fetchall()\n\n# SQL injection poging\nusers = search_users_safe(\"'; DROP TABLE users; --\")\n# Zoekt letterlijk naar de string \"'; DROP TABLE users; --\"\n# Geen SQL code executie!\n</code></pre> <p>De database driver escapet automatisch:</p> <ul> <li>Enkele quotes (<code>'</code>) \u2192 <code>\\'</code></li> <li>Dubbele quotes (<code>\"</code>) \u2192 <code>\\\"</code></li> <li>Puntkomma's (<code>;</code>)</li> <li>Backslashes (<code>\\</code>)</li> </ul>"},{"location":"week3/sql-deel5.html#common-mistakes-zelfs-met-placeholders","title":"Common mistakes (zelfs met placeholders!)","text":"<p>Er zijn een paar situaties waar placeholders niet werken. Pas hier extra op:</p>"},{"location":"week3/sql-deel5.html#1-tablecolumn-names","title":"1. Table/column names","text":"<p>Placeholders werken NIET voor tabel- of kolomnamen:</p> <pre><code># FOUT - dit werkt niet!\ntable_name = \"products\"\ncursor.execute(\"SELECT * FROM ?\", (table_name,))  # ERROR\n\n# Oplossing: whitelist validatie\nALLOWED_TABLES = [\"categories\", \"products\"]\n\ndef get_all_from_table(table_name: str) -&gt; list[Row]:\n    \"\"\"Haal data op met veilige tabel selectie.\"\"\"\n    if table_name not in ALLOWED_TABLES:\n        raise ValueError(f\"Invalid table: {table_name}\")\n\n    with sqlite3.connect(\"webshop.sqlite\") as conn:\n        conn.row_factory = Row\n        # Nu is f-string veilig omdat we gevalideerd hebben\n        cursor = conn.execute(f\"SELECT * FROM {table_name}\")\n        return cursor.fetchall()\n</code></pre>"},{"location":"week3/sql-deel5.html#2-order-by-direction","title":"2. ORDER BY direction","text":"<pre><code># FOUT - ORDER BY richting kan niet als placeholder\ncursor.execute(\"SELECT * FROM products ORDER BY price ?\", (\"DESC\",))  # ERROR\n\n# Oplossing: valideer input\ndef get_products_sorted(desc: bool = False) -&gt; list[Row]:\n    \"\"\"Haal producten gesorteerd op.\"\"\"\n    # Controleer zelf welke waarde er komt\n    order = \"DESC\" if desc else \"ASC\"\n\n    with sqlite3.connect(\"webshop.sqlite\") as conn:\n        conn.row_factory = Row\n        # Nu is f-string veilig\n        cursor = conn.execute(f\"SELECT * FROM products ORDER BY price {order}\")\n        return cursor.fetchall()\n</code></pre>"},{"location":"week3/sql-deel5.html#3-limit-en-offset","title":"3. LIMIT en OFFSET","text":"<p>Deze werken meestal WEL als placeholders, maar niet in alle SQL databases:</p> <pre><code># SQLite: dit werkt\ndef get_products_paginated(limit: int, offset: int) -&gt; list[Row]:\n    \"\"\"Paginatie met placeholders (veilig in SQLite).\"\"\"\n    with sqlite3.connect(\"webshop.sqlite\") as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            \"SELECT * FROM products LIMIT ? OFFSET ?\",\n            (limit, offset)\n        )\n        return cursor.fetchall()\n</code></pre>"},{"location":"week3/sql-deel5.html#volledige-veilige-database-class","title":"Volledige veilige database class","text":"<p>Hier is een complete voorbeeld met alle veilige patterns:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass ProductSearchDatabase:\n    \"\"\"Veilige product search database met SQL injection bescherming.\"\"\"\n\n    def __init__(self, db_path: str = \"webshop.sqlite\"):\n        self.db_path = db_path\n\n    def search_products(self, search_term: str) -&gt; list[Row]:\n        \"\"\"Zoek producten (veilig met placeholder in LIKE).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\"\"\"\n                SELECT p.id, p.name, p.price, p.stock, c.name AS category\n                FROM products p\n                JOIN categories c ON p.category_id = c.id\n                WHERE p.name LIKE ?\n                ORDER BY p.name\n            \"\"\", (f\"%{search_term}%\",))\n            return cursor.fetchall()\n\n    def get_products_by_price_range(\n        self,\n        min_price: float,\n        max_price: float\n    ) -&gt; list[Row]:\n        \"\"\"Haal producten op binnen prijsrange (veilig met placeholders).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\"\"\"\n                SELECT p.id, p.name, p.price, p.stock, c.name AS category\n                FROM products p\n                JOIN categories c ON p.category_id = c.id\n                WHERE p.price BETWEEN ? AND ?\n                ORDER BY p.price\n            \"\"\", (min_price, max_price))\n            return cursor.fetchall()\n\n    def update_stock(self, product_id: int, new_stock: int) -&gt; bool:\n        \"\"\"Update voorraad (veilig met placeholders).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"UPDATE products SET stock = ? WHERE id = ?\",\n                (new_stock, product_id)\n            )\n            conn.commit()\n            return cursor.rowcount &gt; 0\n\n    def get_products_in_category(self, category_id: int) -&gt; list[Row]:\n        \"\"\"Haal producten op per categorie (veilig met placeholder).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\n                \"SELECT * FROM products WHERE category_id = ? ORDER BY name\",\n                (category_id,)\n            )\n            return cursor.fetchall()\n\n\n# Gebruik (veilig tegen alle SQL injection pogingen)\ndb = ProductSearchDatabase()\n\n# Normale gebruik\nproducts = db.search_products(\"laptop\")\nfor product in products:\n    print(f\"{product['name']}: \u20ac{product['price']}\")\n\n# SQL injection pogingen worden onschadelijk gemaakt\ndangerous_products = db.search_products(\"'; DROP TABLE products; --\")\n# Zoekt letterlijk naar die string, geen SQL executie\nprint(f\"Gevonden {len(dangerous_products)} producten\")  # Waarschijnlijk 0\n\n# Veilig prijsfilter\naffordable = db.get_products_by_price_range(10.0, 50.0)\nfor product in affordable[:5]:\n    print(f\"{product['name']}: \u20ac{product['price']}\")\n</code></pre>"},{"location":"week3/sql-deel5.html#flask-en-sql-injection","title":"Flask en SQL injection","text":"<p>In Flask applicaties is SQL injection een groot risico omdat je direct met user input werkt:</p> <pre><code>from flask import Flask, request\nimport sqlite3\nfrom sqlite3 import Row\n\napp = Flask(__name__)\n\n@app.route('/search')\ndef search():\n    # User input komt uit URL parameters\n    query = request.args.get('q', '')\n\n    # GEVAARLIJK - NOOIT DOEN!\n    # results = conn.execute(f\"SELECT * FROM products WHERE name LIKE '%{query}%'\")\n\n    # VEILIG - altijd placeholders gebruiken\n    with sqlite3.connect(\"webshop.sqlite\") as conn:\n        conn.row_factory = Row\n        cursor = conn.execute(\n            \"SELECT * FROM products WHERE name LIKE ?\",\n            (f\"%{query}%\",)\n        )\n        results = cursor.fetchall()\n\n    return render_template('search.html', results=results)\n</code></pre>"},{"location":"week3/sql-deel5.html#best-practices-samenvatting","title":"Best practices samenvatting","text":"<p>DOE WEL:</p> <ul> <li>Gebruik altijd placeholders (<code>?</code>) voor values</li> <li>Gebruik context managers (<code>with</code>)</li> <li>Valideer input bij table/column names (whitelist)</li> <li>Gebruik type hints</li> <li>Test met bekende SQL injection strings</li> </ul> <p>DOE NIET:</p> <ul> <li>F-strings of string concatenatie met user input in SQL</li> <li>User input direct in SQL queries</li> <li><code>executescript()</code> met user input</li> <li>Vertrouwen op client-side validatie alleen</li> </ul>"},{"location":"week3/sql-deel5.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Wat SQL injection is en waarom het gevaarlijk is</li> <li>Placeholders gebruiken als enige veilige methode</li> <li>Common mistakes (table names, ORDER BY, etc.)</li> <li>Veilige patterns voor alle CRUD operaties</li> <li>Flask specifieke risico's en oplossingen</li> <li>Best practices voor veilige database code</li> </ul> <p>Volgende stap: Deel 6 - Database error handling.</p> <p>Oefening: Maak nu oefening 2 over SQL injection.</p> <p>Test je beveiliging</p> <p>Test je applicaties altijd met deze input strings: ```</p> <p>' OR '1'='1     ' OR '1'='1' --     '; DROP TABLE users; --     1' AND '1'='2     ```     Als deze niet gewoon als letterlijke strings behandeld worden, heb je een probleem!</p>"},{"location":"week3/sql-deel6.html","title":"Exception Handling bij Database Operaties","text":""},{"location":"week3/sql-deel6.html#exception-handling-bij-database-operaties","title":"Exception Handling bij Database Operaties","text":"<p>Bij het werken met databases kunnen allerlei fouten optreden: database niet gevonden, constraint violations, connection errors, etc.</p>"},{"location":"week3/sql-deel6.html#waarom-exception-handling-belangrijk-is","title":"Waarom exception handling belangrijk is","text":"<p>In productie Flask applicaties wil je nooit dat gebruikers stack traces te zien krijgen. In plaats daarvan:</p> <ul> <li>Vang fouten af met <code>try</code>/<code>except</code></li> <li>Log de fout voor debugging</li> <li>Toon een gebruiksvriendelijke foutmelding</li> <li>Blijf in een consistente staat (geen corrupte data)</li> </ul>"},{"location":"week3/sql-deel6.html#database-exceptions-in-sqlite","title":"Database exceptions in SQLite","text":"<p>SQLite heeft verschillende exception types die allemaal erven van <code>sqlite3.Error</code>:</p> <pre><code>import sqlite3\n\n# Basis exception types:\n# - sqlite3.Error (parent van alle database errors)\n# - sqlite3.IntegrityError (constraint violations: UNIQUE, NOT NULL, etc.)\n# - sqlite3.OperationalError (database locked, table not found, etc.)\n# - sqlite3.ProgrammingError (SQL syntax errors)\n</code></pre>"},{"location":"week3/sql-deel6.html#basic-exception-handling","title":"Basic exception handling","text":""},{"location":"week3/sql-deel6.html#voorbeeld-zonder-error-handling-slecht","title":"Voorbeeld zonder error handling (slecht)","text":"<pre><code>import sqlite3\n\ndef add_product_unsafe(name: str, price: float, stock: int, category_id: int) -&gt; int:\n    \"\"\"GEEN error handling - crasht bij fouten!\"\"\"\n    with sqlite3.connect(\"webshop.sqlite\") as conn:\n        cursor = conn.execute(\n            \"INSERT INTO products (name, price, stock, category_id) VALUES (?, ?, ?, ?)\",\n            (name, price, stock, category_id)\n        )\n        conn.commit()\n        return cursor.lastrowid\n\n# Dit crasht als product naam al bestaat (UNIQUE constraint)\nproductid = add_product_unsafe(\"Laptop HP\", 899.99, 10, 1)  # Werkt\nproductid = add_product_unsafe(\"Laptop HP\", 899.99, 10, 1)  # CRASH!\n# sqlite3.IntegrityError: UNIQUE constraint failed: products.name\n</code></pre>"},{"location":"week3/sql-deel6.html#voorbeeld-met-error-handling-goed","title":"Voorbeeld met error handling (goed)","text":"<pre><code>import sqlite3\nfrom sqlite3 import Row\n\ndef add_product_safe(name: str, price: float, stock: int, category_id: int) -&gt; int | None:\n    \"\"\"Met error handling - geeft None terug bij fout.\"\"\"\n    try:\n        with sqlite3.connect(\"webshop.sqlite\") as conn:\n            cursor = conn.execute(\n                \"INSERT INTO products (name, price, stock, category_id) VALUES (?, ?, ?, ?)\",\n                (name, price, stock, category_id)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    except sqlite3.IntegrityError as e:\n        # UNIQUE constraint violation\n        print(f\"Fout: product '{name}' bestaat al of ongeldige categorie\")\n        return None\n\n    except sqlite3.Error as e:\n        # Andere database fouten\n        print(f\"Database fout: {e}\")\n        return None\n\n# Gebruik\nproductid = add_product_safe(\"Laptop HP\", 899.99, 10, 1)\nif productid:\n    print(f\"Product aangemaakt met ID {productid}\")\nelse:\n    print(\"Product niet aangemaakt\")\n\n# Tweede keer - geen crash, netjes afgehandeld\nproductid = add_product_safe(\"Laptop HP\", 899.99, 10, 1)\nif productid:\n    print(f\"Product aangemaakt met ID {productid}\")\nelse:\n    print(\"Product niet aangemaakt\")  # Dit wordt geprint\n</code></pre>"},{"location":"week3/sql-deel6.html#specifieke-exceptions-afhandelen","title":"Specifieke exceptions afhandelen","text":""},{"location":"week3/sql-deel6.html#integrityerror-constraint-violations","title":"IntegrityError (constraint violations)","text":"<pre><code>def add_product(name: str, price: float, stock: int, category_id: int) -&gt; int | None:\n    \"\"\"Voeg product toe met constraint validation.\"\"\"\n    try:\n        with sqlite3.connect(\"webshop.sqlite\") as conn:\n            cursor = conn.execute(\n                \"INSERT INTO products (name, price, stock, category_id) VALUES (?, ?, ?, ?)\",\n                (name, price, stock, category_id)\n            )\n            conn.commit()\n            return cursor.lastrowid\n\n    except sqlite3.IntegrityError as e:\n        error_msg = str(e)\n\n        if \"UNIQUE\" in error_msg:\n            print(f\"Product '{name}' bestaat al\")\n        elif \"NOT NULL\" in error_msg:\n            print(f\"Verplichte velden mogen niet leeg zijn\")\n        elif \"FOREIGN KEY\" in error_msg:\n            print(f\"Ongeldige categorie ID: {category_id}\")\n        elif \"CHECK\" in error_msg:\n            print(f\"Ongeldige waarde (bijv. negatieve prijs of voorraad)\")\n        else:\n            print(f\"Database constraint error: {error_msg}\")\n\n        return None\n\n# Test\nadd_product(\"Laptop HP\", 899.99, 10, 1)  # Werkt\nadd_product(\"Laptop HP\", 799.99, 5, 1)   # Duplicate - netjes afgehandeld\nadd_product(\"\", 299.99, 2, 1)            # NOT NULL - netjes afgehandeld\nadd_product(\"Mouse\", 29.99, 10, 999)     # FOREIGN KEY - netjes afgehandeld\n</code></pre>"},{"location":"week3/sql-deel6.html#operationalerror-database-problemen","title":"OperationalError (database problemen)","text":"<pre><code>def get_all_products() -&gt; list[Row]:\n    \"\"\"Haal producten op met error handling.\"\"\"\n    try:\n        with sqlite3.connect(\"webshop.sqlite\") as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(\"SELECT * FROM products\")\n            return cursor.fetchall()\n\n    except sqlite3.OperationalError as e:\n        error_msg = str(e)\n\n        if \"no such table\" in error_msg:\n            print(\"Database tabel bestaat niet - run eerst create_webshop.py!\")\n            return []\n        elif \"locked\" in error_msg:\n            print(\"Database is locked - probeer later opnieuw\")\n            return []\n        else:\n            print(f\"Database error: {error_msg}\")\n            return []\n\n    except sqlite3.Error as e:\n        print(f\"Onverwachte database fout: {e}\")\n        return []\n\n# Gebruik\nproducts = get_all_products()\nif products:\n    for product in products:\n        print(f\"{product['name']}: \u20ac {product['price']}\")\nelse:\n    print(\"Geen producten gevonden (of fout opgetreden)\")\n</code></pre>"},{"location":"week3/sql-deel6.html#complete-database-class-met-error-handling","title":"Complete database class met error handling","text":"<p>Hier is een volledige class met exception handling:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\nimport logging\n\n# Setup logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\nclass ProductDatabase:\n    \"\"\"Product database met complete error handling.\"\"\"\n\n    def __init__(self, db_path: str = \"shop.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak products tabel aan.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                conn.execute(\"\"\"\n                    CREATE TABLE IF NOT EXISTS products (\n                        id INTEGER PRIMARY KEY AUTOINCREMENT,\n                        name TEXT NOT NULL UNIQUE,\n                        price REAL NOT NULL CHECK(price &gt; 0),\n                        stock INTEGER NOT NULL CHECK(stock &gt;= 0)\n                    )\n                \"\"\")\n                conn.commit()\n                logger.info(\"Products tabel aangemaakt\")\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij aanmaken tabel: {e}\")\n            raise  # Re-raise omdat dit een kritieke fout is\n\n    def add(self, name: str, price: float, stock: int) -&gt; int | None:\n        \"\"\"Voeg product toe met error handling.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                cursor = conn.execute(\n                    \"INSERT INTO products (name, price, stock) VALUES (?, ?, ?)\",\n                    (name, price, stock)\n                )\n                conn.commit()\n                productid = cursor.lastrowid\n                logger.info(f\"Product '{name}' toegevoegd met ID {productid}\")\n                return productid\n\n        except sqlite3.IntegrityError as e:\n            if \"UNIQUE\" in str(e):\n                logger.warning(f\"Product '{name}' bestaat al\")\n            elif \"CHECK\" in str(e):\n                logger.warning(f\"Ongeldige waarde voor '{name}': prijs={price}, stock={stock}\")\n            else:\n                logger.error(f\"Integrity error bij toevoegen '{name}': {e}\")\n            return None\n\n        except sqlite3.Error as e:\n            logger.error(f\"Database fout bij toevoegen '{name}': {e}\")\n            return None\n\n    def get_all(self) -&gt; list[Row]:\n        \"\"\"Haal alle producten op.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                conn.row_factory = Row\n                cursor = conn.execute(\"SELECT * FROM products ORDER BY name\")\n                return cursor.fetchall()\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij ophalen producten: {e}\")\n            return []\n\n    def get_byid(self, productid: int) -&gt; Row | None:\n        \"\"\"Haal \u00e9\u00e9n product op.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                conn.row_factory = Row\n                cursor = conn.execute(\n                    \"SELECT * FROM products WHERE id = ?\",\n                    (productid,)\n                )\n                return cursor.fetchone()\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij ophalen product {productid}: {e}\")\n            return None\n\n    def update_stock(self, productid: int, new_stock: int) -&gt; bool:\n        \"\"\"Update voorraad met validatie.\"\"\"\n        if new_stock &lt; 0:\n            logger.warning(f\"Negatieve voorraad niet toegestaan: {new_stock}\")\n            return False\n\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                cursor = conn.execute(\n                    \"UPDATE products SET stock = ? WHERE id = ?\",\n                    (new_stock, productid)\n                )\n                conn.commit()\n\n                if cursor.rowcount &gt; 0:\n                    logger.info(f\"Stock update voor product {productid}: {new_stock}\")\n                    return True\n                else:\n                    logger.warning(f\"Product {productid} niet gevonden\")\n                    return False\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij update stock voor product {productid}: {e}\")\n            return False\n\n    def delete(self, productid: int) -&gt; bool:\n        \"\"\"Verwijder product.\"\"\"\n        try:\n            with sqlite3.connect(self.db_path) as conn:\n                cursor = conn.execute(\n                    \"DELETE FROM products WHERE id = ?\",\n                    (productid,)\n                )\n                conn.commit()\n\n                if cursor.rowcount &gt; 0:\n                    logger.info(f\"Product {productid} verwijderd\")\n                    return True\n                else:\n                    logger.warning(f\"Product {productid} niet gevonden\")\n                    return False\n\n        except sqlite3.Error as e:\n            logger.error(f\"Fout bij verwijderen product {productid}: {e}\")\n            return False\n\n\n# Gebruik\ndb = ProductDatabase()\n\n# Succesvol toevoegen\nproductid = db.add(\"Laptop\", 799.99, 10)\nif productid:\n    print(f\"Product toegevoegd met ID {productid}\")\n\n# Duplicate - wordt netjes afgevangen\nduplicateid = db.add(\"Laptop\", 899.99, 5)\nif not duplicateid:\n    print(\"Product niet toegevoegd (bestaat al)\")\n\n# Ongeldige waarde - wordt netjes afgevangen\ninvalidid = db.add(\"Monitor\", -50.00, 3)  # Negatieve prijs\nif not invalidid:\n    print(\"Product niet toegevoegd (ongeldige prijs)\")\n\n# Stock update\nif db.update_stock(1, 15):\n    print(\"Stock bijgewerkt\")\n\n# Haal alle producten op\nproducts = db.get_all()\nfor product in products:\n    print(f\"{product['name']}: \u20ac{product['price']} ({product['stock']} op voorraad)\")\n</code></pre>"},{"location":"week3/sql-deel6.html#flask-specifieke-error-handling","title":"Flask specifieke error handling","text":"<p>In Flask wil je errors netjes afhandelen voor gebruikers:</p> <pre><code>from flask import Flask, jsonify, request\nimport sqlite3\nimport logging\n\napp = Flask(__name__)\nlogger = logging.getLogger(__name__)\n\n\n@app.route('/products', methods=['POST'])\ndef add_product():\n    \"\"\"Voeg product toe via API.\"\"\"\n    data = request.get_json()\n\n    try:\n        name = data['name']\n        price = float(data['price'])\n        stock = int(data['stock'])\n\n        db = ProductDatabase()\n        productid = db.add(name, price, stock)\n\n        if productid:\n            return jsonify({\n                'success': True,\n                'id': productid,\n                'message': f'Product {name} toegevoegd'\n            }), 201\n        else:\n            return jsonify({\n                'success': False,\n                'message': 'Product kon niet worden toegevoegd (mogelijk duplicate)'\n            }), 400\n\n    except KeyError as e:\n        return jsonify({\n            'success': False,\n            'message': f'Ontbrekend veld: {e}'\n        }), 400\n\n    except ValueError as e:\n        return jsonify({\n            'success': False,\n            'message': f'Ongeldige waarde: {e}'\n        }), 400\n\n    except Exception as e:\n        logger.error(f\"Onverwachte fout: {e}\")\n        return jsonify({\n            'success': False,\n            'message': 'Server error'\n        }), 500\n\n\n@app.route('/products/&lt;int:productid&gt;')\ndef get_product(productid):\n    \"\"\"Haal product op via API.\"\"\"\n    try:\n        db = ProductDatabase()\n        product = db.get_byid(productid)\n\n        if product:\n            return jsonify({\n                'success': True,\n                'product': dict(product)\n            })\n        else:\n            return jsonify({\n                'success': False,\n                'message': 'Product niet gevonden'\n            }), 404\n\n    except Exception as e:\n        logger.error(f\"Fout bij ophalen product {productid}: {e}\")\n        return jsonify({\n            'success': False,\n            'message': 'Server error'\n        }), 500\n</code></pre>"},{"location":"week3/sql-deel6.html#best-practices","title":"Best practices","text":"<p>DOE WEL:</p> <ul> <li>Gebruik specifieke exceptions (<code>IntegrityError</code>, <code>OperationalError</code>)</li> <li>Log errors voor debugging (<code>logging.error()</code>)</li> <li>Return None of lege lijst bij fouten (geen crash)</li> <li>Gebruik type hints (<code>int | None</code>, <code>list[Row]</code>)</li> <li>Test error paths (wat gebeurt bij duplicates?)</li> </ul> <p>DOE NIET:</p> <ul> <li>Bare <code>except:</code> zonder exception type</li> <li>Fouten negeren (silent failures)</li> <li>Stack traces tonen aan gebruikers</li> <li>Exceptions gebruiken voor flow control</li> <li>Sensitive info in error messages (geen SQL queries!)</li> </ul>"},{"location":"week3/sql-deel6.html#common-patterns","title":"Common patterns","text":""},{"location":"week3/sql-deel6.html#pattern-1-try-except-met-return","title":"Pattern 1: Try-except met return","text":"<pre><code>def safe_operation() -&gt; Row | None:\n    \"\"\"Veilige operatie die Row of None teruggeeft.\"\"\"\n    try:\n        # Database operatie\n        return result\n    except sqlite3.Error as e:\n        logger.error(f\"Fout: {e}\")\n        return None\n</code></pre>"},{"location":"week3/sql-deel6.html#pattern-2-try-except-met-boolean","title":"Pattern 2: Try-except met boolean","text":"<pre><code>def safe_update() -&gt; bool:\n    \"\"\"Update met success boolean.\"\"\"\n    try:\n        # Update operatie\n        return True\n    except sqlite3.Error as e:\n        logger.error(f\"Fout: {e}\")\n        return False\n</code></pre>"},{"location":"week3/sql-deel6.html#pattern-3-try-except-met-default-waarde","title":"Pattern 3: Try-except met default waarde","text":"<pre><code>def get_count() -&gt; int:\n    \"\"\"Haal count op, return 0 bij fout.\"\"\"\n    try:\n        # Count query\n        return count\n    except sqlite3.Error as e:\n        logger.error(f\"Fout: {e}\")\n        return 0\n</code></pre>"},{"location":"week3/sql-deel6.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Database-specifieke exceptions (<code>IntegrityError</code>, <code>OperationalError</code>)</li> <li>Try-except patterns voor veilige database operaties</li> <li>Logging voor debugging (niet print!)</li> <li>Return types die fouten aangeven (<code>None</code>, <code>False</code>, empty list)</li> <li>Flask error handling voor API's</li> <li>Best practices voor production code</li> </ul> <p>Tip: Test altijd je error handling! Probeer bewust fouten te veroorzaken (duplicates, missing tables, etc.) om te zien of je code netjes reageert.</p> <p>Volgende stap: Je hebt nu alle SQLite basics! Met deze patterns kun je veilig databases gebruiken in Flask applicaties.</p>"},{"location":"week3/oefeningen/sql-oefening1.html","title":"Oefening 1: CRUD Operaties met Python","text":""},{"location":"week3/oefeningen/sql-oefening1.html#oefening-1-crud-operaties-met-python","title":"Oefening 1: CRUD Operaties met Python","text":"<p>CRUD staat voor Create, Read, Update, Delete: de vier basisbewerkingen op een database.</p> <p>Deze oefening past bij SQL Deel 2 en Deel 3.</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-1-database-en-tabel-aanmaken","title":"Opgave 1: Database en Tabel Aanmaken","text":"<p>Maak een Python bestand <code>bedrijf_db.py</code> en maak een database class:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass BedrijfDatabase:\n    \"\"\"Database voor bedrijfsgegevens.\"\"\"\n\n    def __init__(self, db_path: str = \"bedrijf.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak bedrijf tabel aan met constraints.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS bedrijf (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    naam TEXT NOT NULL,\n                    plaats TEXT NOT NULL,\n                    salaris REAL NOT NULL CHECK(salaris &gt; 0)\n                )\n            \"\"\")\n            conn.commit()\n</code></pre> <p>Vraag: Waarom gebruiken we <code>CHECK(salaris &gt; 0)</code>?</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-2-data-toevoegen","title":"Opgave 2: Data Toevoegen","text":"<p>Voeg een method toe om werknemers toe te voegen:</p> <pre><code>def add_werknemer(self, naam: str, plaats: str, salaris: float) -&gt; int | None:\n    \"\"\"Voeg werknemer toe.\"\"\"\n    # TODO: Implementeer deze method\n    # - Gebruik placeholders\n    # - Return lastrowid bij succes\n    # - Return None bij fout (try/except)\n    pass\n</code></pre> <p>Test je code door deze 4 werknemers toe te voegen:</p> ID Naam Plaats Salaris 1 Aad Amsterdam 60000 2 Bea Berlijn 70000 3 Coen Cairo 65000 4 Daphne Dortmund 65000 <p>Tip: Je hoeft de ID niet mee te geven - die wordt automatisch gegenereerd (AUTOINCREMENT).</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-3-data-ophalen","title":"Opgave 3: Data Ophalen","text":"<p>Voeg een method toe om alle werknemers op te halen:</p> <pre><code>def get_all(self) -&gt; list[Row]:\n    \"\"\"Haal alle werknemers op.\"\"\"\n    # TODO: Implementeer deze method\n    # - Gebruik with statement\n    # - Gebruik row_factory = Row\n    # - ORDER BY naam\n    pass\n</code></pre> <p>Voeg ook een method toe om \u00e9\u00e9n werknemer op ID op te halen:</p> <pre><code>def get_byid(self, werknemerid: int) -&gt; Row | None:\n    \"\"\"Haal \u00e9\u00e9n werknemer op.\"\"\"\n    # TODO: Implementeer deze method\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-4-data-wijzigen","title":"Opgave 4: Data Wijzigen","text":"<p>Voeg methods toe voor UPDATE operaties:</p> <pre><code>def update_salaris(self, werknemerid: int, nieuw_salaris: float) -&gt; bool:\n    \"\"\"Update salaris van een werknemer.\"\"\"\n    # TODO: Implementeer deze method\n    # - Return True bij succes\n    # - Return False bij fout of niet gevonden\n    pass\n\ndef update_naam(self, werknemerid: int, nieuwe_naam: str) -&gt; bool:\n    \"\"\"Update naam van een werknemer.\"\"\"\n    # TODO: Implementeer deze method\n    pass\n</code></pre> <p>Test je code:</p> <ul> <li>Wijzig het salaris van Aad (ID 1) naar 90000</li> <li>Wijzig de naam van Bea (ID 2) naar \"Beatrix\"</li> <li>Print telkens alle werknemers om te verifi\u00ebren</li> </ul>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-5-data-verwijderen","title":"Opgave 5: Data Verwijderen","text":"<p>Voeg een method toe om een werknemer te verwijderen:</p> <pre><code>def delete(self, werknemerid: int) -&gt; bool:\n    \"\"\"Verwijder een werknemer.\"\"\"\n    # TODO: Implementeer deze method\n    pass\n</code></pre> <p>Test door Beatrix (ID 2) te verwijderen.</p>"},{"location":"week3/oefeningen/sql-oefening1.html#opgave-6-gebruik-de-class","title":"Opgave 6: Gebruik de Class","text":"<p>Schrijf een <code>main()</code> functie die alle operaties demonstreert:</p> <pre><code>def main():\n    db = BedrijfDatabase()\n\n    # Voeg werknemers toe\n    print(\"=== Toevoegen ===\")\n    werknemers = [\n        (\"Aad\", \"Amsterdam\", 60000),\n        (\"Bea\", \"Berlijn\", 70000),\n        (\"Coen\", \"Cairo\", 65000),\n        (\"Daphne\", \"Dortmund\", 65000)\n    ]\n\n    for naam, plaats, salaris in werknemers:\n        werknemerid = db.add_werknemer(naam, plaats, salaris)\n        print(f\"{naam} toegevoegd met ID {werknemerid}\")\n\n    # TODO: Implementeer de rest\n    # - Toon alle werknemers\n    # - Update salaris van Aad\n    # - Update naam van Bea\n    # - Verwijder Beatrix\n    # - Toon finale lijst\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#bonusopdracht-statistieken","title":"Bonusopdracht: Statistieken","text":"<p>Voeg methods toe voor statistieken:</p> <pre><code>def get_gemiddeld_salaris(self) -&gt; float:\n    \"\"\"Bereken gemiddeld salaris.\"\"\"\n    with sqlite3.connect(self.db_path) as conn:\n        cursor = conn.execute(\"SELECT AVG(salaris) as avg_salaris FROM bedrijf\")\n        result = cursor.fetchone()\n        return result[0] if result[0] else 0.0\n\ndef get_werknemers_per_plaats(self) -&gt; list[Row]:\n    \"\"\"Tel werknemers per plaats.\"\"\"\n    # TODO: Gebruik GROUP BY\n    pass\n\ndef get_hoogste_salaris(self) -&gt; Row | None:\n    \"\"\"Vind werknemer met hoogste salaris.\"\"\"\n    # TODO: Gebruik ORDER BY ... DESC LIMIT 1\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#verwachte-output","title":"Verwachte Output","text":"<pre><code>=== Toevoegen ===\nAad toegevoegd met ID 1\nBea toegevoegd met ID 2\nCoen toegevoegd met ID 3\nDaphne toegevoegd met ID 4\n\n=== Alle Werknemers ===\n1: Aad (Amsterdam) - \u20ac60000.00\n2: Bea (Berlijn) - \u20ac70000.00\n3: Coen (Cairo) - \u20ac65000.00\n4: Daphne (Dortmund) - \u20ac65000.00\n\n=== Na Updates ===\n1: Aad (Amsterdam) - \u20ac90000.00\n2: Beatrix (Berlijn) - \u20ac70000.00\n3: Coen (Cairo) - \u20ac65000.00\n4: Daphne (Dortmund) - \u20ac65000.00\n\n=== Na Verwijderen ===\n1: Aad (Amsterdam) - \u20ac90000.00\n3: Coen (Cairo) - \u20ac65000.00\n4: Daphne (Dortmund) - \u20ac65000.00\n\nGemiddeld salaris: \u20ac73333.33\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening1.html#checklist","title":"Checklist","text":"<ul> <li>Class met <code>__init__</code> en <code>_create_table</code></li> <li>CRUD methods: add, get_all, get_byid, update, delete</li> <li>Placeholders (<code>?</code>) gebruikt</li> <li>Context managers (<code>with</code>) gebruikt</li> <li>Type hints op alle methods</li> <li>row_factory = Row voor dict-like access</li> <li>Error handling (try/except) waar nodig</li> <li>main() functie die alles demonstreert</li> </ul>"},{"location":"week3/oefeningen/sql-oefening2.html","title":"Oefening 2: JOINs met de Webshop Database","text":""},{"location":"week3/oefeningen/sql-oefening2.html#oefening-2-joins-met-de-webshop-database","title":"Oefening 2: JOINs met de Webshop Database","text":"<p>Deze oefening past bij SQL Deel 3.</p> <p>Download de webshop.sqlite database en plaats deze in je project folder. Als je deze nog moet maken, run dan eerst <code>create_webshop.py</code>.</p>"},{"location":"week3/oefeningen/sql-oefening2.html#voorbereiding","title":"Voorbereiding","text":"<p>Maak een Python bestand <code>webshop_queries.py</code> met een basis class:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass WebshopDatabase:\n    \"\"\"Database voor webshop queries.\"\"\"\n\n    def __init__(self, db_path: str = \"webshop.sqlite\"):\n        self.db_path = db_path\n\n    def _execute_query(self, query: str, params: tuple = ()) -&gt; list[Row]:\n        \"\"\"Helper method om queries uit te voeren.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.row_factory = Row\n            cursor = conn.execute(query, params)\n            return cursor.fetchall()\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-1-producten-van-een-categorie","title":"Opgave 1: Producten van een Categorie","text":"<p>Vraag: Toon alle producten uit de categorie 'Electronics'.</p> <p>Implementeer deze method:</p> <pre><code>def get_products_by_category(self, category_name: str) -&gt; list[Row]:\n    \"\"\"Haal alle producten op van een specifieke categorie.\"\"\"\n    # TODO: Implementeer deze query\n    # - JOIN products met categories\n    # - WHERE categories.name = ?\n    # - Gebruik _execute_query helper\n    # - SELECT p.name, p.price, p.stock\n    pass\n</code></pre> <p>Test:</p> <pre><code>db = WebshopDatabase()\nproducts = db.get_products_by_category(\"Electronics\")\nfor product in products:\n    print(f\"{product['name']}: \u20ac{product['price']}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-2-producten-gesorteerd-op-prijs","title":"Opgave 2: Producten Gesorteerd op Prijs","text":"<p>Vraag: Toon dezelfde producten, maar nu gesorteerd op prijs (laag naar hoog).</p> <pre><code>def get_products_by_category_sorted(self, category_name: str) -&gt; list[Row]:\n    \"\"\"Haal producten op gesorteerd op prijs.\"\"\"\n    # TODO: Voeg ORDER BY price ASC toe\n    pass\n</code></pre> <p>Test opnieuw en vergelijk de output.</p>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-3-producten-met-categorie-info","title":"Opgave 3: Producten met Categorie Info","text":"<p>Vraag: Toon alle producten met hun categorie naam EN beschrijving.</p> <pre><code>def get_all_products_with_category(self) -&gt; list[Row]:\n    \"\"\"Haal alle producten op met categorie informatie.\"\"\"\n    # TODO: Implementeer JOIN\n    # SELECT p.name AS product, p.price, p.stock,\n    #        c.name AS category, c.description\n    # FROM products p\n    # JOIN categories c ON p.category_id = c.id\n    # ORDER BY c.name, p.name\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-4-producten-in-prijsrange","title":"Opgave 4: Producten in Prijsrange","text":"<p>Vraag: Vind alle producten tussen \u20ac20 en \u20ac50.</p> <pre><code>def get_products_in_price_range(self, min_price: float, max_price: float) -&gt; list[Row]:\n    \"\"\"Haal producten op binnen prijsrange.\"\"\"\n    # TODO: Gebruik BETWEEN of &gt;= AND &lt;=\n    # Include categorie naam via JOIN\n    pass\n</code></pre> <p>Test:</p> <pre><code>products = db.get_products_in_price_range(20.0, 50.0)\nprint(f\"Gevonden {len(products)} producten tussen \u20ac20 en \u20ac50\")\nfor product in products[:10]:\n    print(f\"{product['category']}: {product['name']} - \u20ac{product['price']}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-5-laagste-voorraad-per-categorie","title":"Opgave 5: Laagste Voorraad per Categorie","text":"<p>Vraag: Vind het product met de laagste voorraad in elke categorie.</p> <p>Hint: Gebruik <code>GROUP BY</code> en <code>MIN()</code></p> <pre><code>def get_lowest_stock_per_category(self) -&gt; list[Row]:\n    \"\"\"Vind laagste voorraad per categorie.\"\"\"\n    # TODO:\n    # SELECT c.name AS category, MIN(p.stock) AS lowest_stock\n    # FROM products p\n    # JOIN categories c ON p.category_id = c.id\n    # GROUP BY c.id, c.name\n    # ORDER BY lowest_stock ASC\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-6-gemiddelde-prijs-per-categorie","title":"Opgave 6: Gemiddelde Prijs per Categorie","text":"<p>Vraag: Bereken de gemiddelde prijs per categorie.</p> <pre><code>def get_average_price_per_category(self) -&gt; list[Row]:\n    \"\"\"Bereken gemiddelde prijs per categorie.\"\"\"\n    # TODO: Gebruik AVG(p.price)\n    # GROUP BY categorie\n    # ORDER BY gemiddelde prijs DESC\n    pass\n</code></pre> <p>Test:</p> <pre><code>stats = db.get_average_price_per_category()\nfor cat in stats:\n    print(f\"{cat['category']}: gemiddeld \u20ac{cat['avg_price']:.2f}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#opgave-7-producten-op-voorraad","title":"Opgave 7: Producten Op Voorraad","text":"<p>Vraag: Toon alleen producten die op voorraad zijn (stock &gt; 0), gesorteerd op categorie.</p> <pre><code>def get_in_stock_products(self) -&gt; list[Row]:\n    \"\"\"Haal producten op die op voorraad zijn.\"\"\"\n    # TODO: WHERE p.stock &gt; 0\n    # Include categorie naam\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#bonusopdracht-1-totale-voorraadwaarde","title":"Bonusopdracht 1: Totale Voorraadwaarde","text":"<p>Bereken de totale waarde van de voorraad (prijs \u00d7 stock) per categorie:</p> <pre><code>def get_inventory_value_per_category(self) -&gt; list[Row]:\n    \"\"\"Bereken totale voorraadwaarde per categorie.\"\"\"\n    # TODO:\n    # SELECT c.name AS category,\n    #        COUNT(p.id) AS product_count,\n    #        SUM(p.price * p.stock) AS total_value\n    # FROM categories c\n    # LEFT JOIN products p ON c.id = p.category_id\n    # GROUP BY c.id, c.name\n    # ORDER BY total_value DESC\n    pass\n</code></pre> <p>Verwachte output format:</p> <pre><code>Voorraadwaarde per categorie:\n1. Electronics: \u20ac15,432.50 (15 producten)\n2. Books: \u20ac3,245.20 (20 producten)\n...\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#bonusopdracht-2-duurste-product-per-categorie","title":"Bonusopdracht 2: Duurste Product per Categorie","text":"<p>Vind het duurste product in elke categorie:</p> <pre><code>def get_most_expensive_per_category(self) -&gt; list[Row]:\n    \"\"\"Vind duurste product per categorie.\"\"\"\n    # TODO:\n    # Je kunt dit op twee manieren doen:\n    # Optie 1: Subquery\n    # Optie 2: Window functions (advanced)\n    # Begin met MAX(price) per categorie\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#bonusopdracht-3-complete-categorie-catalogus","title":"Bonusopdracht 3: Complete Categorie Catalogus","text":"<p>Maak een method die een complete catalogus laat zien (categorie \u2192 alle producten):</p> <pre><code>def get_category_catalog(self, category_name: str) -&gt; dict:\n    \"\"\"Haal complete catalogus op van een categorie.\"\"\"\n    # Return format:\n    # {\n    #     'category': 'Electronics',\n    #     'description': 'Electronic devices and accessories',\n    #     'product_count': 15,\n    #     'total_value': 15432.50,\n    #     'products': [\n    #         {\n    #             'name': 'Laptop HP',\n    #             'price': 899.99,\n    #             'stock': 12\n    #         },\n    #         ...\n    #     ]\n    # }\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#main-functie","title":"Main Functie","text":"<p>Schrijf een main functie die alle queries demonstreert:</p> <pre><code>def main():\n    db = WebshopDatabase()\n\n    print(\"=== Opgave 1: Electronics Producten ===\")\n    products = db.get_products_by_category(\"Electronics\")\n    for product in products:\n        print(f\"{product['name']}: \u20ac{product['price']}\")\n\n    print(\"\\n=== Opgave 2: Gesorteerd op Prijs ===\")\n    products = db.get_products_by_category_sorted(\"Electronics\")\n    for product in products[:5]:\n        print(f\"{product['name']}: \u20ac{product['price']}\")\n\n    # etc.\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#verwachte-output-voorbeelden","title":"Verwachte Output Voorbeelden","text":"<pre><code>=== Opgave 1: Electronics Producten ===\nBluetooth Headphones Sony: \u20ac149.99\nExternal SSD 1TB: \u20ac89.99\nGaming Controller Xbox: \u20ac59.99\nHDMI Cable 2m: \u20ac12.99\n...\n\n=== Opgave 6: Gemiddelde Prijs per Categorie ===\nElectronics: gemiddeld \u20ac189.32\nHome &amp; Garden: gemiddeld \u20ac42.99\nBeauty: gemiddeld \u20ac40.86\n...\n\n=== Opgave 7: Aantal Producten Op Voorraad ===\nTotaal: 118 producten op voorraad\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening2.html#checklist","title":"Checklist","text":"<ul> <li>Alle queries gebruiken placeholders (<code>?</code>)</li> <li>Context managers (<code>with</code>) gebruikt</li> <li>Type hints op alle methods</li> <li>row_factory = Row gebruikt</li> <li>JOIN queries correct (INNER JOIN standaard)</li> <li>Aggregatiefuncties: COUNT, AVG, SUM, MIN, MAX</li> <li>GROUP BY voor groeperen</li> <li>ORDER BY voor sortering</li> <li>Helper method <code>_execute_query</code> gebruikt</li> </ul>"},{"location":"week3/oefeningen/sql-oefening3.html","title":"Oefening 3: SQL Injection Beveiliging","text":""},{"location":"week3/oefeningen/sql-oefening3.html#oefening-3-sql-injection-beveiliging","title":"Oefening 3: SQL Injection Beveiliging","text":"<p>Deze oefening past bij SQL Deel 5.</p> <p>In deze oefening ga je zelf ervaren hoe SQL injection werkt en hoe je het voorkomt. Je bouwt een login systeem en test het met bekende SQL injection aanvallen.</p>"},{"location":"week3/oefeningen/sql-oefening3.html#voorbereiding","title":"Voorbereiding","text":"<p>Maak een Python bestand <code>auth_system.py</code> met een basis class voor gebruikersbeheer:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\n\nclass AuthDatabase:\n    \"\"\"Gebruikersauthenticatie database.\"\"\"\n\n    def __init__(self, db_path: str = \"users.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak users tabel aan.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    username TEXT NOT NULL UNIQUE,\n                    password TEXT NOT NULL,\n                    email TEXT NOT NULL,\n                    is_admin BOOLEAN DEFAULT 0\n                )\n            \"\"\")\n            conn.commit()\n\n    def add_user(self, username: str, password: str, email: str, is_admin: bool = False) -&gt; int:\n        \"\"\"Voeg user toe (veilig met placeholders).\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            cursor = conn.execute(\n                \"INSERT INTO users (username, password, email, is_admin) VALUES (?, ?, ?, ?)\",\n                (username, password, email, is_admin)\n            )\n            conn.commit()\n            return cursor.lastrowid\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-1-onveilige-login-gevaarlijk","title":"Opgave 1: Onveilige Login (GEVAARLIJK!)","text":"<p>Doel: Zie met eigen ogen hoe SQL injection werkt.</p> <p>Voeg deze onveilige login method toe:</p> <pre><code>def login_unsafe(self, username: str, password: str) -&gt; Row | None:\n    \"\"\"GEVAARLIJK - gebruik f-string in SQL!\"\"\"\n    # TODO: Implementeer deze ONVEILIGE method\n    # - Gebruik een f-string om de query te maken\n    # - Query: SELECT * FROM users WHERE username = '{username}' AND password = '{password}'\n    # - Return de user row als gevonden, None anders\n    # - GEBRUIK GEEN PLACEHOLDERS (dat is juist de fout!)\n    pass\n</code></pre> <p>Test met normale input \u00e9n SQL injection:</p> <pre><code>db = AuthDatabase()\n\n# Voeg test users toe\ndb.add_user(\"jan\", \"geheim123\", \"jan@email.nl\", is_admin=False)\ndb.add_user(\"admin\", \"super_secret\", \"admin@email.nl\", is_admin=True)\n\n# Test 1: Normale login (werkt)\nuser = db.login_unsafe(\"jan\", \"geheim123\")\nprint(f\"Test 1: {user['username'] if user else 'Geen match'}\")\n\n# Test 2: Verkeerd wachtwoord (werkt niet)\nuser = db.login_unsafe(\"jan\", \"fout_wachtwoord\")\nprint(f\"Test 2: {user['username'] if user else 'Geen match'}\")\n\n# Test 3: SQL injection attack!\nuser = db.login_unsafe(\"admin' --\", \"whatever\")\nprint(f\"Test 3: {user['username'] if user else 'Geen match'}\")  # GEVAAR: ingelogd als admin!\n</code></pre> <p>Vraag: Wat gebeurt er bij Test 3? Waarom werkt deze aanval?</p> Klik voor uitleg  De query wordt:  <pre><code>SELECT * FROM users WHERE username = 'admin' --' AND password = 'whatever'\n</code></pre>  De `--` maakt alles daarna commentaar, dus de password check wordt overgeslagen!"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-2-sql-injection-aanvallen-testen","title":"Opgave 2: SQL Injection Aanvallen Testen","text":"<p>Test je <code>login_unsafe()</code> met deze bekende SQL injection strings:</p> <pre><code># SQL injection test strings\ninjection_tests = [\n    (\"admin' --\", \"anything\"),           # Commentaar truc\n    (\"' OR '1'='1\", \"' OR '1'='1\"),      # Altijd waar\n    (\"admin' OR '1'='1' --\", \"\"),        # Combinatie\n]\n\nprint(\"\\n=== SQL Injection Tests ===\")\nfor username, password in injection_tests:\n    user = db.login_unsafe(username, password)\n    if user:\n        print(f\"GEVAAR: Ingelogd als '{user['username']}' (admin={user['is_admin']})\")\n    else:\n        print(f\"Geblokkeerd: {username}\")\n</code></pre> <p>Vraag: Welke aanvallen werken? Probeer te begrijpen waarom.</p>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-3-veilige-login-method","title":"Opgave 3: Veilige Login Method","text":"<p>Doel: Implementeer een veilige login met placeholders.</p> <pre><code>def login_safe(self, username: str, password: str) -&gt; Row | None:\n    \"\"\"Veilige login met placeholders.\"\"\"\n    # TODO: Implementeer deze VEILIGE method\n    # - Gebruik placeholders (?)\n    # - Query: SELECT * FROM users WHERE username = ? AND password = ?\n    # - Gebruik row_factory = Row\n    # - Return de user row als gevonden, None anders\n    pass\n</code></pre> <p>Test met dezelfde SQL injection strings:</p> <pre><code>print(\"\\n=== Veilige Login Tests ===\")\nfor username, password in injection_tests:\n    user = db.login_safe(username, password)\n    if user:\n        print(f\"Ingelogd als '{user['username']}'\")\n    else:\n        print(f\"Geblokkeerd: {username}\")\n\n# Test normale login (moet nog steeds werken!)\nuser = db.login_safe(\"jan\", \"geheim123\")\nprint(f\"\\nNormale login: {user['username'] if user else 'Geen match'}\")\n</code></pre> <p>Vraag: Wat is het verschil? Waarom werken de aanvallen nu niet meer?</p>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-4-veilige-search-functie","title":"Opgave 4: Veilige Search Functie","text":"<p>Implementeer een veilige zoekfunctie met <code>LIKE</code>:</p> <pre><code>def search_users(self, search_term: str) -&gt; list[Row]:\n    \"\"\"Zoek gebruikers op basis van username of email.\"\"\"\n    # TODO: Implementeer veilige search\n    # - Gebruik LIKE met placeholders\n    # - Zoek in username EN email (OR)\n    # - Return lijst van users (zonder passwords!)\n    # Tip: SELECT id, username, email FROM users WHERE username LIKE ? OR email LIKE ?\n    pass\n</code></pre> <p>Test met SQL injection pogingen:</p> <pre><code># Normale search\nusers = db.search_users(\"jan\")\nprint(f\"\\nSearch 'jan': {len(users)} resultaten\")\n\n# SQL injection poging\nusers = db.search_users(\"'; DROP TABLE users; --\")\nprint(f\"Search met injection: {len(users)} resultaten\")  # Moet 0 zijn (veilig!)\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#opgave-5-whitelist-validatie","title":"Opgave 5: Whitelist Validatie","text":"<p>Soms kun je geen placeholders gebruiken (bijvoorbeeld bij table names). Dan moet je input valideren met een whitelist.</p> <p>Implementeer een method die data ophaalt uit verschillende tabellen:</p> <pre><code>def get_all_from_table(self, table_name: str) -&gt; list[Row]:\n    \"\"\"Haal alle records op uit een tabel (met whitelist validatie).\"\"\"\n    # TODO: Implementeer met whitelist\n    # - Maak een lijst van toegestane tabellen: [\"users\"]\n    # - Check of table_name in de whitelist staat\n    # - Raise ValueError als niet toegestaan\n    # - Gebruik f-string voor table name (nu veilig omdat gevalideerd!)\n    # - Query: SELECT * FROM {table_name}\n    pass\n</code></pre> <p>Test:</p> <pre><code># Toegestane tabel - werkt\nusers = db.get_all_from_table(\"users\")\nprint(f\"\\nUsers tabel: {len(users)} records\")\n\n# SQL injection poging - wordt geblokkeerd\ntry:\n    db.get_all_from_table(\"users; DROP TABLE users; --\")\nexcept ValueError as e:\n    print(f\"Geblokkeerd: {e}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#bonusopdracht-1-login-met-rate-limiting","title":"Bonusopdracht 1: Login Met Rate Limiting","text":"<p>Voeg een simpele vorm van rate limiting toe om brute force aanvallen te voorkomen:</p> <pre><code>class AuthDatabase:\n    def __init__(self, db_path: str = \"users.db\"):\n        self.db_path = db_path\n        self._create_table()\n        self.login_attempts = {}  # {username: aantal_pogingen}\n\n    def login_with_rate_limit(self, username: str, password: str, max_attempts: int = 3) -&gt; Row | None:\n        \"\"\"Login met rate limiting.\"\"\"\n        # TODO: Implementeer rate limiting\n        # - Check of username al max_attempts heeft bereikt\n        # - Zo ja: return None en print waarschuwing\n        # - Zo nee: probeer login_safe()\n        # - Bij succes: reset attempts voor deze user\n        # - Bij falen: verhoog attempts voor deze user\n        pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#bonusopdracht-2-password-hashing","title":"Bonusopdracht 2: Password Hashing","text":"<p>In productie sla je nooit plain text passwords op! Gebruik een hash:</p> <pre><code>import hashlib\n\nclass AuthDatabase:\n    def _hash_password(self, password: str) -&gt; str:\n        \"\"\"Hash password met SHA256.\"\"\"\n        return hashlib.sha256(password.encode()).hexdigest()\n\n    def add_user_hashed(self, username: str, password: str, email: str, is_admin: bool = False) -&gt; int:\n        \"\"\"Voeg user toe met gehashed password.\"\"\"\n        # TODO: Gebruik _hash_password() voordat je password opslaat\n        pass\n\n    def login_hashed(self, username: str, password: str) -&gt; Row | None:\n        \"\"\"Login met gehashed password compare.\"\"\"\n        # TODO: Hash input password en vergelijk met database\n        # Tip: Haal user op met username, vergelijk gehashte passwords\n        pass\n</code></pre> <p>Let op: SHA256 is NIET veilig genoeg voor productie! Gebruik in echte applicaties libraries zoals <code>bcrypt</code> of <code>argon2</code>.</p>"},{"location":"week3/oefeningen/sql-oefening3.html#verwachte-output","title":"Verwachte Output","text":"<pre><code>Test 1: jan\nTest 2: Geen match\nTest 3: admin  \u2190 GEVAAR!\n\n=== SQL Injection Tests ===\nGEVAAR: Ingelogd als 'admin' (admin=1)\nGEVAAR: Ingelogd als 'jan' (admin=0)\nGEVAAR: Ingelogd als 'admin' (admin=1)\n\n=== Veilige Login Tests ===\nGeblokkeerd: admin' --\nGeblokkeerd: ' OR '1'='1\nGeblokkeerd: admin' OR '1'='1' --\n\nNormale login: jan\n\nSearch 'jan': 1 resultaten\nSearch met injection: 0 resultaten\n\nUsers tabel: 2 records\nGeblokkeerd: Invalid table: users; DROP TABLE users; --\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening3.html#checklist","title":"Checklist","text":"<ul> <li><code>login_unsafe()</code> ge\u00efmplementeerd (met f-string - FOUT!)</li> <li>SQL injection aanvallen getest en begrepen</li> <li><code>login_safe()</code> ge\u00efmplementeerd (met placeholders)</li> <li><code>search_users()</code> met LIKE en placeholders</li> <li><code>get_all_from_table()</code> met whitelist validatie</li> <li>Verschil tussen unsafe en safe begrepen</li> <li>Nooit f-strings of concatenatie met user input in SQL</li> <li>Altijd placeholders (<code>?</code>) voor values</li> </ul>"},{"location":"week3/oefeningen/sql-oefening3.html#belangrijke-lessen","title":"Belangrijke Lessen","text":"<ol> <li>Placeholders zijn de ENIGE veilige methode voor values in SQL</li> <li>F-strings/concatenatie met user input = SQL injection risico</li> <li>Whitelist validatie voor table/column names (placeholders werken daar niet)</li> <li>Test altijd met bekende injection strings</li> <li>Hash passwords (nooit plain text)</li> </ol> <p>Tip: Test je eigen Flask applicaties altijd met deze strings. Als ze niet gewoon als letterlijke tekst behandeld worden, heb je een probleem!</p>"},{"location":"week3/oefeningen/sql-oefening4.html","title":"Oefening 4: Database Exception Handling","text":""},{"location":"week3/oefeningen/sql-oefening4.html#oefening-4-database-exception-handling","title":"Oefening 4: Database Exception Handling","text":"<p>Deze oefening past bij SQL Deel 6.</p> <p>In deze oefening leer je database-specifieke exceptions afvangen en netjes afhandelen. Je bouwt een producten database met constraints en test wat er gebeurt bij verschillende fouten.</p>"},{"location":"week3/oefeningen/sql-oefening4.html#voorbereiding","title":"Voorbereiding","text":"<p>Maak een Python bestand <code>shop_db.py</code> met een basis product database class:</p> <pre><code>import sqlite3\nfrom sqlite3 import Row\nimport logging\n\n# Setup logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\nclass ProductDatabase:\n    \"\"\"Product database met error handling.\"\"\"\n\n    def __init__(self, db_path: str = \"shop.db\"):\n        self.db_path = db_path\n        self._create_table()\n\n    def _create_table(self) -&gt; None:\n        \"\"\"Maak products tabel aan met constraints.\"\"\"\n        with sqlite3.connect(self.db_path) as conn:\n            conn.execute(\"\"\"\n                CREATE TABLE IF NOT EXISTS products (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    name TEXT NOT NULL UNIQUE,\n                    price REAL NOT NULL CHECK(price &gt; 0),\n                    stock INTEGER NOT NULL CHECK(stock &gt;= 0),\n                    category TEXT NOT NULL\n                )\n            \"\"\")\n            conn.commit()\n            logger.info(\"Products tabel aangemaakt\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-1-basic-error-handling","title":"Opgave 1: Basic Error Handling","text":"<p>Implementeer een <code>add_product()</code> method zonder error handling, test deze en observeer wat er gebeurt:</p> <pre><code>def add_product_unsafe(self, name: str, price: float, stock: int, category: str) -&gt; int:\n    \"\"\"Voeg product toe ZONDER error handling.\"\"\"\n    # TODO: Implementeer deze method ZONDER try/except\n    # - Gebruik placeholders (veilig!)\n    # - Return lastrowid\n    # - Laat de method crashen bij fouten (dat is juist de bedoeling)\n    pass\n</code></pre> <p>Test met verschillende scenario's:</p> <pre><code>db = ProductDatabase()\n\n# Test 1: Normale toevoeging (werkt)\nproductid = db.add_product_unsafe(\"Laptop\", 799.99, 10, \"Electronics\")\nprint(f\"Product toegevoegd met ID {productid}\")\n\n# Test 2: Duplicate naam (crasht!)\ntry:\n    db.add_product_unsafe(\"Laptop\", 899.99, 5, \"Electronics\")\nexcept sqlite3.IntegrityError as e:\n    print(f\"CRASH: {e}\")\n\n# Test 3: Negatieve prijs (crasht!)\ntry:\n    db.add_product_unsafe(\"Monitor\", -50.00, 3, \"Electronics\")\nexcept sqlite3.IntegrityError as e:\n    print(f\"CRASH: {e}\")\n\n# Test 4: Lege naam (crasht!)\ntry:\n    db.add_product_unsafe(\"\", 299.99, 2, \"Electronics\")\nexcept sqlite3.IntegrityError as e:\n    print(f\"CRASH: {e}\")\n</code></pre> <p>Vraag: Welke errors krijg je? Wat staat er in de error messages?</p>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-2-integrityerror-handling","title":"Opgave 2: IntegrityError Handling","text":"<p>Nu ga je errors netjes afvangen. Implementeer een veilige versie:</p> <pre><code>def add_product(self, name: str, price: float, stock: int, category: str) -&gt; int | None:\n    \"\"\"Voeg product toe met error handling.\"\"\"\n    # TODO: Implementeer met try/except\n    # - Vang sqlite3.IntegrityError af (voor UNIQUE, CHECK, NOT NULL)\n    # - Check of \"UNIQUE\" in error message staat\n    # - Check of \"CHECK\" in error message staat\n    # - Check of \"NOT NULL\" in error message staat\n    # - Log de juiste foutmelding (logger.warning)\n    # - Return None bij fout, lastrowid bij succes\n    pass\n</code></pre> <p>Test dezelfde scenario's:</p> <pre><code># Test met error handling\nprint(\"\\n=== Met Error Handling ===\")\n\n# Test 1: Succesvol\nproductid = db.add_product(\"Laptop\", 799.99, 10, \"Electronics\")\nif productid:\n    print(f\"Product toegevoegd met ID {productid}\")\n\n# Test 2: Duplicate - netjes afgevangen\nproductid = db.add_product(\"Laptop\", 899.99, 5, \"Electronics\")\nif not productid:\n    print(\"Product niet toegevoegd (bestaat al)\")\n\n# Test 3: Negatieve prijs - netjes afgevangen\nproductid = db.add_product(\"Monitor\", -50.00, 3, \"Electronics\")\nif not productid:\n    print(\"Product niet toegevoegd (ongeldige prijs)\")\n\n# Test 4: Lege naam - netjes afgevangen\nproductid = db.add_product(\"\", 299.99, 2, \"Electronics\")\nif not productid:\n    print(\"Product niet toegevoegd (naam is verplicht)\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-3-operationalerror-handling","title":"Opgave 3: OperationalError Handling","text":"<p>Implementeer een method om producten op te halen met error handling voor database problemen:</p> <pre><code>def get_all_products(self) -&gt; list[Row]:\n    \"\"\"Haal alle producten op met error handling.\"\"\"\n    # TODO: Implementeer met try/except\n    # - Vang sqlite3.OperationalError af\n    # - Check of \"no such table\" in error message staat\n    # - Check of \"locked\" in error message staat\n    # - Log de fout (logger.error)\n    # - Return lege lijst bij fout\n    pass\n</code></pre> <p>Test:</p> <pre><code># Normale ophaling\nproducts = db.get_all_products()\nprint(f\"\\n{len(products)} producten gevonden\")\n\n# Simuleer locked database (moeilijk te testen, maar error handling is klaar!)\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-4-update-met-error-handling","title":"Opgave 4: Update Met Error Handling","text":"<p>Implementeer een method om voorraad te updaten met validatie en error handling:</p> <pre><code>def update_stock(self, productid: int, new_stock: int) -&gt; bool:\n    \"\"\"Update voorraad met validatie en error handling.\"\"\"\n    # TODO: Implementeer met error handling\n    # - Valideer dat new_stock &gt;= 0 (return False als niet)\n    # - Gebruik try/except voor database errors\n    # - Check cursor.rowcount om te zien of product bestaat\n    # - Log succesvolle updates (logger.info)\n    # - Log failures (logger.warning of logger.error)\n    # - Return True bij succes, False bij fout\n    pass\n</code></pre> <p>Test:</p> <pre><code># Test stock updates\nprint(\"\\n=== Stock Updates ===\")\n\n# Succesvolle update\nif db.update_stock(1, 15):\n    print(\"Voorraad bijgewerkt\")\n\n# Negatieve voorraad (validatiefout)\nif not db.update_stock(1, -5):\n    print(\"Negatieve voorraad niet toegestaan\")\n\n# Non-existent product\nif not db.update_stock(999, 10):\n    print(\"Product niet gevonden\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-5-delete-met-error-handling","title":"Opgave 5: Delete Met Error Handling","text":"<p>Implementeer een delete method:</p> <pre><code>def delete_product(self, productid: int) -&gt; bool:\n    \"\"\"Verwijder product met error handling.\"\"\"\n    # TODO: Implementeer met error handling\n    # - Gebruik try/except voor sqlite3.Error\n    # - Check cursor.rowcount\n    # - Log succesvolle deletes\n    # - Log als product niet bestaat\n    # - Return True bij succes, False bij fout\n    pass\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#opgave-6-complete-error-handler","title":"Opgave 6: Complete Error Handler","text":"<p>Maak een method die verschillende errors kan onderscheiden:</p> <pre><code>def safe_add_product(self, name: str, price: float, stock: int, category: str) -&gt; tuple[bool, str]:\n    \"\"\"Voeg product toe en return (success, message).\"\"\"\n    # TODO: Implementeer met gedetailleerde error messages\n    # Return voorbeelden:\n    # - (True, \"Product toegevoegd met ID 5\")\n    # - (False, \"Product naam bestaat al\")\n    # - (False, \"Prijs moet positief zijn\")\n    # - (False, \"Naam is verplicht\")\n    # - (False, \"Database error: ...\")\n    #\n    # Vang verschillende exceptions af:\n    # - sqlite3.IntegrityError met specifieke checks\n    # - sqlite3.OperationalError\n    # - sqlite3.Error (catch-all)\n    pass\n</code></pre> <p>Test:</p> <pre><code>print(\"\\n=== Safe Add Product ===\")\n\ntest_cases = [\n    (\"Keyboard\", 49.99, 20, \"Electronics\"),      # Succes\n    (\"Keyboard\", 59.99, 10, \"Electronics\"),      # Duplicate\n    (\"Mouse\", -10.00, 5, \"Electronics\"),         # Negatieve prijs\n    (\"\", 29.99, 3, \"Electronics\"),               # Lege naam\n    (\"Webcam\", 89.99, -2, \"Electronics\"),        # Negatieve stock\n]\n\nfor name, price, stock, category in test_cases:\n    success, message = db.safe_add_product(name, price, stock, category)\n    status = \"OK\" if success else \"Fout\"\n    print(f\"{status} {message}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#bonusopdracht-1-custom-exception-class","title":"Bonusopdracht 1: Custom Exception Class","text":"<p>Maak een custom exception voor product-specifieke fouten:</p> <pre><code>class ProductError(Exception):\n    \"\"\"Custom exception voor product errors.\"\"\"\n    pass\n\n\nclass ProductDatabase:\n    def add_product_custom(self, name: str, price: float, stock: int, category: str) -&gt; int:\n        \"\"\"Voeg product toe met custom exceptions.\"\"\"\n        # TODO: Implementeer met custom exceptions\n        # - Raise ProductError(\"Product naam bestaat al\") bij duplicate\n        # - Raise ProductError(\"Prijs moet positief zijn\") bij &lt; 0\n        # - Raise ProductError(\"Voorraad kan niet negatief zijn\") bij &lt; 0\n        # - Vang sqlite3 errors en converteer naar ProductError\n        pass\n</code></pre> <p>Gebruik:</p> <pre><code>try:\n    db.add_product_custom(\"Laptop\", 799.99, 10, \"Electronics\")\n    print(\"Product toegevoegd\")\nexcept ProductError as e:\n    print(f\"Fout: {e}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#bonusopdracht-2-transaction-error-handling","title":"Bonusopdracht 2: Transaction Error Handling","text":"<p>Implementeer een method die meerdere producten toevoegt in een transactie:</p> <pre><code>def add_products_batch(self, products: list[tuple]) -&gt; tuple[int, list[str]]:\n    \"\"\"Voeg meerdere producten toe in \u00e9\u00e9n transactie.\n\n    Returns:\n        (aantal_toegevoegd, lijst_met_errors)\n    \"\"\"\n    # TODO: Implementeer met transactie\n    # - Gebruik \u00e9\u00e9n connection voor alle inserts\n    # - Bij fout: rollback (automatisch met context manager)\n    # - Bij succes: commit (automatisch met context manager)\n    # - Return aantal succesvolle inserts en lijst met error messages\n    # - Hint: Gebruik niet automatisch commit, doe handmatig conn.rollback() bij fout\n    pass\n</code></pre> <p>Test:</p> <pre><code>products = [\n    (\"Phone\", 599.99, 15, \"Electronics\"),\n    (\"Tablet\", 399.99, 8, \"Electronics\"),\n    (\"Invalid\", -50.00, 3, \"Electronics\"),  # Deze faalt\n]\n\nadded, errors = db.add_products_batch(products)\nprint(f\"\\n{added} producten toegevoegd, {len(errors)} fouten\")\nfor error in errors:\n    print(f\"  - {error}\")\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#verwachte-output","title":"Verwachte Output","text":"<pre><code>INFO:__main__:Products tabel aangemaakt\nProduct toegevoegd met ID 1\nCRASH: UNIQUE constraint failed: products.name\nCRASH: CHECK constraint failed: price &gt; 0\nCRASH: NOT NULL constraint failed: products.name\n\n=== Met Error Handling ===\nINFO:__main__:Product 'Laptop' toegevoegd met ID 1\nProduct toegevoegd met ID 1\nWARNING:__main__:Product 'Laptop' bestaat al\nProduct niet toegevoegd (bestaat al)\nWARNING:__main__:Ongeldige waarde voor 'Monitor': prijs=-50.0, stock=3\nProduct niet toegevoegd (ongeldige prijs)\nWARNING:__main__:Product '' kon niet worden toegevoegd\nProduct niet toegevoegd (naam is verplicht)\n\n3 producten gevonden\n\n=== Stock Updates ===\nINFO:__main__:Stock update voor product 1: 15\nVoorraad bijgewerkt\nWARNING:__main__:Negatieve voorraad niet toegestaan: -5\nNegatieve voorraad niet toegestaan\nWARNING:__main__:Product 999 niet gevonden\nProduct niet gevonden\n\n=== Safe Add Product ===\nOK Product toegevoegd met ID 2\nFout Product naam bestaat al\nFout Prijs moet positief zijn\nFout Naam is verplicht\nFout Voorraad kan niet negatief zijn\n</code></pre>"},{"location":"week3/oefeningen/sql-oefening4.html#checklist","title":"Checklist","text":"<ul> <li>Database-specifieke exceptions gebruikt (<code>IntegrityError</code>, <code>OperationalError</code>)</li> <li>Error messages onderscheiden (UNIQUE, CHECK, NOT NULL)</li> <li>Logging gebruikt (<code>logger.info</code>, <code>logger.warning</code>, <code>logger.error</code>)</li> <li>Type hints met <code>|</code> syntax gebruikt (<code>int | None</code>, <code>Row | None</code>)</li> <li>Return <code>None</code>, <code>False</code>, of lege lijst bij fouten (geen crash!)</li> <li><code>cursor.rowcount</code> gebruikt om te checken of iets gewijzigd is</li> <li>Try/except patterns consequent toegepast</li> <li>Context managers gebruikt (<code>with sqlite3.connect()</code>)</li> <li>Gebruiksvriendelijke error messages</li> <li>Validatie VOOR database operaties waar mogelijk</li> </ul>"},{"location":"week3/oefeningen/sql-oefening4.html#belangrijke-lessen","title":"Belangrijke Lessen","text":"<ol> <li>Specifieke exceptions: Gebruik <code>IntegrityError</code>, <code>OperationalError</code>, niet alleen <code>Exception</code></li> <li>Logging, niet print: <code>logger.error()</code> voor productie code</li> <li>Graceful degradation: Return safe defaults (None, [], False) bij errors</li> <li>Error message parsing: Check <code>str(e)</code> voor specifieke constraint violations</li> <li>Validatie: Check input voor database operaties</li> <li>Type hints: <code>int | None</code>, <code>list[Row]</code>, <code>bool</code> voor duidelijkheid</li> <li>cursor.rowcount: Controleer of UPDATE/DELETE iets veranderd heeft</li> </ol> <p>Volgende stap: In Week 6 leer je SQLAlchemy, een ORM die veel van deze error handling automatisch doet!</p>"},{"location":"week4/flask-deel1.html","title":"Flask \u2013 Inleiding","text":""},{"location":"week4/flask-deel1.html#flask-inleiding","title":"Flask \u2013 Inleiding","text":"<p>Bestudeer ook de presentatie over Flask en Jinja via deze link (let op: je moet hiervoor wel inloggen in het Hanze-systeem)</p>"},{"location":"week4/flask-deel1.html#wat-is-flask","title":"Wat is Flask?","text":"<p>Flask is een webframework, het is een Python-module waarmee op eenvoudige wijze webapplicaties ontwikkeld kunnen worden. Het heeft een kleine en gemakkelijk uit te breiden kern: het is een microframework dat geen ORM (Object Relational Manager) of dergelijke functies bevat. Het heeft wel veel coole functies, zoals url-routing en een template-engine. Het is een WSGI-webapp-framework.</p> <p>Een Web Application Framework of gewoon een Web Framework vertegenwoordigt een verzameling bibliotheken en modules waarmee ontwikkelaars webtoepassingen kunnen schrijven zonder zich zorgen te hoeven maken over details op laag niveau, zoals protocol en threadbeheer.</p> <p>Flask is een framework voor webtoepassingen geschreven in Python. Het is ontwikkeld door Armin Ronacher, die leiding gaf aan een team van internationale Python-enthousiastelingen genaamd Poocoo. Flask is gebaseerd op de Werkzeug WSGI toolkit en de Jinja2 template engine.</p> <p>De Web Server Gateway Interface (WSGI) wordt gebruikt als standaard voor de ontwikkeling van Python-webapplicaties. WSGI is de specificatie van een gemeenschappelijke interface tussen webservers en webapplicaties.</p> <p>Werkzeug is een WSGI-toolkit die verzoeken, responsobjecten en hulpprogramma-functies implementeert. Hierdoor kan er een webframe op gebouwd worden. Het Flask-raamwerk gebruikt Werkzeug als \u00e9\u00e9n van de bases.</p> <p>Jinja2 is een populaire sjabloonengine voor Python. Een websjabloonsysteem combineert een sjabloon met een specifieke gegevensbron om een dynamische webpagina weer te geven. Hiermee kunnen Python-variabelen doorgegeven worden aan HTML-sjablonen.</p> <p>Een voorbeeld:</p> <pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;{{ titel }}&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hallo {{ gebruikersnaam }}&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Uit een database kunnen titel en gebruikersnaam opgevraagd worden en worden ingevoegd in een template. Deze waarden worden op het moment dat de pagina wordt opgevraagd door de template-engine gezet op de plaats van de corresponderende waarde tussen de dubbele accolades (<code>{</code> en <code>}</code>).</p> <p>Flask wordt dus een microframework genoemd. Het is ontworpen om de kern van de applicatie eenvoudig en schaalbaar te houden. In plaats van een abstractielaag voor database-ondersteuning, ondersteunt Flask uitbreidingen om dergelijke mogelijkheden aan de applicatie toe te voegen.</p> <p>Volgende stap: Deel 2 - Flask installeren met uv.</p>"},{"location":"week4/flask-deel1.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Flask: een Python microframework voor het bouwen van webapplicaties, met ingebouwde url-routing en een template-engine</li> <li>Microframework: Flask houdt de kern klein en uitbreidbaar; functionaliteit zoals database-ondersteuning wordt via extensies toegevoegd in plaats van ingebouwd te zijn</li> <li>Web Application Framework: een verzameling bibliotheken waarmee webapplicaties ontwikkeld worden zonder details op laag niveau zoals protocol- en threadbeheer</li> <li>WSGI: de Web Server Gateway Interface, de standaard interface tussen webservers en Python-webapplicaties</li> <li>Werkzeug: de WSGI-toolkit waarop Flask is gebouwd, die request- en response-afhandeling verzorgt</li> <li>Jinja2: de template-engine van Flask, waarmee Python-variabelen in HTML-sjablonen ingevoegd worden via dubbele accolades (<code>{{ variabele }}</code>)</li> </ul>"},{"location":"week4/flask-deel2.html","title":"Flask \u2013 Project Setup met uv","text":""},{"location":"week4/flask-deel2.html#flask-project-setup-met-uv","title":"Flask \u2013 Project Setup met uv","text":"<p>uv is een snelle Python package en project manager, geschreven in Rust. Het combineert de functionaliteit van pip, venv, en andere tools in \u00e9\u00e9n simpele interface.</p>"},{"location":"week4/flask-deel2.html#uv-installeren","title":"uv installeren","text":"<p>Als je uv nog niet hebt ge\u00efnstalleerd van Week 2, installeer het dan nu:</p> <pre><code>pip install uv\n</code></pre> <p>Alternatieve installatie methoden</p> <p>Je kunt uv ook installeren met: macOS/Linux (via curl): </p><pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre> Windows (via PowerShell): <pre><code>powershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n</code></pre> Zie uv documentatie voor meer opties.<p></p> <p>Controleer of uv correct is ge\u00efnstalleerd:</p> <pre><code>uv --version\n</code></pre> <p>Je zou een versienummer moeten zien (bijv. <code>uv 0.4.30</code>).</p>"},{"location":"week4/flask-deel2.html#flask-project-aanmaken","title":"Flask project aanmaken","text":""},{"location":"week4/flask-deel2.html#stap-1-project-directory-maken","title":"Stap 1: Project directory maken","text":"<p>Maak een nieuwe directory voor je Flask project:</p> <pre><code>mkdir mijn-flask-app\ncd mijn-flask-app\n</code></pre>"},{"location":"week4/flask-deel2.html#stap-2-python-project-initialiseren","title":"Stap 2: Python project initialiseren","text":"<p>Initialiseer een nieuw Python project met uv:</p> <pre><code>uv init\n</code></pre> <p>Dit maakt automatisch:</p> <ul> <li><code>pyproject.toml</code> - Project configuratie en dependencies</li> <li><code>.python-version</code> - Python versie voor dit project</li> <li><code>hello.py</code> - Een voorbeeld bestand (kun je verwijderen)</li> </ul>"},{"location":"week4/flask-deel2.html#stap-3-flask-installeren","title":"Stap 3: Flask installeren","text":"<p>Installeer Flask met uv:</p> <pre><code>uv add flask\n</code></pre> <p>Dit doet automatisch:</p> <ul> <li>Installeert Flask</li> <li>Maakt een virtual environment (<code>.venv/</code>)</li> <li>Update <code>pyproject.toml</code> met Flask dependency</li> <li>Maakt <code>uv.lock</code> voor reproduceerbare builds</li> </ul> <p>Je <code>pyproject.toml</code> ziet er nu ongeveer zo uit:</p> <pre><code>[project]\nname = \"mijn-flask-app\"\nversion = \"0.1.0\"\ndescription = \"Een Flask webapplicatie\"\nreadme = \"README.md\"\nrequires-python = \"&gt;=3.12\"\ndependencies = [\n    \"flask&gt;=3.1.0\",\n]\n</code></pre> <p>Virtual environment</p> <p>uv maakt automatisch een virtual environment in <code>.venv/</code>. Deze wordt automatisch gebruikt wanneer je <code>uv run</code> gebruikt - je hoeft niets te activeren!</p>"},{"location":"week4/flask-deel2.html#je-eerste-flask-app","title":"Je eerste Flask app","text":""},{"location":"week4/flask-deel2.html#stap-4-maak-apppy","title":"Stap 4: Maak app.py","text":"<p>Verwijder het voorbeeld bestand en maak een nieuwe <code>app.py</code>:</p> <pre><code>rm hello.py\n</code></pre> <p>Maak <code>app.py</code> met deze inhoud:</p> <pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage route.\"\"\"\n    return \"&lt;h1&gt;Welkom bij mijn Flask app!&lt;/h1&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/flask-deel2.html#stap-5-flask-app-runnen","title":"Stap 5: Flask app runnen","text":"<p>Run je app met uv:</p> <pre><code>uv run python app.py\n</code></pre> <p>Of korter (uv zoekt automatisch naar Python bestanden):</p> <pre><code>uv run app.py\n</code></pre> <p>Je ziet output zoals:</p> <pre><code> * Serving Flask app 'app'\n * Debug mode: on\n * Running on http://127.0.0.1:5000\nPress CTRL+C to quit\n * Restarting with stat\n * Debugger is active!\n</code></pre> <p>Open je browser en ga naar http://127.0.0.1:5000 - je ziet je eerste Flask pagina!</p> <p>Flask development server</p> <p>Met <code>debug=True</code> herstart de server automatisch bij code wijzigingen. Perfect voor development!</p>"},{"location":"week4/flask-deel2.html#project-structuur","title":"Project structuur","text":"<p>Je project ziet er nu zo uit:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 .python-version      # Python versie (bijv. 3.12)\n\u251c\u2500\u2500 .venv/               # Virtual environment (automatisch)\n\u251c\u2500\u2500 pyproject.toml       # Project configuratie\n\u251c\u2500\u2500 uv.lock              # Dependency lock file\n\u2514\u2500\u2500 app.py               # Je Flask applicatie\n</code></pre>"},{"location":"week4/flask-deel2.html#werken-met-uv-commands","title":"Werken met uv commands","text":""},{"location":"week4/flask-deel2.html#dependencies-toevoegen","title":"Dependencies toevoegen","text":"<p>Voeg packages toe met <code>uv add</code>:</p> <pre><code># Voeg requests toe\nuv add requests\n\n# Voeg development dependencies toe (bijv. pytest)\nuv add --dev pytest\n</code></pre>"},{"location":"week4/flask-deel2.html#dependencies-verwijderen","title":"Dependencies verwijderen","text":"<pre><code>uv remove requests\n</code></pre>"},{"location":"week4/flask-deel2.html#python-commandos-runnen","title":"Python commando's runnen","text":"<p>Gebruik <code>uv run</code> voor alle Python commando's:</p> <pre><code># Run Python bestand\nuv run app.py\n\n# Run Python module\nuv run -m flask --version\n\n# Open Python REPL\nuv run python\n</code></pre>"},{"location":"week4/flask-deel2.html#dependencies-installeren-nieuwe-machine","title":"Dependencies installeren (nieuwe machine)","text":"<p>Als je het project op een nieuwe machine kloont:</p> <pre><code>git clone &lt;repo&gt;\ncd mijn-flask-app\nuv sync\n</code></pre> <p>Dit installeert automatisch alle dependencies uit <code>uv.lock</code>.</p>"},{"location":"week4/flask-deel2.html#flask-development-mode","title":"Flask development mode","text":"<p>Voor development is het handig om Flask in development mode te runnen met de Flask CLI:</p> <pre><code>uv run flask --app app run --debug\n</code></pre> <p>Of korter, maak een <code>run.sh</code> (macOS/Linux) of <code>run.bat</code> (Windows):</p> <p>run.sh:</p> <pre><code>#!/bin/bash\nuv run flask --app app run --debug\n</code></pre> <p>run.bat:</p> <pre><code>@echo off\nuv run flask --app app run --debug\n</code></pre> <p>Maak executable (macOS/Linux):</p> <pre><code>chmod +x run.sh\n./run.sh\n</code></pre>"},{"location":"week4/flask-deel2.html#veelvoorkomende-workflows","title":"Veelvoorkomende workflows","text":""},{"location":"week4/flask-deel2.html#development-workflow","title":"Development workflow","text":"<pre><code># 1. Project maken\nmkdir mijn-app &amp;&amp; cd mijn-app\nuv init\n\n# 2. Dependencies toevoegen\nuv add flask\n\n# 3. Code schrijven (app.py)\n\n# 4. Runnen\nuv run app.py\n\n# 5. Nieuwe package nodig?\nuv add requests\n\n# 6. Tests runnen (later)\nuv add --dev pytest\nuv run pytest\n</code></pre>"},{"location":"week4/flask-deel2.html#project-delen-git","title":"Project delen (Git)","text":"<p>In je <code>.gitignore</code>:</p> <pre><code>.venv/\n__pycache__/\n*.pyc\n.DS_Store\n</code></pre> <p>Commit deze bestanden WEL:</p> <pre><code>pyproject.toml\nuv.lock\n.python-version\n</code></pre> <p>Anderen kunnen dan je project gebruiken met:</p> <pre><code>git clone &lt;repo&gt;\ncd &lt;repo&gt;\nuv sync\nuv run app.py\n</code></pre>"},{"location":"week4/flask-deel2.html#troubleshooting","title":"Troubleshooting","text":""},{"location":"week4/flask-deel2.html#uv-command-not-found","title":"\"uv: command not found\"","text":"<p>Installeer uv eerst:</p> <pre><code>pip install uv\n</code></pre>"},{"location":"week4/flask-deel2.html#python-version-mismatch","title":"\"Python version mismatch\"","text":"<p>Check je Python versie:</p> <pre><code>python --version\nuv python list\n</code></pre> <p>Installeer een specifieke Python versie met uv:</p> <pre><code>uv python install 3.12\n</code></pre>"},{"location":"week4/flask-deel2.html#package-conflict","title":"\"Package conflict\"","text":"<p>Sync dependencies opnieuw:</p> <pre><code>uv sync --refresh\n</code></pre>"},{"location":"week4/flask-deel2.html#virtual-environment-handmatig-activeren-soms-nodig-voor-editors","title":"Virtual environment handmatig activeren (soms nodig voor editors)","text":"<pre><code># macOS/Linux\nsource .venv/bin/activate\n\n# Windows PowerShell\n.\\.venv\\Scripts\\Activate.ps1\n\n# Windows CMD\n.\\.venv\\Scripts\\activate.bat\n</code></pre> <p>Deactiveren:</p> <pre><code>deactivate\n</code></pre> <p>Maar normaal gesproken gebruik je gewoon <code>uv run</code> en hoef je niets te activeren!</p>"},{"location":"week4/flask-deel2.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>uv installeren met <code>pip install uv</code></li> <li>Flask project maken met <code>uv init</code> en <code>uv add flask</code></li> <li>Flask app runnen met <code>uv run app.py</code></li> <li>Project structuur met <code>pyproject.toml</code> en <code>uv.lock</code></li> <li>Development workflow zonder handmatige virtual environment activatie</li> </ul> <p>Volgende stap: Deel 3 - Routes en dynamische URLs.</p>"},{"location":"week4/flask-deel3.html","title":"Flask \u2013 Basale Werking","text":""},{"location":"week4/flask-deel3.html#flask-basale-werking","title":"Flask \u2013 Basale Werking","text":"<p>Aan het eind van deze tekst maken we oefening 1.</p>"},{"location":"week4/flask-deel3.html#hoe-werkt-flask","title":"Hoe werkt Flask?","text":"<p>Vanuit vogelvluchtperspectief werkt Flask als volgt:</p> <ol> <li>Client stuurt request \u2192 Browser navigeert naar een URL (bijv. <code>/products</code>)</li> <li>Flask routeert request \u2192 Flask checkt welke functie bij deze route hoort</li> <li>Functie wordt uitgevoerd \u2192 De view-functie genereert een response (HTML, JSON, etc.)</li> <li>Response naar client \u2192 Browser toont de HTML of verwerkt de data</li> </ol> <p>Dit patroon heet het Request-Response Cycle en is fundamental voor alle webframeworks.</p>"},{"location":"week4/flask-deel3.html#je-eerste-flask-app","title":"Je eerste Flask app","text":"<p>We maken een bestand <code>app.py</code> waarin we de <code>Flask</code> class importeren en een instantie (applicatie object) maken:</p> <pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage route - retourneert een welkomstbericht.\"\"\"\n    return \"&lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/flask-deel3.html#code-uitleg-regel-voor-regel","title":"Code uitleg regel voor regel","text":"<p>Regel 1: <code>from flask import Flask</code></p> <ul> <li>Importeer de <code>Flask</code> class uit de flask module</li> </ul> <p>Regel 3: <code>app = Flask(__name__)</code></p> <ul> <li>Maak een Flask applicatie instance</li> <li><code>__name__</code> vertelt Flask waar templates en static files staan</li> </ul> <p>Regel 6: <code>@app.route(\"/\")</code></p> <ul> <li>Decorator die de functie hieronder koppelt aan een route</li> <li><code>/</code> is de homepage (root URL)</li> <li>Als gebruiker naar <code>http://127.0.0.1:5000/</code> gaat, wordt <code>index()</code> aangeroepen</li> </ul> <p>Regel 7: <code>def index() -&gt; str:</code></p> <ul> <li>View function die HTML returnt</li> <li><code>-&gt; str</code> is een type hint (modern Python pattern!)</li> <li>Docstring beschrijft wat de functie doet</li> </ul> <p>Regel 9: <code>return \"&lt;h1&gt;...&lt;/h1&gt;\"</code></p> <ul> <li>HTML string die naar de browser wordt gestuurd</li> <li>Later vervangen we dit door templates</li> </ul> <p>Regel 12-13: <code>if __name__ == \"__main__\":</code></p> <ul> <li>Dit blok wordt alleen uitgevoerd als je dit bestand direct runt</li> <li>Voorkomt dat de server start bij imports</li> </ul> <p>Regel 13: <code>app.run(debug=True)</code></p> <ul> <li>Start de development server</li> <li><code>debug=True</code> activeert auto-reload en betere foutmeldingen</li> </ul> <p>Type hints in Flask</p> <p>We gebruiken type hints (<code>-&gt; str</code>) bij alle Flask routes. Dit is modern Python en helpt editors met autocomplete en type checking!</p>"},{"location":"week4/flask-deel3.html#de-app-runnen","title":"De app runnen","text":"<p>Start je app met uv (vanuit Week \u2154 workflow):</p> <pre><code>uv run python app.py\n</code></pre> <p>Je ziet output zoals:</p> <pre><code> * Serving Flask app \"app\"\n * Debug mode: on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\n * Debugger is active!\n</code></pre> <p>Open je browser en ga naar <code>http://127.0.0.1:5000/</code>:</p> <p>Verwacht resultaat: De browser toont de homepage met de tekst \"Welkom bij muziekschool Session\" als grote kop (<code>&lt;h1&gt;</code>), zonder verdere opmaak of stijl.</p> <p>Development server</p> <p>De Flask development server is ALLEEN voor development! Voor productie gebruik je een echte WSGI server zoals Gunicorn of uWSGI.</p>"},{"location":"week4/flask-deel3.html#meerdere-routes","title":"Meerdere routes","text":"<p>Een webapplicatie heeft meestal meerdere pagina's. Voeg eenvoudig extra routes toe:</p> <pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage.\"\"\"\n    return \"&lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\"\n\n\n@app.route(\"/informatie\")\ndef info() -&gt; str:\n    \"\"\"Informatiepagina over de muziekschool.\"\"\"\n    return \"&lt;h1&gt;Dit hebben we jou te bieden:&lt;/h1&gt;&lt;p&gt;Piano, gitaar, drums, zang&lt;/p&gt;\"\n\n\n@app.route(\"/contact\")\ndef contact() -&gt; str:\n    \"\"\"Contactpagina.\"\"\"\n    return \"&lt;h1&gt;Neem contact op&lt;/h1&gt;&lt;p&gt;Email: info@session.nl&lt;/p&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Nu kun je naar drie verschillende URLs gaan:</p> <ul> <li><code>http://127.0.0.1:5000/</code> \u2192 Homepage</li> <li><code>http://127.0.0.1:5000/informatie</code> \u2192 Informatiepagina</li> <li><code>http://127.0.0.1:5000/contact</code> \u2192 Contactpagina</li> </ul> <p>Verwacht resultaat: De browser toont de <code>/informatie</code> pagina met de kop \"Dit hebben we jou te bieden:\" gevolgd door de tekst \"Piano, gitaar, drums, zang\".</p> <p>Auto-reload met debug mode</p> <p>Met <code>debug=True</code> hoef je de server niet handmatig te herstarten. Flask detecteert wijzigingen en herstart automatisch!</p>"},{"location":"week4/flask-deel3.html#404-pagina-niet-gevonden","title":"404 - Pagina niet gevonden","text":"<p>Als je naar een route gaat die niet bestaat (bijv. <code>http://127.0.0.1:5000/nope</code>), krijg je een 404 error:</p> <p>Verwacht resultaat: De browser toont de standaard Flask 404-foutpagina met de melding \"Not Found\" en de uitleg dat de gevraagde URL niet op de server bestaat.</p> <p>Je kunt custom error pages maken voor 404s.</p>"},{"location":"week4/flask-deel3.html#dynamische-routes","title":"Dynamische routes","text":"<p>Wat als je honderden cursisten hebt, elk met hun eigen profielpagina? Je wilt niet voor elke cursist een aparte route schrijven!</p> <p>Oplossing: Dynamische routes met URL parameters.</p>"},{"location":"week4/flask-deel3.html#basis-voorbeeld","title":"Basis voorbeeld","text":"<pre><code>@app.route(\"/cursist/&lt;naam&gt;\")\ndef cursist(naam: str) -&gt; str:\n    \"\"\"Cursist profielpagina met dynamische naam.\n\n    Args:\n        naam: De naam van de cursist uit de URL\n    \"\"\"\n    return f\"&lt;h1&gt;Dit is de pagina van {naam}&lt;/h1&gt;\"\n</code></pre> <p>Hoe werkt dit:</p> <ul> <li><code>&lt;naam&gt;</code> in de route is een variabele</li> <li>De waarde wordt uit de URL gehaald en doorgegeven aan de functie</li> <li><code>naam: str</code> is de parameter met type hint</li> </ul> <p>Voorbeelden:</p> <ul> <li><code>http://localhost:5000/cursist/Henk</code> \u2192 Pagina van Henk</li> <li><code>http://localhost:5000/cursist/Joyce</code> \u2192 Pagina van Joyce</li> <li><code>http://localhost:5000/cursist/Ralf</code> \u2192 Pagina van Ralf</li> </ul> <p>Verwacht resultaat: De browser toont de pagina voor de route <code>/cursist/Henk</code> met de tekst \"Dit is de pagina van Henk\" als grote kop.</p>"},{"location":"week4/flask-deel3.html#url-parameters-met-types","title":"URL parameters met types","text":"<p>Je kunt het type van URL parameters specificeren:</p> <pre><code>@app.route(\"/product/&lt;int:product_id&gt;\")\ndef product(product_id: int) -&gt; str:\n    \"\"\"Product detailpagina.\n\n    Args:\n        product_id: ID van het product (integer)\n    \"\"\"\n    return f\"&lt;h1&gt;Product {product_id}&lt;/h1&gt;\"\n\n\n@app.route(\"/prijs/&lt;float:bedrag&gt;\")\ndef prijs(bedrag: float) -&gt; str:\n    \"\"\"Toon prijs met BTW.\n\n    Args:\n        bedrag: Prijs excl. BTW\n    \"\"\"\n    btw = bedrag * 0.21\n    totaal = bedrag + btw\n    return f\"&lt;p&gt;Excl: \u20ac{bedrag:.2f}&lt;br&gt;BTW: \u20ac{btw:.2f}&lt;br&gt;Totaal: \u20ac{totaal:.2f}&lt;/p&gt;\"\n</code></pre> <p>Beschikbare types:</p> <ul> <li><code>&lt;variabele&gt;</code> \u2192 string (default)</li> <li><code>&lt;int:variabele&gt;</code> \u2192 integer</li> <li><code>&lt;float:variabele&gt;</code> \u2192 float</li> <li><code>&lt;path:variabele&gt;</code> \u2192 string met slashes (voor file paths)</li> <li><code>&lt;uuid:variabele&gt;</code> \u2192 UUID string</li> </ul> <p>Verwacht resultaat: De browser toont de pagina voor <code>/product/123</code> met de kop \"Product 123\". Flask heeft de <code>&lt;int:product_id&gt;</code> parameter automatisch als integer verwerkt.</p>"},{"location":"week4/flask-deel3.html#meerdere-parameters","title":"Meerdere parameters","text":"<pre><code>@app.route(\"/les/&lt;string:instrument&gt;/&lt;int:niveau&gt;\")\ndef les(instrument: str, niveau: int) -&gt; str:\n    \"\"\"Lesinfo met instrument en niveau.\n\n    Args:\n        instrument: Type instrument (gitaar, piano, etc.)\n        niveau: Niveau (1=beginner, 2=gevorderd, 3=expert)\n    \"\"\"\n    niveau_naam = [\"beginner\", \"gevorderd\", \"expert\"][niveau - 1]\n    return f\"&lt;h1&gt;{instrument.capitalize()} - {niveau_naam}&lt;/h1&gt;\"\n</code></pre> <p>URL: <code>http://localhost:5000/les/gitaar/2</code> \u2192 \"Gitaar - gevorderd\"</p>"},{"location":"week4/flask-deel3.html#debug-mode-en-foutmeldingen","title":"Debug mode en foutmeldingen","text":""},{"location":"week4/flask-deel3.html#zonder-debug-mode","title":"Zonder debug mode","text":"<p>Voeg opzettelijk een fout toe:</p> <pre><code>@app.route(\"/fout/&lt;naam&gt;\")\ndef fout(naam: str) -&gt; str:\n    \"\"\"Demonstreer foutmelding (opzettelijke bug).\"\"\"\n    # Bug: probeer 20e karakter terwijl naam meestal korter is\n    return f\"De 20e letter van {naam} is {naam[20]}\"\n</code></pre> <p>Start server ZONDER debug: <code>app.run()</code> (zonder <code>debug=True</code>)</p> <p>Navigeer naar <code>http://localhost:5000/fout/Jan</code> (3 karakters, geen 20e):</p> <p>Verwacht resultaat: De browser toont een generieke \"500 Internal Server Error\" pagina zonder verdere details. Er is geen uitleg over de oorzaak van de fout zichtbaar.</p> <p>Weinig informatie, moeilijk te debuggen!</p>"},{"location":"week4/flask-deel3.html#met-debug-mode","title":"Met debug mode","text":"<p>Zet <code>debug=True</code> aan: <code>app.run(debug=True)</code></p> <p>Nu krijg je een interactieve debugger:</p> <p>Verwacht resultaat: De browser toont de Flask interactieve debugger met de volledige stack trace, de exacte foutmelding (<code>IndexError: string index out of range</code>), en de regelnummer in de code waar de fout optrad.</p> <p>Je ziet:</p> <ul> <li>Exacte foutmelding (<code>IndexError: string index out of range</code>)</li> <li>Stack trace met regelnummers</li> <li>Code context (welke regel crashte)</li> <li>Interactieve console (klik op console icoon, voer PIN in)</li> </ul> <p>Debug mode in productie</p> <p>NOOIT <code>debug=True</code> gebruiken in productie! Het toont sourcecode en staat remote code execution toe (via de debug console). Productie setup: </p><pre><code>if __name__ == \"__main__\":\n    # Development\n    app.run(debug=True)\nelse:\n    # Productie (via Gunicorn/uWSGI)\n    pass\n</code></pre><p></p>"},{"location":"week4/flask-deel3.html#best-practices","title":"Best practices","text":""},{"location":"week4/flask-deel3.html#type-hints-overal","title":"Type hints overal","text":"<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage.\"\"\"\n    return \"&lt;h1&gt;Welkom&lt;/h1&gt;\"\n\n\n@app.route(\"/user/&lt;int:user_id&gt;\")\ndef user(user_id: int) -&gt; str:\n    \"\"\"User profile.\n\n    Args:\n        user_id: ID van de gebruiker\n    \"\"\"\n    return f\"&lt;p&gt;User ID: {user_id}&lt;/p&gt;\"\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/flask-deel3.html#docstrings-voor-routes","title":"Docstrings voor routes","text":"<pre><code>@app.route(\"/product/&lt;int:product_id&gt;\")\ndef product(product_id: int) -&gt; str:\n    \"\"\"Product detailpagina.\n\n    Deze route toont details van een specifiek product.\n\n    Args:\n        product_id: Unieke identifier van het product\n\n    Returns:\n        HTML string met product informatie\n    \"\"\"\n    # Later: haal product op uit database\n    return f\"&lt;h1&gt;Product {product_id}&lt;/h1&gt;\"\n</code></pre>"},{"location":"week4/flask-deel3.html#consistente-naming","title":"Consistente naming","text":"<pre><code># Goed: lowercase met underscores\n@app.route(\"/my-page\")\ndef my_page() -&gt; str:\n    \"\"\"Route handler voor /my-page.\"\"\"\n    return \"&lt;p&gt;Content&lt;/p&gt;\"\n\n# Vermijd: CamelCase in functienamen\n@app.route(\"/other-page\")\ndef otherPage() -&gt; str:  # Niet Pythonic!\n    return \"&lt;p&gt;Content&lt;/p&gt;\"\n</code></pre>"},{"location":"week4/flask-deel3.html#voorbereiding-op-templates-deel-4","title":"Voorbereiding op Templates (Deel 4)","text":"<p>HTML in Python strings is niet handig voor grotere pagina's. Met Jinja2 templates scheid je HTML van Python:</p> <pre><code># Nu (deel 3):\n@app.route(\"/\")\ndef index() -&gt; str:\n    return \"&lt;h1&gt;Welkom&lt;/h1&gt;&lt;p&gt;Dit is de homepage&lt;/p&gt;\"\n\n# Straks (deel 4):\nfrom flask import render_template\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    return render_template(\"index.html\", title=\"Welkom\")\n</code></pre> <p>Met templates scheid je HTML (presentatie) van Python (logica)!</p>"},{"location":"week4/flask-deel3.html#link-met-week-3-sql","title":"Link met Week 3 (SQL)","text":"<p>Later combineer je Flask routes met databases:</p> <pre><code>import sqlite3\nfrom flask import Flask\n\napp = Flask(__name__)\n\n\n@app.route(\"/products\")\ndef products() -&gt; str:\n    \"\"\"Toon alle producten uit database.\"\"\"\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = sqlite3.Row\n        cursor = conn.execute(\"SELECT * FROM products\")\n        results = cursor.fetchall()\n\n    # Nu: HTML in string (onhandig)\n    html = \"&lt;h1&gt;Producten&lt;/h1&gt;&lt;ul&gt;\"\n    for product in results:\n        html += f\"&lt;li&gt;{product['name']}: \u20ac{product['price']}&lt;/li&gt;\"\n    html += \"&lt;/ul&gt;\"\n    return html\n\n# Later (Week 6): met SQLAlchemy + templates!\n</code></pre>"},{"location":"week4/flask-deel3.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Flask app structuur: <code>Flask(__name__)</code>, routes, <code>app.run()</code></li> <li>Routes maken: <code>@app.route(\"/path\")</code></li> <li>Type hints: <code>-&gt; str</code> voor return types, <code>naam: str</code> voor parameters</li> <li>Dynamische routes: <code>&lt;naam&gt;</code>, <code>&lt;int:id&gt;</code>, <code>&lt;float:prijs&gt;</code></li> <li>Debug mode: Auto-reload en interactieve debugger</li> <li>Best practices: Type hints, docstrings, consistent naming</li> </ul> <p>Volgende stap: Deel 4 - Jinja2 templates.</p> <p>Oefening: Maak nu oefening 1.</p> <p>Modern Flask pattern</p> <p>Deze patterns (type hints, docstrings, <code>uv</code>) gebruik je voor alle Flask projecten in deze cursus. In Week 6 voeg je SQLAlchemy toe voor database operaties!</p>"},{"location":"week4/flask-deel4.html","title":"Flask \u2013 Templates met Jinja2","text":""},{"location":"week4/flask-deel4.html#flask-templates-met-jinja2","title":"Flask \u2013 Templates met Jinja2","text":"<p>Tot nu toe heb je HTML als Python strings geretourneerd. Dat werkt voor kleine voorbeelden, maar voor echte webapplicaties gebruik je templates - HTML bestanden met placeholders voor dynamische data.</p> <p>Flask gebruikt Jinja2 als template engine. Jinja2 laat je variabelen, loops, conditionals en meer gebruiken in HTML. Dit scheidt presentatie (HTML) van logica (Python).</p> <p>Flask zoekt automatisch naar templates in de <code>templates/</code> directory in je project root.</p>"},{"location":"week4/flask-deel4.html#project-structuur-met-templates","title":"Project structuur met templates","text":"<p>Voor templates heb je twee extra directories nodig:</p> <pre><code>mkdir templates\nmkdir static\n</code></pre> <p>Je project structuur wordt dan:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 .python-version\n\u251c\u2500\u2500 .venv/\n\u251c\u2500\u2500 app.py\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 uv.lock\n\u251c\u2500\u2500 static/              # Voor CSS, images, JavaScript\n\u2502   \u2514\u2500\u2500 drums.jpg\n\u2514\u2500\u2500 templates/           # Voor HTML templates\n    \u2514\u2500\u2500 basic.html\n</code></pre>"},{"location":"week4/flask-deel4.html#je-eerste-template","title":"Je eerste template","text":""},{"location":"week4/flask-deel4.html#stap-1-maak-een-html-template","title":"Stap 1: Maak een HTML template","text":"<p>Maak <code>templates/basic.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Basic Template&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\n        &lt;h2&gt;Dit drumstel wordt gebruikt tijdens de lessen&lt;/h2&gt;\n        &lt;img src=\"{{ url_for('static', filename='drums.jpg') }}\"\n             width=\"600\"\n             height=\"400\"\n             alt=\"Drumstel\"&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Let op: <code>{{ url_for('static', filename='drums.jpg') }}</code></p> <ul> <li>Jinja2 syntax voor dynamische URL generatie</li> <li>Beter dan een vast ingesteld pad zoals <code>../static/drums.jpg</code></li> <li>Werkt ook als je app in een subdirectory draait</li> </ul>"},{"location":"week4/flask-deel4.html#stap-2-render-de-template-in-flask","title":"Stap 2: Render de template in Flask","text":"<p>Update <code>app.py</code>:</p> <pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met template rendering.\"\"\"\n    return render_template(\"basic.html\")\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Code uitleg:</p> <ul> <li><code>from flask import render_template</code> - Import render functie</li> <li><code>render_template(\"basic.html\")</code> - Flask zoekt in <code>templates/</code> en rendert de HTML</li> <li>Return type blijft <code>str</code> (render_template retourneert HTML string)</li> </ul>"},{"location":"week4/flask-deel4.html#stap-3-run-en-test","title":"Stap 3: Run en test","text":"<pre><code>uv run python app.py\n</code></pre> <p>Ga naar <code>http://127.0.0.1:5000/</code> - je ziet de template met afbeelding!</p> <p>Verwacht resultaat: De browser toont de gerenderde template met de kop \"Welkom bij muziekschool Session\", een subkop \"Dit drumstel wordt gebruikt tijdens de lessen\", en een afbeelding van een drumstel.</p>"},{"location":"week4/flask-deel4.html#variabelen-doorgeven-aan-templates","title":"Variabelen doorgeven aan templates","text":"<p>De kracht van templates zit in dynamische data. Je geeft Python variabelen door aan de template:</p>"},{"location":"week4/flask-deel4.html#basis-voorbeeld","title":"Basis voorbeeld","text":"<p>Template (<code>templates/welkom.html</code>):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Welkom&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Hallo {{ naam }}!&lt;/h1&gt;\n        &lt;p&gt;Je bent cursist nummer {{ cursist_id }}&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Flask route (<code>app.py</code>):</p> <pre><code>@app.route(\"/cursist/&lt;naam&gt;\")\ndef cursist(naam: str) -&gt; str:\n    \"\"\"Cursist welkomstpagina met template.\n\n    Args:\n        naam: Naam van de cursist uit URL\n    \"\"\"\n    cursist_id = 42  # Later: haal dit op uit database\n    return render_template(\"welkom.html\", naam=naam, cursist_id=cursist_id)\n</code></pre> <p>Hoe werkt dit:</p> <ul> <li><code>{{ naam }}</code> in template wordt vervangen door waarde van <code>naam=naam</code></li> <li><code>{{ cursist_id }}</code> wordt vervangen door <code>cursist_id=cursist_id</code></li> <li>Eerste <code>naam</code> = template variable, tweede <code>naam</code> = Python variable</li> </ul> <p>Result: Navigeer naar <code>http://localhost:5000/cursist/Joyce</code></p> <p>Verwacht resultaat: De browser toont de pagina voor <code>/cursist/Joyce</code> met de kop \"Hallo Joyce!\" en de tekst \"Je bent cursist nummer 42\".</p>"},{"location":"week4/flask-deel4.html#data-types-in-templates","title":"Data types in templates","text":"<p>Je kunt alle Python types doorgeven: strings, integers, lists, dictionaries, etc.</p>"},{"location":"week4/flask-deel4.html#voorbeeld-met-meerdere-types","title":"Voorbeeld met meerdere types","text":"<p>Flask route:</p> <pre><code>@app.route(\"/demo\")\ndef demo() -&gt; str:\n    \"\"\"Demonstreer verschillende data types in templates.\"\"\"\n    naam = \"Joyce\"\n    letters = list(naam)  # ['J', 'o', 'y', 'c', 'e']\n    cursist_dict = {\"1234\": \"Sietse\", \"5678\": \"Carla\"}\n\n    return render_template(\n        \"demo.html\",\n        naam=naam,\n        letters=letters,\n        cursist_dict=cursist_dict\n    )\n</code></pre> <p>Template (<code>templates/demo.html</code>):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Demo&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Naam: {{ naam }}&lt;/h1&gt;\n        &lt;h2&gt;Letters als lijst: {{ letters }}&lt;/h2&gt;\n        &lt;h2&gt;Cursist dict: {{ cursist_dict }}&lt;/h2&gt;\n\n        &lt;!-- Specifieke waardes ophalen --&gt;\n        &lt;p&gt;Laatste 2 letters: {{ letters[3:] }}&lt;/p&gt;\n        &lt;p&gt;Cursist 1234: {{ cursist_dict['1234'] }}&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Result:</p> <p>Verwacht resultaat: De browser toont de <code>/demo</code> pagina met de naam \"Joyce\", de letters als lijst (<code>['J', 'o', 'y', 'c', 'e']</code>), het cursistenwoordenboek, de laatste twee letters via slicing (<code>['c', 'e']</code>), en de waarde voor sleutel \"1234\" (<code>Sietse</code>).</p> <p>Je kunt Python syntax gebruiken in templates:</p> <ul> <li><code>letters[3:]</code> - List slicing</li> <li><code>cursist_dict['1234']</code> - Dictionary access</li> <li><code>naam.upper()</code> - String methods</li> <li>En meer!</li> </ul>"},{"location":"week4/flask-deel4.html#control-flow-in-templates","title":"Control flow in templates","text":"<p>Jinja2 ondersteunt control flow met <code>{% ... %}</code> syntax.</p>"},{"location":"week4/flask-deel4.html#for-loops","title":"For loops","text":"<p>Flask route:</p> <pre><code>@app.route(\"/cursisten\")\ndef cursisten() -&gt; str:\n    \"\"\"Lijst van alle cursisten.\"\"\"\n    cursisten_lijst = [\"Joyce\", \"Sietse\", \"Carla\", \"Henk\"]\n    return render_template(\"cursisten.html\", cursisten=cursisten_lijst)\n</code></pre> <p>Template (<code>templates/cursisten.html</code>):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Cursisten&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Onze cursisten&lt;/h1&gt;\n        &lt;ul&gt;\n        {% for cursist in cursisten %}\n            &lt;li&gt;{{ cursist }}&lt;/li&gt;\n        {% endfor %}\n        &lt;/ul&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Belangrijke punten:</p> <ul> <li><code>{% for ... %}</code> opent de loop</li> <li><code>{% endfor %}</code> sluit de loop</li> <li><code>{{ cursist }}</code> toont elke waarde</li> <li>Geen <code>:</code> nodig zoals in Python!</li> </ul> <p>Result:</p> <p>Verwacht resultaat: De browser toont de <code>/cursisten</code> pagina met de kop \"Onze cursisten\" en een ongeordende lijst met de namen Joyce, Sietse, Carla en Henk als afzonderlijke items.</p>"},{"location":"week4/flask-deel4.html#if-statements","title":"If statements","text":"<p>Voeg conditionele logica toe aan templates:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Cursisten Check&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Cursisten lijst&lt;/h1&gt;\n        &lt;ul&gt;\n        {% for cursist in cursisten %}\n            &lt;li&gt;{{ cursist }}&lt;/li&gt;\n        {% endfor %}\n        &lt;/ul&gt;\n\n        &lt;h2&gt;Komt Carla voor in de lijst?&lt;/h2&gt;\n        {% if 'Carla' in cursisten %}\n            &lt;p class=\"success\"&gt;Carla komt in de lijst voor!&lt;/p&gt;\n        {% else %}\n            &lt;p class=\"error\"&gt;Carla komt niet in de lijst voor.&lt;/p&gt;\n        {% endif %}\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Result:</p> <p>Verwacht resultaat: De browser toont de cursistenlijst gevolgd door de subkop \"Komt Carla voor in de lijst?\" met daaronder de bevestigende tekst \"Carla komt in de lijst voor!\" omdat de <code>if</code>-conditie waar is.</p> <p>If-elif-else:</p> <pre><code>{% if niveau == 1 %}\n    &lt;p&gt;Beginner cursus&lt;/p&gt;\n{% elif niveau == 2 %}\n    &lt;p&gt;Gevorderde cursus&lt;/p&gt;\n{% elif niveau == 3 %}\n    &lt;p&gt;Expert cursus&lt;/p&gt;\n{% else %}\n    &lt;p&gt;Onbekend niveau&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"week4/flask-deel4.html#filters-in-templates","title":"Filters in templates","text":"<p>Jinja2 heeft ingebouwde filters om data te transformeren:</p> <pre><code>&lt;h1&gt;{{ naam|upper }}&lt;/h1&gt;              &lt;!-- JOYCE --&gt;\n&lt;h1&gt;{{ naam|lower }}&lt;/h1&gt;              &lt;!-- joyce --&gt;\n&lt;h1&gt;{{ naam|capitalize }}&lt;/h1&gt;         &lt;!-- Joyce --&gt;\n&lt;h1&gt;{{ naam|title }}&lt;/h1&gt;              &lt;!-- Joyce --&gt;\n\n&lt;p&gt;Prijs: {{ prijs|round(2) }}&lt;/p&gt;     &lt;!-- 19.99 --&gt;\n&lt;p&gt;Datum: {{ datum|default('Onbekend') }}&lt;/p&gt;\n\n&lt;!-- List filters --&gt;\n&lt;p&gt;{{ cursisten|length }} cursisten&lt;/p&gt;\n&lt;p&gt;{{ cursisten|join(', ') }}&lt;/p&gt;      &lt;!-- Joyce, Sietse, Carla --&gt;\n</code></pre> <p>Veelgebruikte filters:</p> <ul> <li><code>|upper</code>, <code>|lower</code>, <code>|capitalize</code>, <code>|title</code> - String transformaties</li> <li><code>|length</code> - Lengte van list/string</li> <li><code>|default('waarde')</code> - Fallback als variabele None is</li> <li><code>|join(', ')</code> - Join list elementen</li> <li><code>|round(2)</code> - Rond float af</li> <li><code>|safe</code> - Mark HTML als veilig (voorkom escaping)</li> </ul>"},{"location":"week4/flask-deel4.html#template-inheritance-belangrijk","title":"Template inheritance (belangrijk!)","text":"<p>Voor grotere apps wil je niet steeds hetzelfde HTML herhalen. Gebruik template inheritance!</p>"},{"location":"week4/flask-deel4.html#base-template","title":"Base template","text":"<p><code>templates/base.html</code> (parent template):</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;{% block title %}Muziekschool Session{% endblock %}&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;nav&gt;\n            &lt;a href=\"/\"&gt;Home&lt;/a&gt;\n            &lt;a href=\"/cursisten\"&gt;Cursisten&lt;/a&gt;\n            &lt;a href=\"/contact\"&gt;Contact&lt;/a&gt;\n        &lt;/nav&gt;\n\n        &lt;main&gt;\n            {% block content %}\n            &lt;!-- Child templates vullen dit in --&gt;\n            {% endblock %}\n        &lt;/main&gt;\n\n        &lt;footer&gt;\n            &lt;p&gt;&amp;copy; 2024 Muziekschool Session&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"week4/flask-deel4.html#child-template","title":"Child template","text":"<p><code>templates/home.html</code> (extends base):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}Home - Muziekschool Session{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Welkom bij Muziekschool Session&lt;/h1&gt;\n    &lt;p&gt;We bieden lessen in piano, gitaar, drums en zang.&lt;/p&gt;\n{% endblock %}\n</code></pre> <p><code>templates/cursisten.html</code> (extends base):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}Cursisten - Muziekschool Session{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Onze cursisten&lt;/h1&gt;\n    &lt;ul&gt;\n    {% for cursist in cursisten %}\n        &lt;li&gt;{{ cursist }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n{% endblock %}\n</code></pre>"},{"location":"week4/flask-deel4.html#complete-voorbeeld-met-types","title":"Complete voorbeeld met types","text":"<pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage.\"\"\"\n    return render_template(\"home.html\")\n\n\n@app.route(\"/cursisten\")\ndef cursisten() -&gt; str:\n    \"\"\"Cursisten overzicht met template.\"\"\"\n    cursisten_lijst = [\"Joyce\", \"Sietse\", \"Carla\"]\n    return render_template(\"cursisten.html\", cursisten=cursisten_lijst)\n\n\n@app.route(\"/cursist/&lt;int:cursist_id&gt;\")\ndef cursist_detail(cursist_id: int) -&gt; str:\n    \"\"\"Cursist detail pagina.\n\n    Args:\n        cursist_id: ID van de cursist\n    \"\"\"\n    # Later: haal uit database\n    cursist_data = {\n        \"id\": cursist_id,\n        \"naam\": \"Joyce\",\n        \"instrument\": \"Piano\",\n        \"niveau\": 2\n    }\n    return render_template(\"cursist_detail.html\", cursist=cursist_data)\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre> <p>Template (<code>templates/cursist_detail.html</code>):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}{{ cursist.naam }} - Cursisten{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Cursist: {{ cursist.naam }}&lt;/h1&gt;\n    &lt;dl&gt;\n        &lt;dt&gt;ID:&lt;/dt&gt;\n        &lt;dd&gt;{{ cursist.id }}&lt;/dd&gt;\n\n        &lt;dt&gt;Instrument:&lt;/dt&gt;\n        &lt;dd&gt;{{ cursist.instrument }}&lt;/dd&gt;\n\n        &lt;dt&gt;Niveau:&lt;/dt&gt;\n        &lt;dd&gt;\n            {% if cursist.niveau == 1 %}\n                Beginner\n            {% elif cursist.niveau == 2 %}\n                Gevorderd\n            {% else %}\n                Expert\n            {% endif %}\n        &lt;/dd&gt;\n    &lt;/dl&gt;\n{% endblock %}\n</code></pre>"},{"location":"week4/flask-deel4.html#link-met-week-3-sql","title":"Link met Week 3 (SQL)","text":"<p>Straks combineer je templates met database queries:</p> <pre><code>import sqlite3\nfrom flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/products\")\ndef products() -&gt; str:\n    \"\"\"Product lijst uit database.\"\"\"\n    with sqlite3.connect(\"shop.db\") as conn:\n        conn.row_factory = sqlite3.Row\n        cursor = conn.execute(\"SELECT * FROM products ORDER BY name\")\n        products_list = cursor.fetchall()\n\n    return render_template(\"products.html\", products=products_list)\n</code></pre> <p>Template (<code>templates/products.html</code>):</p> <pre><code>{% extends \"base.html\" %}\n\n{% block content %}\n    &lt;h1&gt;Producten&lt;/h1&gt;\n    &lt;table&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Naam&lt;/th&gt;\n                &lt;th&gt;Prijs&lt;/th&gt;\n                &lt;th&gt;Voorraad&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        {% for product in products %}\n            &lt;tr&gt;\n                &lt;td&gt;{{ product.name }}&lt;/td&gt;\n                &lt;td&gt;\u20ac{{ product.price|round(2) }}&lt;/td&gt;\n                &lt;td&gt;{{ product.stock }}&lt;/td&gt;\n            &lt;/tr&gt;\n        {% endfor %}\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n{% endblock %}\n</code></pre> <p>Met SQLAlchemy wordt dit nog makkelijker - dat zie je in Week 6.</p>"},{"location":"week4/flask-deel4.html#best-practices","title":"Best practices","text":""},{"location":"week4/flask-deel4.html#1-type-hints-in-flask-routes","title":"1. Type hints in Flask routes","text":"<pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met type hint.\"\"\"\n    return render_template(\"home.html\")\n\n\n@app.route(\"/user/&lt;int:user_id&gt;\")\ndef user(user_id: int) -&gt; str:\n    \"\"\"User pagina met typed parameter.\"\"\"\n    return render_template(\"user.html\", user_id=user_id)\n</code></pre>"},{"location":"week4/flask-deel4.html#2-template-inheritance","title":"2. Template inheritance","text":"<p>Gebruik altijd <code>base.html</code> voor consistente layout.</p>"},{"location":"week4/flask-deel4.html#3-comments-in-templates","title":"3. Comments in templates","text":"<pre><code>{# Dit is een Jinja2 comment - wordt niet gerenderd #}\n\n{% comment %}\nMulti-line comment\nOok mogelijk\n{% endcomment %}\n\n&lt;!-- HTML comment - wordt WEL naar browser gestuurd --&gt;\n</code></pre>"},{"location":"week4/flask-deel4.html#4-template-organization","title":"4. Template organization","text":"<pre><code>templates/\n\u251c\u2500\u2500 base.html\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 navbar.html\n\u2502   \u2514\u2500\u2500 footer.html\n\u251c\u2500\u2500 cursisten/\n\u2502   \u251c\u2500\u2500 list.html\n\u2502   \u2514\u2500\u2500 detail.html\n\u2514\u2500\u2500 home.html\n</code></pre> <p>Gebruik subdirectories voor grotere apps!</p>"},{"location":"week4/flask-deel4.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt geleerd:</p> <ul> <li>Templates maken in <code>templates/</code> directory</li> <li>Static files serveren uit <code>static/</code> directory</li> <li>Variabelen doorgeven met <code>render_template()</code></li> <li>Template syntax: <code>{{ variabele }}</code> en <code>{% control %}</code></li> <li>For loops: <code>{% for item in items %}</code></li> <li>If statements: <code>{% if conditie %}</code></li> <li>Filters: <code>{{ naam|upper }}</code>, <code>{{ prijs|round(2) }}</code></li> <li>Template inheritance: <code>{% extends \"base.html\" %}</code></li> <li>Type hints: <code>-&gt; str</code> voor render_template returns</li> </ul> <p>Volgende stap: Week 5 - Flask Forms en WTForms.</p>"},{"location":"week4/bestanden/webshop/index.html","title":"Webshop Flask Applicatie","text":""},{"location":"week4/bestanden/webshop/index.html#webshop-flask-applicatie","title":"Webshop Flask Applicatie","text":"<p>Deze applicatie demonstreert Flask met de webshop database uit Week 3.</p>"},{"location":"week4/bestanden/webshop/index.html#rode-draad-door-de-cursus","title":"Rode Draad door de Cursus","text":"<p>Deze webshop applicatie bouwt voort op:</p> <ul> <li>Week 2 (OOP): <code>Product</code>, <code>Customer</code>, <code>Order</code>, <code>Cart</code> classes</li> <li>Week 3 (SQL): <code>webshop.sqlite</code> database met <code>products</code> en <code>categories</code></li> <li>Week 4 (Flask): Product catalog met routes en templates</li> <li>Week 5 (Forms): Formulieren voor producten toevoegen (komt nog)</li> <li>Week 6 (SQLAlchemy): ORM models voor database (komt nog)</li> <li>Week 7 (Auth/Blueprints): Login en gestructureerde app (komt nog)</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#structuur","title":"Structuur","text":"<pre><code>webshop/\n\u251c\u2500\u2500 app.py                    # Main Flask applicatie met routes\n\u251c\u2500\u2500 database.py               # WebshopDatabase class voor queries\n\u251c\u2500\u2500 templates/                # Jinja2 templates\n\u2502   \u251c\u2500\u2500 base.html            # Base template met Bootstrap 5\n\u2502   \u251c\u2500\u2500 index.html           # Homepage met categorie\u00ebn\n\u2502   \u251c\u2500\u2500 category.html        # Categorie overzicht\n\u2502   \u251c\u2500\u2500 product.html         # Product detail pagina\n\u2502   \u2514\u2500\u2500 404.html             # Custom error pagina\n\u2514\u2500\u2500 static/                   # CSS, images, JavaScript (optioneel)\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#features","title":"Features","text":"<p>Routes:</p> <ul> <li><code>/</code> - Homepage met alle categorie\u00ebn</li> <li><code>/category/&lt;id&gt;</code> - Producten per categorie</li> <li><code>/product/&lt;id&gt;</code> - Product detail pagina</li> </ul> <p>Database Integratie:</p> <ul> <li>Gebruikt <code>webshop.sqlite</code> uit Week 3</li> <li>Hergebruikt SQL queries uit Week 3</li> <li>Type hints en modern Python patterns</li> </ul> <p>Templates:</p> <ul> <li>Bootstrap 5.3.0 voor styling</li> <li>Template inheritance (<code>{% extends %}</code>)</li> <li>Jinja2 loops en conditionals</li> <li>Responsive design</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#setup","title":"Setup","text":""},{"location":"week4/bestanden/webshop/index.html#1-installeer-flask","title":"1. Installeer Flask","text":"<p>Vanuit deze directory:</p> <pre><code>uv init\nuv add flask\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#2-controleer-database-pad","title":"2. Controleer database pad","text":"<p>De <code>database.py</code> zoekt de database in:</p> <pre><code>db_path = \"../../../week3/bestanden/webshop.sqlite\"\n</code></pre> <p>Als je de database elders hebt, pas het pad aan.</p>"},{"location":"week4/bestanden/webshop/index.html#3-run-de-applicatie","title":"3. Run de applicatie","text":"<pre><code>uv run python app.py\n</code></pre> <p>Of met Flask CLI:</p> <pre><code>uv run flask run\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#4-open-in-browser","title":"4. Open in browser","text":"<pre><code>http://127.0.0.1:5000/\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#routes-uitleg","title":"Routes Uitleg","text":""},{"location":"week4/bestanden/webshop/index.html#homepage","title":"Homepage (<code>/</code>)","text":"<pre><code>@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met categorie\u00ebn.\"\"\"\n    categories = db.get_category_stats()\n    return render_template(\"index.html\", categories=categories)\n</code></pre> <ul> <li>Haalt alle categorie\u00ebn op met statistieken</li> <li>Toont categorie cards met product count en gemiddelde prijs</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#category-categoryintid","title":"Category (<code>/category/&lt;int:id&gt;</code>)","text":"<pre><code>@app.route(\"/category/&lt;int:category_id&gt;\")\ndef category(category_id: int) -&gt; str:\n    \"\"\"Categorie overzicht met producten.\"\"\"\n    category_info = db.get_category_by_id(category_id)\n    if not category_info:\n        abort(404)\n\n    products = db.get_products_by_category(category_id)\n    return render_template(\"category.html\",\n                         category=category_info,\n                         products=products)\n</code></pre> <ul> <li>Haalt categorie info op</li> <li>Haalt alle producten van die categorie op</li> <li>Toont product grid met prijzen en voorraad</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#product-productintid","title":"Product (<code>/product/&lt;int:id&gt;</code>)","text":"<pre><code>@app.route(\"/product/&lt;int:product_id&gt;\")\ndef product(product_id: int) -&gt; str:\n    \"\"\"Product detail pagina.\"\"\"\n    product_info = db.get_product_by_id(product_id)\n    if not product_info:\n        abort(404)\n\n    return render_template(\"product.html\", product=product_info)\n</code></pre> <ul> <li>Haalt product details op met JOIN naar category</li> <li>Toont product info, prijs, voorraad, beschrijving</li> <li>Breadcrumb navigatie</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#database-class","title":"Database Class","text":"<p>De <code>WebshopDatabase</code> class bevat alle queries:</p> <pre><code>class WebshopDatabase:\n    def get_all_categories(self) -&gt; list[Row]:\n        \"\"\"Haal alle categorie\u00ebn op.\"\"\"\n\n    def get_category_by_id(self, category_id: int) -&gt; Row | None:\n        \"\"\"Haal \u00e9\u00e9n categorie op.\"\"\"\n\n    def get_products_by_category(self, category_id: int) -&gt; list[Row]:\n        \"\"\"Haal producten van categorie op.\"\"\"\n\n    def get_product_by_id(self, product_id: int) -&gt; Row | None:\n        \"\"\"Haal product op met JOIN naar category.\"\"\"\n</code></pre> <p>Dit is een uitbreiding van de queries uit Week 3!</p>"},{"location":"week4/bestanden/webshop/index.html#template-inheritance","title":"Template Inheritance","text":"<p>base.html bevat:</p> <ul> <li>Navigation bar</li> <li>Bootstrap 5.3.0 CDN links</li> <li>Footer</li> <li><code>{% block content %}</code> placeholder</li> </ul> <p>Andere templates extenden base.html:</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}Mijn Pagina{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Inhoud hier&lt;/h1&gt;\n{% endblock %}\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#jinja2-features-gebruikt","title":"Jinja2 Features Gebruikt","text":""},{"location":"week4/bestanden/webshop/index.html#loops","title":"Loops","text":"<pre><code>{% for product in products %}\n    &lt;div class=\"card\"&gt;\n        &lt;h5&gt;{{ product.name }}&lt;/h5&gt;\n        &lt;p&gt;\u20ac{{ \"%.2f\"|format(product.price) }}&lt;/p&gt;\n    &lt;/div&gt;\n{% endfor %}\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#conditionals","title":"Conditionals","text":"<pre><code>{% if product.stock &gt; 0 %}\n    &lt;span class=\"badge bg-success\"&gt;Op voorraad&lt;/span&gt;\n{% else %}\n    &lt;span class=\"badge bg-danger\"&gt;Uitverkocht&lt;/span&gt;\n{% endif %}\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#filters","title":"Filters","text":"<pre><code>&lt;!-- Prijs formatting --&gt;\n\u20ac{{ \"%.2f\"|format(product.price) }}\n\n&lt;!-- String slicing --&gt;\n{{ product.description[:100] }}...\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#url-generation","title":"URL Generation","text":"<pre><code>&lt;a href=\"{{ url_for('product', product_id=product.id) }}\"&gt;\n    Bekijk Product\n&lt;/a&gt;\n</code></pre>"},{"location":"week4/bestanden/webshop/index.html#uitbreidingen-week-5","title":"Uitbreidingen (Week 5+)","text":"<p>In latere weken breiden we deze app uit met:</p> <ul> <li>Week 5: Formulieren voor producten toevoegen/wijzigen</li> <li>Week 6: SQLAlchemy ORM in plaats van raw SQL</li> <li>Week 7a: Klant login en admin dashboard</li> <li>Week 7b: Blueprints voor modulaire structuur</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#tips","title":"Tips","text":"<ul> <li>Gebruik <code>debug=True</code> tijdens development voor auto-reload</li> <li>Check de browser console voor JavaScript errors</li> <li>Gebruik browser developer tools om HTML/CSS te inspecteren</li> <li>Test alle routes: home, category, product, 404</li> </ul>"},{"location":"week4/bestanden/webshop/index.html#referenties","title":"Referenties","text":"<ul> <li>Flask Documentation</li> <li>Jinja2 Template Documentation</li> <li>Bootstrap 5.3 Documentation</li> </ul>"},{"location":"week4/oefeningen/flask-oefening1.html","title":"Flask Oefening 1: Artiestennaam Generator","text":""},{"location":"week4/oefeningen/flask-oefening1.html#flask-oefening-1-artiestennaam-generator","title":"Flask Oefening 1: Artiestennaam Generator","text":"<p>Deze oefening hoort bij Flask Deel 3 en Deel 4.</p>"},{"location":"week4/oefeningen/flask-oefening1.html#achtergrond","title":"Achtergrond","text":"<p>Veel cursisten van de muziekschool dromen van een carri\u00e8re in de muziek. Voor de meesten hoort daar een gave artiestennaam bij! In deze oefening bouw je een artiestennaam generator die automatisch een artiestennaam maakt op basis van de echte naam.</p>"},{"location":"week4/oefeningen/flask-oefening1.html#de-regels","title":"De regels","text":"<p>De artiestennaam wordt als volgt gegenereerd:</p> <ol> <li>Eindigt de naam op <code>s</code>? \u2192 Voeg <code>SY</code> toe</li> <li>Eindigt de naam op iets anders? \u2192 Voeg <code>TEZY</code> toe</li> <li>Converteer naar hoofdletters (de artiestennaam)</li> </ol> <p>Voorbeelden:</p> <ul> <li><code>Truus</code> \u2192 <code>TRUUSSY</code></li> <li><code>Rob</code> \u2192 <code>ROBTEZY</code></li> <li><code>Joyce</code> \u2192 <code>JOYCETEZY</code></li> <li><code>Thomas</code> \u2192 <code>THOMASSY</code></li> </ul>"},{"location":"week4/oefeningen/flask-oefening1.html#opdracht","title":"Opdracht","text":"<p>Maak een Flask applicatie met een dynamische route die een artiestennaam genereert.</p>"},{"location":"week4/oefeningen/flask-oefening1.html#vereisten","title":"Vereisten","text":"<ul> <li>Route: <code>http://localhost:5000/artiestennaam/&lt;naam&gt;</code></li> <li>Template: Gebruik Jinja2 template (niet HTML in string!)</li> <li>Type hints: Gebruik moderne Python type hints</li> <li>Logica: Implementeer de naam-generatie regels correct</li> <li>Project setup: Gebruik <code>uv</code> zoals in Week \u2154/4</li> </ul>"},{"location":"week4/oefeningen/flask-oefening1.html#stappenplan","title":"Stappenplan","text":""},{"location":"week4/oefeningen/flask-oefening1.html#stap-1-project-setup","title":"Stap 1: Project setup","text":"<pre><code>mkdir artiestennaam-generator\ncd artiestennaam-generator\nuv init\nuv add flask\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-2-template-aanmaken","title":"Stap 2: Template aanmaken","text":"<p>Maak directory en template:</p> <pre><code>mkdir templates\n</code></pre> <p>Maak <code>templates/artiestennaam.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Artiestennaam Generator&lt;/title&gt;\n        &lt;style&gt;\n            body {\n                font-family: Arial, sans-serif;\n                max-width: 600px;\n                margin: 50px auto;\n                padding: 20px;\n                text-align: center;\n            }\n            .artist-name {\n                font-size: 3em;\n                color: #e91e63;\n                font-weight: bold;\n                margin: 30px 0;\n            }\n            .normal-name {\n                font-size: 1.2em;\n                color: #666;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\ud83c\udfa4 Artiestennaam Generator \ud83c\udfb8&lt;/h1&gt;\n\n        &lt;p class=\"normal-name\"&gt;Echte naam: {{ TODO }}&lt;/p&gt;\n        &lt;p class=\"artist-name\"&gt;{{ TODO }}&lt;/p&gt;\n\n        &lt;p&gt;\n            &lt;a href=\"/\"&gt;Genereer een nieuwe naam&lt;/a&gt;\n        &lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>TODO: Vul de <code>{{ TODO }}</code> placeholders in met de juiste variabelen!</p>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-3-flask-app-schrijven","title":"Stap 3: Flask app schrijven","text":"<p>Maak <code>app.py</code>:</p> <pre><code>from flask import Flask, render_template\n\napp = Flask(__name__)\n\n\n@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met instructies.\"\"\"\n    # TODO: Implementeer deze route\n    # Geef een simpele HTML string terug met uitleg\n    pass\n\n\n@app.route(\"/artiestennaam/&lt;naam&gt;\")\ndef artiestennaam(naam: str) -&gt; str:\n    \"\"\"Genereer artiestennaam op basis van echte naam.\n\n    Regels:\n    - Naam eindigt op 's' \u2192 voeg 'SY' toe\n    - Anders \u2192 voeg 'TEZY' toe\n    - Converteer naar hoofdletters\n\n    Args:\n        naam: De echte naam van de cursist\n\n    Returns:\n        HTML met gegenereerde artiestennaam\n    \"\"\"\n    # TODO: Implementeer de logica\n    # 1. Check of naam eindigt op 's'\n    # 2. Voeg juiste suffix toe\n    # 3. Converteer naar uppercase\n    # 4. Render template met beide namen\n\n    pass\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-4-implementatie-tips","title":"Stap 4: Implementatie tips","text":"<p>Hint 1 - Check laatste letter:</p> <pre><code>if naam.lower().endswith('s'):\n    # Eindigt op 's'\nelse:\n    # Eindigt op iets anders\n</code></pre> <p>Hint 2 - String concatenatie:</p> <pre><code>artiestennaam = naam + suffix\n</code></pre> <p>Hint 3 - Uppercase:</p> <pre><code>artiestennaam = artiestennaam.upper()\n</code></pre> <p>Hint 4 - Template renderen:</p> <pre><code>return render_template(\n    \"artiestennaam.html\",\n    echte_naam=naam,\n    artiest_naam=artiestennaam\n)\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#stap-5-testen","title":"Stap 5: Testen","text":"<p>Run je app:</p> <pre><code>uv run python app.py\n</code></pre> <p>Test met verschillende namen:</p> <ul> <li><code>http://localhost:5000/artiestennaam/Truus</code> \u2192 TRUUSSY</li> <li><code>http://localhost:5000/artiestennaam/Rob</code> \u2192 ROBTEZY</li> <li><code>http://localhost:5000/artiestennaam/Joyce</code> \u2192 JOYCETEZY</li> <li><code>http://localhost:5000/artiestennaam/Thomas</code> \u2192 THOMASSY</li> </ul>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-1-homepage-met-voorbeelden","title":"Bonusopdracht 1: Homepage met voorbeelden","text":"<p>Maak de <code>/</code> route dynamischer met een template die voorbeelden toont:</p> <p><code>templates/index.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;Artiestennaam Generator&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\ud83c\udfa4 Artiestennaam Generator&lt;/h1&gt;\n        &lt;p&gt;Genereer jouw artiestennaam!&lt;/p&gt;\n\n        &lt;h2&gt;Voorbeelden:&lt;/h2&gt;\n        &lt;ul&gt;\n            {% for naam in voorbeelden %}\n                &lt;li&gt;\n                    &lt;a href=\"/artiestennaam/{{ naam }}\"&gt;{{ naam }}&lt;/a&gt;\n                &lt;/li&gt;\n            {% endfor %}\n        &lt;/ul&gt;\n\n        &lt;h2&gt;Probeer zelf:&lt;/h2&gt;\n        &lt;p&gt;Ga naar: &lt;code&gt;/artiestennaam/&amp;lt;jouw-naam&amp;gt;&lt;/code&gt;&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Update <code>app.py</code>:</p> <pre><code>@app.route(\"/\")\ndef index() -&gt; str:\n    \"\"\"Homepage met voorbeelden.\"\"\"\n    voorbeelden = [\"Truus\", \"Rob\", \"Joyce\", \"Thomas\", \"Rens\"]\n    return render_template(\"index.html\", voorbeelden=voorbeelden)\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-2-template-inheritance","title":"Bonusopdracht 2: Template inheritance","text":"<p>Maak een <code>base.html</code> template en gebruik deze in beide pagina's:</p> <p><code>templates/base.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;title&gt;{% block title %}Artiestennaam Generator{% endblock %}&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;nav&gt;\n            &lt;a href=\"/\"&gt;Home&lt;/a&gt;\n        &lt;/nav&gt;\n\n        &lt;main&gt;\n            {% block content %}{% endblock %}\n        &lt;/main&gt;\n\n        &lt;footer&gt;\n            &lt;p&gt;&amp;copy; 2024 Muziekschool Session&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Update <code>artiestennaam.html</code> en <code>index.html</code> om <code>base.html</code> te extenden:</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}{{ echte_naam }} - Artiestennaam{% endblock %}\n\n{% block content %}\n    &lt;!-- Je huidige content hier --&gt;\n{% endblock %}\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-3-css-styling","title":"Bonusopdracht 3: CSS styling","text":"<p>Maak <code>static/style.css</code>:</p> <pre><code>mkdir static\n</code></pre> <p><code>static/style.css</code>:</p> <pre><code>body {\n    font-family: 'Arial', sans-serif;\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n}\n\n.artist-name {\n    font-size: 4em;\n    font-weight: bold;\n    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\n    animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n    0%, 100% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n}\n\na {\n    color: #ffd700;\n    text-decoration: none;\n    font-weight: bold;\n}\n\na:hover {\n    text-decoration: underline;\n}\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#bonusopdracht-4-formulier-toevoegen","title":"Bonusopdracht 4: Formulier toevoegen","text":"<p>Voeg een formulier toe zodat gebruikers hun naam kunnen invoeren zonder URL aan te passen:</p> <p>Update <code>index.html</code>:</p> <pre><code>&lt;form action=\"/genereer\" method=\"POST\"&gt;\n    &lt;label for=\"naam\"&gt;Jouw naam:&lt;/label&gt;\n    &lt;input type=\"text\" id=\"naam\" name=\"naam\" required&gt;\n    &lt;button type=\"submit\"&gt;Genereer!&lt;/button&gt;\n&lt;/form&gt;\n</code></pre> <p>Update <code>app.py</code>:</p> <pre><code>from flask import Flask, render_template, request, redirect, url_for\n\n@app.route(\"/genereer\", methods=[\"POST\"])\ndef genereer() -&gt; str:\n    \"\"\"Handle form submission en redirect naar artiestennaam route.\n\n    Returns:\n        Redirect naar artiestennaam route met ingevoerde naam\n    \"\"\"\n    naam = request.form.get(\"naam\", \"\")\n    if naam:\n        return redirect(url_for(\"artiestennaam\", naam=naam))\n    return redirect(url_for(\"index\"))\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#verwachte-output","title":"Verwachte Output","text":""},{"location":"week4/oefeningen/flask-oefening1.html#basis-opdracht","title":"Basis opdracht","text":"<p>URL: <code>http://localhost:5000/artiestennaam/Truus</code></p> <p>Output:</p> <pre><code>\ud83c\udfa4 Artiestennaam Generator \ud83c\udfb8\n\nEchte naam: Truus\nTRUUSSY\n\n\u2190 Genereer een nieuwe naam\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#checklist","title":"Checklist","text":"<ul> <li>Project aangemaakt met <code>uv init</code> en <code>uv add flask</code></li> <li><code>templates/</code> directory met <code>artiestennaam.html</code></li> <li>Flask route op <code>/artiestennaam/&lt;naam&gt;</code></li> <li>Type hints gebruikt (<code>naam: str</code>, <code>-&gt; str</code>)</li> <li> <p>Logica correct:</p> </li> <li> <p>Naam eindigt op <code>s</code> \u2192 voeg <code>SY</code> toe</p> </li> <li>Anders \u2192 voeg <code>TEZY</code> toe</li> <li>Converteer naar uppercase</li> <li>Template gebruikt (geen HTML in string!)</li> <li>Docstring bij route functie</li> <li>Werkt met verschillende namen</li> </ul>"},{"location":"week4/oefeningen/flask-oefening1.html#veelvoorkomende-fouten","title":"Veelvoorkomende fouten","text":"<p>HTML in string returnen</p> <pre><code>return f\"&lt;h1&gt;{artiestennaam}&lt;/h1&gt;\"  # FOUT!\n</code></pre> <p>Template gebruiken</p> <pre><code>return render_template(\"artiestennaam.html\", ...)  # GOED!\n</code></pre> <p>Geen type hints</p> <pre><code>def artiestennaam(naam):  # FOUT!\n</code></pre> <p>Type hints toevoegen</p> <pre><code>def artiestennaam(naam: str) -&gt; str:  # GOED!\n</code></pre> <p>Case-sensitive check</p> <pre><code>if naam.endswith('s'):  # FOUT! \"Truus\" != \"truuS\"\n</code></pre> <p>Case-insensitive check</p> <pre><code>if naam.lower().endswith('s'):  # GOED!\n</code></pre>"},{"location":"week4/oefeningen/flask-oefening1.html#samenvatting","title":"Samenvatting","text":"<p>Na deze oefening heb je:</p> <ul> <li>Een Flask project opgezet met <code>uv</code></li> <li>Dynamische routes gebruikt met URL parameters</li> <li>Templates gemaakt met Jinja2</li> <li>Type hints toegepast in Flask routes</li> <li>String manipulatie in Python gedaan</li> <li>Modern project structuur gebruikt (zoals Week \u2154)</li> </ul> <p>Tip: Deze patterns gebruik je de rest van de cursus! In Week 5 leer je forms (gebruikersinput), en in Week 6 databases (SQLAlchemy).</p>"},{"location":"week5/flask-forms-deel1.html","title":"Flask Forms - Basis Formulieren met WTForms","text":""},{"location":"week5/flask-forms-deel1.html#flask-forms-basis-formulieren-met-wtforms","title":"Flask Forms - Basis Formulieren met WTForms","text":"<p>HTML formulieren zijn essentieel voor webapplicaties - ze laten gebruikers data invoeren. Flask gebruikt Flask-WTF en WTForms om formulieren te maken met automatische validatie en CSRF-beveiliging.</p> <p>Projectwerk</p> <p>Vanaf deze week werk je als duo aan \u00e9\u00e9n van de vier voorgestelde projecten. Tijdens de practica kun je hierover vragen stellen aan je practicumdocent. Bekijk de omschrijving en beoordeling voor details.</p>"},{"location":"week5/flask-forms-deel1.html#installatie","title":"Installatie","text":"<p>Voeg Flask-WTF toe aan je project:</p> <pre><code>uv add flask-wtf\n</code></pre> <p>Dit installeert automatisch ook WTForms als dependency.</p> <p>Controleer de installatie:</p> <pre><code>uv run pip list\n</code></pre> <p>Je ziet nu onder andere:</p> <pre><code>Package      Version\n------------ -------\nFlask        3.1.0\nFlask-WTF    1.2.1\nWTForms      3.2.1\n</code></pre>"},{"location":"week5/flask-forms-deel1.html#formulier-componenten","title":"Formulier componenten","text":"<p>Een WTForms formulier bestaat uit:</p> <ol> <li>Secret key configuratie - Voor CSRF-beveiliging</li> <li>Form class - Definieert formulier velden</li> <li>View function - Verwerkt GET en POST requests</li> <li>Template - Rendert het formulier in HTML</li> </ol>"},{"location":"week5/flask-forms-deel1.html#basis-voorbeeld","title":"Basis voorbeeld","text":"<p>We maken een eenvoudig formulier dat vraagt welk instrument je wilt leren. Project structuur:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 app.py\n\u2514\u2500\u2500 templates/\n    \u2514\u2500\u2500 home.html\n</code></pre>"},{"location":"week5/flask-forms-deel1.html#flask-applicatie","title":"Flask applicatie","text":"<p><code>app.py</code>:</p> <pre><code>from flask import Flask, render_template\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\n\napp = Flask(__name__)\n\n# CSRF-beveiliging vereist een secret key\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\n\nclass InstrumentForm(FlaskForm):\n    \"\"\"Formulier om muziekinstrument op te vragen.\"\"\"\n\n    instrument = StringField('Welk instrument wil je graag leren bespelen?')\n    submit = SubmitField('Verzend')\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef index() -&gt; str:\n    \"\"\"Homepage met instrument formulier.\n\n    Returns:\n        Gerenderde template met formulier\n    \"\"\"\n    instrument = False\n    form = InstrumentForm()\n\n    if form.validate_on_submit():\n        # Haal data uit formulier\n        instrument = form.instrument.data\n        # Reset formulier veld\n        form.instrument.data = ''\n\n    return render_template('home.html', form=form, instrument=instrument)\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p>Code uitleg:</p> <ul> <li><code>FlaskForm</code> - Base class voor alle WTForms formulieren</li> <li><code>StringField</code> - Tekst invoerveld</li> <li><code>SubmitField</code> - Verzendknop</li> <li><code>app.config['SECRET_KEY']</code> - Vereist voor CSRF-beveiliging en sessions</li> <li><code>form.validate_on_submit()</code> - Checkt of formulier is ingediend \u00e9n valid</li> <li><code>form.instrument.data</code> - Bevat de ingevoerde waarde</li> </ul> <p>Secret key in productie</p> <p>Hardcode nooit je secret key in productie! Gebruik environment variabelen: </p><pre><code>import os\napp.config['SECRET_KEY'] = os.environ.get('SECRET_KEY', 'dev-key-only')\n</code></pre><p></p>"},{"location":"week5/flask-forms-deel1.html#template","title":"Template","text":"<p><code>templates/home.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Muziekschool Session&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Welkom bij muziekschool Session&lt;/h1&gt;\n\n    &lt;p&gt;\n    {% if instrument %}\n        Het instrument van jouw keuze is {{ instrument }}.\n        &lt;br&gt;De keuze kan gewijzigd worden in onderstaand formulier:\n    {% else %}\n        Geef de naam van een instrument op in dit formulier:\n    {% endif %}\n    &lt;/p&gt;\n\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.instrument.label }} {{ form.instrument() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Template uitleg:</p> <ul> <li><code>{{ form.hidden_tag() }}</code> - CSRF token (verplicht!)</li> <li><code>{{ form.instrument.label }}</code> - Label tekst van het veld</li> <li><code>{{ form.instrument() }}</code> - Het invoerveld zelf</li> <li><code>{{ form.submit() }}</code> - De submit button</li> </ul>"},{"location":"week5/flask-forms-deel1.html#testen","title":"Testen","text":"<p>Start de applicatie:</p> <pre><code>uv run python app.py\n</code></pre> <p>Navigeer naar <code>http://127.0.0.1:5000/</code>:</p> <p>Verwacht resultaat: Je ziet een lege pagina met de tekst \"Welkom bij muziekschool Session\", een tekstveld met het label \"Welk instrument wil je graag leren bespelen?\" en een knop \"Verzend\".</p> <p>Vul \"Gitaar\" in en klik Verzend:</p> <p>Verwacht resultaat: De pagina toont nu de tekst \"Het instrument van jouw keuze is Gitaar. De keuze kan gewijzigd worden in onderstaand formulier:\", gevolgd door een leeg formulier waarmee een nieuw instrument ingevoerd kan worden.</p> <p>Het formulier toont nu de ingevoerde waarde en is opnieuw beschikbaar.</p>"},{"location":"week5/flask-forms-deel1.html#hoe-werkt-het","title":"Hoe werkt het?","text":""},{"location":"week5/flask-forms-deel1.html#request-cycle","title":"Request cycle","text":"<ol> <li>Eerste bezoek (GET request):</li> <li><code>instrument = False</code></li> <li><code>form.validate_on_submit()</code> is <code>False</code></li> <li> <p>Template toont leeg formulier</p> </li> <li> <p>Formulier invullen en verzenden (POST request):</p> </li> <li>Browser stuurt POST met formulierdata</li> <li><code>form.validate_on_submit()</code> is <code>True</code></li> <li>Data wordt opgehaald: <code>instrument = form.instrument.data</code></li> <li>Veld wordt gereset: <code>form.instrument.data = ''</code></li> <li>Template toont ingevulde waarde + leeg formulier</li> </ol>"},{"location":"week5/flask-forms-deel1.html#csrf-beveiliging","title":"CSRF-beveiliging","text":"<p><code>{{ form.hidden_tag() }}</code> voegt een verborgen CSRF token toe:</p> <pre><code>&lt;input type=\"hidden\" name=\"csrf_token\" value=\"...\"&gt;\n</code></pre> <p>Flask-WTF valideert dit token automatisch. Zonder valid token wordt het formulier geweigerd.</p> <p>Altijd hidden_tag() gebruiken</p> <p>Zonder <code>{{ form.hidden_tag() }}</code> krijg je een foutmelding bij het indienen. Dit beschermt tegen Cross-Site Request Forgery aanvallen.</p>"},{"location":"week5/flask-forms-deel1.html#type-hints-overzicht","title":"Type hints overzicht","text":"<p>Voor moderne Flask + WTForms gebruik je deze type hints:</p> <pre><code>from flask import Flask, render_template\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef index() -&gt; str:\n    \"\"\"Route handler met return type.\"\"\"\n    form = InstrumentForm()  # Type: InstrumentForm\n    instrument: str | bool = False\n\n    if form.validate_on_submit():\n        instrument = form.instrument.data  # Type: str\n\n    return render_template('home.html', form=form, instrument=instrument)\n</code></pre> <p>Volgende stap: Deel 2 - Validators en field types.</p>"},{"location":"week5/flask-forms-deel1.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Flask-WTF installeren: via <code>uv add flask-wtf</code>, wat ook WTForms automatisch als dependency installeert</li> <li>Formulier componenten: een WTForms formulier bestaat uit vier onderdelen: secret key configuratie, een form class, een view function en een template</li> <li>FlaskForm: basisklasse voor alle WTForms formulieren; velden zoals <code>StringField</code> en <code>SubmitField</code> worden gedefinieerd als klasse-attributen</li> <li>SECRET_KEY: verplichte configuratie voor CSRF-beveiliging en Flask sessions; nooit hardcoden in productie, gebruik in plaats daarvan een environment variabele</li> <li>validate_on_submit(): controleert of het formulier via POST is ingediend \u00e9n alle validaties doorstaan heeft; retourneert <code>False</code> bij een GET-request</li> <li>form.hidden_tag(): voegt een verborgen CSRF token toe aan het formulier in de template; zonder dit token weigert Flask-WTF het formulier</li> <li>GET/POST request cycle: bij een GET-request wordt het lege formulier getoond; bij een POST-request wordt de ingediende data uitgelezen via <code>form.veld.data</code></li> <li>CSRF-beveiliging: Flask-WTF valideert het CSRF token automatisch bij elke POST-request om Cross-Site Request Forgery aanvallen te voorkomen</li> </ul>"},{"location":"week5/flask-forms-deel2.html","title":"Flask Forms - Validators en Field Types","text":""},{"location":"week5/flask-forms-deel2.html#flask-forms-validators-en-field-types","title":"Flask Forms - Validators en Field Types","text":"<p>WTForms biedt veel verschillende veldtypen en validators. Validators controleren of de ingevoerde data correct is (bijvoorbeeld: verplicht veld, geldig email adres, minimum lengte).</p>"},{"location":"week5/flask-forms-deel2.html#validators","title":"Validators","text":"<p>Validators voeg je toe als parameter aan een veld:</p> <pre><code>from wtforms import StringField\nfrom wtforms.validators import DataRequired, Email, Length\n\nclass ContactForm(FlaskForm):\n    naam = StringField('Naam', validators=[DataRequired()])\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    bericht = StringField('Bericht', validators=[Length(min=10, max=500)])\n</code></pre> <p>Veelgebruikte validators:</p> <ul> <li><code>DataRequired()</code> - Veld mag niet leeg zijn</li> <li><code>Email()</code> - Moet geldig email adres zijn</li> <li><code>Length(min=x, max=y)</code> - Lengte tussen min en max</li> <li><code>NumberRange(min=x, max=y)</code> - Getal tussen min en max</li> <li><code>EqualTo('veldnaam')</code> - Moet gelijk zijn aan ander veld (wachtwoord bevestiging)</li> <li><code>URL()</code> - Moet geldige URL zijn</li> <li><code>Regexp(regex)</code> - Moet aan regex pattern voldoen</li> </ul>"},{"location":"week5/flask-forms-deel2.html#field-types","title":"Field Types","text":"<p>WTForms ondersteunt alle HTML formulier velden:</p> <ul> <li><code>StringField</code> - Tekst invoer</li> <li><code>TextAreaField</code> - Grote tekst invoer (meerdere regels)</li> <li><code>BooleanField</code> - Checkbox</li> <li><code>RadioField</code> - Radio buttons (kies \u00e9\u00e9n optie)</li> <li><code>SelectField</code> - Dropdown menu</li> <li><code>IntegerField</code> - Geheel getal</li> <li><code>FloatField</code> - Decimaal getal</li> <li><code>PasswordField</code> - Wachtwoord (verborgen tekst)</li> <li><code>SubmitField</code> - Submit button</li> </ul>"},{"location":"week5/flask-forms-deel2.html#uitgebreid-voorbeeld","title":"Uitgebreid voorbeeld","text":"<p>We maken een enqu\u00eateformulier voor de muziekschool. Project structuur:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 app.py\n\u2514\u2500\u2500 templates/\n    \u251c\u2500\u2500 home.html\n    \u2514\u2500\u2500 bedankt.html\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#flask-applicatie","title":"Flask applicatie","text":"<p><code>app.py</code>:</p> <pre><code>from flask import Flask, render_template, session, redirect, url_for\nfrom flask_wtf import FlaskForm\nfrom wtforms import (\n    StringField,\n    BooleanField,\n    RadioField,\n    SelectField,\n    TextAreaField,\n    SubmitField\n)\nfrom wtforms.validators import DataRequired\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\n\nclass EnqueteForm(FlaskForm):\n    \"\"\"Enqu\u00eateformulier voor muziekschool Session.\"\"\"\n\n    naam = StringField(\n        'Wat is je naam?',\n        validators=[DataRequired()]\n    )\n    vrouw = BooleanField('Ben je een vrouw?')\n    instrument = RadioField(\n        'Welk instrument wil je leren bespelen?',\n        choices=[\n            ('gitaar', 'Gitaar'),\n            ('drums', 'Drums')\n        ]\n    )\n    plaats = SelectField(\n        'Welke locatie heeft de voorkeur?',\n        choices=[\n            ('assen', 'Assen'),\n            ('drachten', 'Drachten'),\n            ('groningen', 'Groningen')\n        ]\n    )\n    feedback = TextAreaField('Nog andere opmerkingen?')\n    submit = SubmitField('Verzend')\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef index() -&gt; str:\n    \"\"\"Homepage met enqu\u00eate formulier.\n\n    Returns:\n        Gerenderde template met formulier\n    \"\"\"\n    form = EnqueteForm()\n\n    if form.validate_on_submit():\n        # Sla data op in session\n        session['naam'] = form.naam.data\n        session['vrouw'] = form.vrouw.data\n        session['instrument'] = form.instrument.data\n        session['plaats'] = form.plaats.data\n        session['feedback'] = form.feedback.data\n\n        # Redirect naar bedankt pagina\n        return redirect(url_for('bedankt'))\n\n    return render_template('home.html', form=form)\n\n\n@app.route('/bedankt')\ndef bedankt() -&gt; str:\n    \"\"\"Bedankpagina met enqu\u00eate resultaten.\n\n    Returns:\n        Gerenderde template met ingevulde data\n    \"\"\"\n    return render_template('bedankt.html')\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p>Code uitleg:</p> <ul> <li><code>RadioField(choices=[...])</code> - Elke choice is een tuple: <code>(waarde, weergave_tekst)</code></li> <li><code>SelectField(choices=[...])</code> - Dropdown met tuples</li> <li><code>session['key'] = value</code> - Data opslaan in Flask session (tijdelijke opslag)</li> <li><code>redirect(url_for('bedankt'))</code> - Navigeer naar andere route</li> <li><code>DataRequired()</code> validator - Naam is verplicht</li> </ul>"},{"location":"week5/flask-forms-deel2.html#sessions","title":"Sessions","text":"<p>HTTP is stateless - elke request is los van de vorige. De server \"vergeet\" wat je eerder hebt gedaan. Dit is een probleem als je data tussen requests wilt bewaren (bijvoorbeeld formulier gegevens, inlog status, winkelmandje).</p> <p>Flask sessions lossen dit op. Sessions zijn onderdeel van Flask (geen extra package nodig) en werken met encrypted cookies aan de client-side:</p> <ol> <li>Je slaat data op in <code>session['key'] = value</code></li> <li>Flask versleutelt de data met je <code>SECRET_KEY</code></li> <li>Dit wordt als cookie naar de browser gestuurd</li> <li>Bij volgende requests stuurt de browser de cookie mee</li> <li>Flask ontsleutelt de data en maakt hem beschikbaar via <code>session['key']</code></li> </ol> <p>Voorbeeldcode:</p> <pre><code>from flask import session\n\n# Opslaan in session\nsession['naam'] = 'Joyce'\nsession['email'] = 'joyce@example.com'\n\n# Ophalen uit session (in deze of andere route)\nnaam = session['naam']\n\n# Ook beschikbaar in templates\n# {{ session['naam'] }}\n</code></pre> <p>Belangrijke punten:</p> <ul> <li>Sessions zijn versleuteld met je <code>SECRET_KEY</code> - zonder geldige key kan niemand de data lezen of aanpassen</li> <li>Sessions zijn tijdelijk - standaard tot de browser sluit (of na ingestelde timeout)</li> <li>Sessions bewaren kleine hoeveelheden data - voor grote data gebruik je een database</li> <li>Sessions zijn client-side - de data zit in de browser cookie, niet op de server</li> </ul>"},{"location":"week5/flask-forms-deel2.html#templates","title":"Templates","text":"<p><code>templates/home.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Enqu\u00eate - Muziekschool Session&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Welkom bij de enqu\u00eate van muziekschool Session&lt;/h1&gt;\n\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n\n        &lt;div&gt;\n            {{ form.naam.label }}&lt;br&gt;\n            {{ form.naam }}\n        &lt;/div&gt;\n\n        &lt;div&gt;\n            {{ form.vrouw.label }}\n            {{ form.vrouw }}\n        &lt;/div&gt;\n\n        &lt;div&gt;\n            {{ form.instrument.label }}&lt;br&gt;\n            {{ form.instrument }}\n        &lt;/div&gt;\n\n        &lt;div&gt;\n            {{ form.plaats.label }}&lt;br&gt;\n            {{ form.plaats }}\n        &lt;/div&gt;\n\n        &lt;div&gt;\n            {{ form.feedback.label }}&lt;br&gt;\n            {{ form.feedback }}\n        &lt;/div&gt;\n\n        &lt;div&gt;\n            {{ form.submit() }}\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p><code>templates/bedankt.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Bedankt&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Bedankt voor de moeite!&lt;/h1&gt;\n    &lt;h2&gt;Dit zijn de ingevulde gegevens:&lt;/h2&gt;\n\n    &lt;ul&gt;\n        &lt;li&gt;Naam: {{ session['naam'] }}&lt;/li&gt;\n        &lt;li&gt;Vrouw: {{ session['vrouw'] }}&lt;/li&gt;\n        &lt;li&gt;Instrument: {{ session['instrument'] }}&lt;/li&gt;\n        &lt;li&gt;Plaats: {{ session['plaats'] }}&lt;/li&gt;\n        &lt;li&gt;Feedback: {{ session['feedback'] }}&lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;a href=\"/\"&gt;Nieuwe enqu\u00eate&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#testen","title":"Testen","text":"<p>Start de applicatie:</p> <pre><code>uv run python app.py\n</code></pre> <p>Navigeer naar <code>http://127.0.0.1:5000/</code>:</p> <p>Verwacht resultaat: Je ziet het enqu\u00eateformulier met de velden: een tekstveld voor de naam, een checkbox \"Ben je een vrouw?\", radio buttons voor het instrument (Gitaar of Drums), een dropdown voor de locatie (Assen, Drachten, Groningen), een tekstgebied voor opmerkingen en een knop \"Verzend\".</p> <p>Vul het formulier in:</p> <p>Verwacht resultaat: Het formulier is volledig ingevuld met voorbeeldgegevens: een naam in het tekstveld, de checkbox aangevinkt, een instrument geselecteerd, een locatie gekozen en tekst ingevoerd in het feedbackveld.</p> <p>Klik Verzend - je wordt doorgestuurd naar <code>/bedankt</code>:</p> <p>Verwacht resultaat: De bedankpagina toont de koptekst \"Bedankt voor de moeite!\" gevolgd door een lijst met de ingediende gegevens: naam, vrouw (true/false), instrument, locatie en feedback.</p>"},{"location":"week5/flask-forms-deel2.html#validators-in-actie","title":"Validators in actie","text":"<p>Probeer het formulier te verzenden zonder naam in te vullen:</p> <p>Verwacht resultaat: Het formulier wordt opnieuw getoond met een rood kader rond het naamveld, wat aangeeft dat dit verplichte veld niet ingevuld is; de overige velden behouden hun eerder geselecteerde waarden.</p> <p>Een rood kader verschijnt rond het naam veld - de <code>DataRequired()</code> validator blokkeert het verzenden.</p>"},{"location":"week5/flask-forms-deel2.html#radiofield-en-selectfield-choices","title":"RadioField en SelectField choices","text":"<p>Let op de tuple structuur:</p> <pre><code>choices=[\n    ('waarde_in_code', 'Tekst voor gebruiker'),\n    ('assen', 'Assen'),  # 'assen' wordt opgeslagen, 'Assen' wordt getoond\n    ('dr', 'Drachten'),  # 'dr' wordt opgeslagen, 'Drachten' wordt getoond\n]\n</code></pre> <p>Als je \"Drachten\" selecteert, wordt <code>'dr'</code> opgeslagen in <code>form.plaats.data</code>.</p> <p>Om de volledige naam op te slaan, gebruik dezelfde waarde twee keer:</p> <pre><code>choices=[\n    ('Assen', 'Assen'),\n    ('Drachten', 'Drachten'),\n]\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#type-hints-voor-validators","title":"Type hints voor validators","text":"<pre><code>from wtforms import StringField\nfrom wtforms.validators import DataRequired, Email, Length\n\nclass ContactForm(FlaskForm):\n    \"\"\"Contact formulier met validators.\"\"\"\n\n    naam: StringField = StringField(\n        'Naam',\n        validators=[DataRequired()]\n    )\n    email: StringField = StringField(\n        'Email',\n        validators=[DataRequired(), Email()]\n    )\n</code></pre>"},{"location":"week5/flask-forms-deel2.html#redirect-pattern","title":"Redirect pattern","text":"<p>Het redirect-after-POST pattern voorkomt dubbele form submissions:</p> <pre><code>if form.validate_on_submit():\n    # Verwerk data\n    session['data'] = form.data\n\n    # Redirect naar andere pagina (PRG pattern: Post-Redirect-Get)\n    return redirect(url_for('bedankt'))\n\n# GET request: toon formulier\nreturn render_template('form.html', form=form)\n</code></pre> <p>Als je na POST de template direct returnt, kan de gebruiker de pagina refreshen en het formulier opnieuw verzenden. Met redirect gaat de browser naar een GET request.</p> <p>Volgende stap: Deel 3 - Flash messages.</p>"},{"location":"week5/flask-forms-deel2.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Validators: invoercontroles die je als lijst meegeeft aan een veld, zoals <code>DataRequired()</code>, <code>Email()</code>, <code>Length(min, max)</code>, <code>EqualTo()</code> en <code>URL()</code></li> <li>Field types: WTForms biedt velden voor elk HTML-invoertype, waaronder <code>StringField</code>, <code>BooleanField</code>, <code>RadioField</code>, <code>SelectField</code>, <code>TextAreaField</code> en <code>PasswordField</code></li> <li>RadioField en SelectField: keuzevelden waarbij elke optie een tuple is van <code>(opgeslagen_waarde, weergave_tekst)</code>; de opgeslagen waarde is beschikbaar via <code>form.veld.data</code></li> <li>Flask sessions: tijdelijke opslag van data tussen requests via versleutelde client-side cookies; opslaan met <code>session['key'] = value</code> en uitlezen in templates via <code>{{ session['key'] }}</code></li> <li>Sessions en SECRET_KEY: session data wordt versleuteld met de <code>SECRET_KEY</code>; zonder geldige sleutel kan niemand de data lezen of aanpassen</li> <li>redirect en url_for: na een POST-verzoek door sturen naar een andere route zodat de browser een GET-request uitvoert</li> <li>Post-Redirect-Get patroon: na het verwerken van een formulier altijd redirecten om dubbele form submissions bij een pagina-refresh te voorkomen</li> <li>Validator feedback: wanneer een verplicht veld leeg blijft blokkeert Flask-WTF het verzenden en toont de browser het formulier opnieuw met een foutindicatie</li> </ul>"},{"location":"week5/flask-forms-deel3.html","title":"Flask Forms - Flash Messages","text":""},{"location":"week5/flask-forms-deel3.html#flask-forms-flash-messages","title":"Flask Forms - Flash Messages","text":"<p>Flask kan tijdelijke berichten tonen aan gebruikers - bijvoorbeeld een bevestiging na het verzenden van een formulier. Deze berichten heten flash messages.</p> <p>Flash messages zijn perfect voor:</p> <ul> <li>Bevestigingen (\"Formulier verzonden!\")</li> <li>Waarschuwingen (\"Let op: dit veld is verplicht\")</li> <li>Errors (\"Er ging iets mis\")</li> <li>Informatie (\"Je sessie verloopt over 5 minuten\")</li> </ul> <p>Aan het eind van deze tekst maken we oefening 1.</p>"},{"location":"week5/flask-forms-deel3.html#basis-voorbeeld","title":"Basis voorbeeld","text":"<p>We maken een formulier met een knop die een flash message toont. Project structuur:</p> <pre><code>mijn-flask-app/\n\u251c\u2500\u2500 app.py\n\u2514\u2500\u2500 templates/\n    \u2514\u2500\u2500 home.html\n</code></pre>"},{"location":"week5/flask-forms-deel3.html#flask-applicatie","title":"Flask applicatie","text":"<p><code>app.py</code>:</p> <pre><code>from flask import Flask, render_template, flash, redirect, url_for\nfrom flask_wtf import FlaskForm\nfrom wtforms import SubmitField\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\n\nclass KlikForm(FlaskForm):\n    \"\"\"Simpel formulier met alleen een knop.\"\"\"\n\n    submit = SubmitField('Klik mij!')\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef index() -&gt; str:\n    \"\"\"Homepage met klik formulier.\n\n    Returns:\n        Gerenderde template met formulier en flash messages\n    \"\"\"\n    form = KlikForm()\n\n    if form.validate_on_submit():\n        flash('Je hebt zojuist de button geactiveerd!')\n        return redirect(url_for('index'))\n\n    return render_template('home.html', form=form)\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p>Code uitleg:</p> <ul> <li><code>flash('bericht')</code> - Stuurt bericht naar de template</li> <li><code>redirect(url_for('index'))</code> - Navigate terug naar index (voorkomt dubbele submit bij refresh)</li> <li>Flash messages worden automatisch verwijderd na 1x tonen</li> </ul>"},{"location":"week5/flask-forms-deel3.html#template-met-bootstrap","title":"Template met Bootstrap","text":"<p>We gebruiken Bootstrap 5 voor de styling van flash messages.</p> <p><code>templates/home.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Flash Messages&lt;/title&gt;\n\n    &lt;!-- Bootstrap 5 CSS --&gt;\n    &lt;link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\"\n          rel=\"stylesheet\"\n          integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\"\n          crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container mt-5\"&gt;\n        &lt;h1&gt;Flash Message Demo&lt;/h1&gt;\n\n        &lt;!-- Flash messages --&gt;\n        {% for message in get_flashed_messages() %}\n        &lt;div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\"&gt;\n            {{ message }}\n            &lt;button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"&gt;&lt;/button&gt;\n        &lt;/div&gt;\n        {% endfor %}\n\n        &lt;!-- Formulier --&gt;\n        &lt;form method=\"POST\"&gt;\n            {{ form.hidden_tag() }}\n            {{ form.submit(class=\"btn btn-primary\") }}\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Bootstrap 5 JavaScript --&gt;\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"\n            integrity=\"sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL\"\n            crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Template uitleg:</p> <ul> <li><code>get_flashed_messages()</code> - Haalt alle flash messages op</li> <li><code>{% for message in ... %}</code> - Loop door alle messages (kan er 0, 1 of meerdere zijn)</li> <li><code>.alert-dismissible</code> - Maakt het bericht sluitbaar</li> <li><code>.btn-close</code> - Sluit-knopje (X rechtsboven)</li> <li><code>.fade.show</code> - Fade animatie bij sluiten</li> </ul>"},{"location":"week5/flask-forms-deel3.html#testen","title":"Testen","text":"<p>Start de applicatie:</p> <pre><code>uv run python app.py\n</code></pre> <p>Navigeer naar <code>http://127.0.0.1:5000/</code>:</p> <p>Verwacht resultaat: Je ziet een eenvoudige pagina met de koptekst \"Flash Message Demo\" en een blauwe knop met de tekst \"Klik mij!\". Er is nog geen melding zichtbaar.</p> <p>Klik op de knop:</p> <p>Verwacht resultaat: Boven de knop verschijnt een gele Bootstrap-waarschuwingsmelding met de tekst \"Je hebt zojuist de button geactiveerd!\" en een sluitknopje (\u00d7) rechts in de melding.</p> <p>Klik op het X - het bericht verdwijnt.</p>"},{"location":"week5/flask-forms-deel3.html#flash-message-categorieen","title":"Flash message categorie\u00ebn","text":"<p>Je kunt categorie\u00ebn toevoegen aan flash messages voor verschillende styling:</p> <pre><code>flash('Formulier succesvol verzonden!', 'success')\nflash('Waarschuwing: vul alle velden in', 'warning')\nflash('Er is een fout opgetreden', 'danger')\nflash('Ter informatie: sessie verloopt over 5 min', 'info')\n</code></pre> <p>In de template haal je categorie en message tegelijk op:</p> <pre><code>{% for category, message in get_flashed_messages(with_categories=true) %}\n&lt;div class=\"alert alert-{{ category }} alert-dismissible fade show\" role=\"alert\"&gt;\n    {{ message }}\n    &lt;button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"&gt;&lt;/button&gt;\n&lt;/div&gt;\n{% endfor %}\n</code></pre> <p>Dit genereert automatisch de juiste Bootstrap classes:</p> <ul> <li><code>alert-success</code> (groen)</li> <li><code>alert-warning</code> (geel)</li> <li><code>alert-danger</code> (rood)</li> <li><code>alert-info</code> (blauw)</li> </ul>"},{"location":"week5/flask-forms-deel3.html#voorbeeld-met-categorieen","title":"Voorbeeld met categorie\u00ebn","text":"<pre><code>@app.route('/contact', methods=['GET', 'POST'])\ndef contact() -&gt; str:\n    \"\"\"Contact formulier met verschillende flash messages.\"\"\"\n    form = ContactForm()\n\n    if form.validate_on_submit():\n        if not form.email.data:\n            flash('Email is verplicht!', 'danger')\n        else:\n            flash('Bericht verzonden!', 'success')\n            return redirect(url_for('index'))\n\n    return render_template('contact.html', form=form)\n</code></pre>"},{"location":"week5/flask-forms-deel3.html#bootstrap-alert-klassen","title":"Bootstrap alert klassen","text":"<p>Bootstrap 5 heeft verschillende alert types:</p> <pre><code>&lt;!-- Success (groen) --&gt;\n&lt;div class=\"alert alert-success\"&gt;Gelukt!&lt;/div&gt;\n\n&lt;!-- Warning (geel) --&gt;\n&lt;div class=\"alert alert-warning\"&gt;Let op!&lt;/div&gt;\n\n&lt;!-- Danger (rood) --&gt;\n&lt;div class=\"alert alert-danger\"&gt;Fout!&lt;/div&gt;\n\n&lt;!-- Info (blauw) --&gt;\n&lt;div class=\"alert alert-info\"&gt;Info&lt;/div&gt;\n</code></pre> <p>Met <code>alert-dismissible</code> kan de gebruiker het bericht sluiten:</p> <pre><code>&lt;div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\"&gt;\n    Bericht hier\n    &lt;button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"&gt;&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"week5/flask-forms-deel3.html#accessibility-attributen","title":"Accessibility attributen","text":"<p>Bootstrap alerts gebruiken ARIA attributen voor toegankelijkheid:</p> <ul> <li><code>role=\"alert\"</code> - Screen readers kondigen dit aan als belangrijk bericht</li> <li><code>aria-label=\"Close\"</code> - Beschrijft de close button voor screen readers</li> <li><code>.btn-close</code> - Gestandaardiseerde close button (Bootstrap 5)</li> </ul>"},{"location":"week5/flask-forms-deel3.html#complete-voorbeeld","title":"Complete voorbeeld","text":"<p><code>app.py</code>:</p> <pre><code>from flask import Flask, render_template, flash, redirect, url_for, session\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\nfrom wtforms.validators import DataRequired\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\n\nclass NaamForm(FlaskForm):\n    \"\"\"Formulier voor voornaam en achternaam.\"\"\"\n\n    voornaam = StringField('Voornaam', validators=[DataRequired()])\n    achternaam = StringField('Achternaam', validators=[DataRequired()])\n    submit = SubmitField('Verzend')\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef index() -&gt; str:\n    \"\"\"Homepage met naam formulier.\n\n    Returns:\n        Gerenderde template met formulier\n    \"\"\"\n    form = NaamForm()\n\n    if form.validate_on_submit():\n        # Sla op in session\n        session['voornaam'] = form.voornaam.data\n        session['achternaam'] = form.achternaam.data\n\n        # Flash message met volledige naam\n        volledige_naam = f\"{form.voornaam.data} {form.achternaam.data}\"\n        flash(f'Welkom, {volledige_naam}!', 'success')\n\n        return redirect(url_for('index'))\n\n    return render_template('home.html', form=form)\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p><code>templates/home.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Naam Formulier&lt;/title&gt;\n    &lt;link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\"\n          rel=\"stylesheet\"\n          integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\"\n          crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container mt-5\"&gt;\n        &lt;h1&gt;Welkom&lt;/h1&gt;\n\n        &lt;!-- Flash messages met categorie\u00ebn --&gt;\n        {% for category, message in get_flashed_messages(with_categories=true) %}\n        &lt;div class=\"alert alert-{{ category }} alert-dismissible fade show\" role=\"alert\"&gt;\n            {{ message }}\n            &lt;button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"&gt;&lt;/button&gt;\n        &lt;/div&gt;\n        {% endfor %}\n\n        &lt;!-- Formulier --&gt;\n        &lt;form method=\"POST\"&gt;\n            {{ form.hidden_tag() }}\n\n            &lt;div class=\"mb-3\"&gt;\n                {{ form.voornaam.label(class=\"form-label\") }}\n                {{ form.voornaam(class=\"form-control\") }}\n            &lt;/div&gt;\n\n            &lt;div class=\"mb-3\"&gt;\n                {{ form.achternaam.label(class=\"form-label\") }}\n                {{ form.achternaam(class=\"form-control\") }}\n            &lt;/div&gt;\n\n            {{ form.submit(class=\"btn btn-primary\") }}\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"\n            integrity=\"sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL\"\n            crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Dit toont een flash message met de volledige naam na het verzenden.</p>"},{"location":"week5/flask-forms-deel3.html#type-hints-voor-flash","title":"Type hints voor flash","text":"<pre><code>from flask import flash\n\ndef verzend_formulier(naam: str, email: str) -&gt; None:\n    \"\"\"Verzend formulier en toon flash message.\n\n    Args:\n        naam: Naam van de gebruiker\n        email: Email adres\n    \"\"\"\n    flash(f'Bedankt, {naam}! Bevestiging gestuurd naar {email}', 'success')\n</code></pre> <p>Volgende stap: Maak nu oefening 1.</p>"},{"location":"week5/flask-forms-deel3.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Flash messages: tijdelijke berichten versturen naar de template met <code>flash('bericht')</code> vanuit een view function</li> <li>get_flashed_messages(): haalt alle flash messages op in de template via een <code>{% for %}</code>-lus; berichten worden automatisch verwijderd na \u00e9\u00e9n keer tonen</li> <li>Flash categorie\u00ebn: een categorie meegeven als tweede argument aan <code>flash()</code>, zoals <code>'success'</code>, <code>'warning'</code>, <code>'danger'</code> of <code>'info'</code>, voor gedifferentieerde weergave</li> <li>with_categories: met <code>get_flashed_messages(with_categories=true)</code> haal je zowel de categorie als het bericht op als tuple zodat je de stijl kunt afstemmen op het type bericht</li> <li>Bootstrap 5 integratie: Bootstrap alert classes (<code>alert-success</code>, <code>alert-warning</code>, <code>alert-danger</code>, <code>alert-info</code>) koppelen aan de flash categorie voor automatische kleuropmaak via <code>alert-{{ category }}</code></li> <li>alert-dismissible: Bootstrap klasse die samen met <code>.btn-close</code> een sluitknopje toevoegt waarmee de gebruiker een melding handmatig kan verwijderen</li> <li>fade show: Bootstrap klassen die een fade-animatie geven bij het sluiten van een alert</li> <li>ARIA-attributen: <code>role=\"alert\"</code> en <code>aria-label=\"Close\"</code> maken Bootstrap-alerts toegankelijk voor schermlezers</li> <li>PRG-patroon met flash: na een succesvolle formulierverwerking redirecten \u00e9n een flash message toevoegen voorkomt dubbele submissions en geeft de gebruiker directe bevestiging</li> </ul>"},{"location":"week5/bestanden/webshop/index.html","title":"Webshop Flask Applicatie met Formulieren (Week 5)","text":""},{"location":"week5/bestanden/webshop/index.html#webshop-flask-applicatie-met-formulieren-week-5","title":"Webshop Flask Applicatie met Formulieren (Week 5)","text":"<p>Deze applicatie bouwt voort op Week 4 door Flask-WTF formulieren toe te voegen voor product beheer.</p>"},{"location":"week5/bestanden/webshop/index.html#rode-draad-door-de-cursus","title":"Rode Draad door de Cursus","text":"<p>Deze webshop applicatie bouwt voort op:</p> <ul> <li>Week 2 (OOP): <code>Product</code>, <code>Customer</code>, <code>Order</code>, <code>Cart</code> classes</li> <li>Week 3 (SQL): <code>webshop.sqlite</code> database met <code>products</code> en <code>categories</code></li> <li>Week 4 (Flask): Product catalog met routes en templates</li> <li>Week 5 (Forms): WTForms voor product CRUD operaties</li> <li>Week 6 (SQLAlchemy): ORM models voor database (komt nog)</li> <li>Week 7 (Auth/Blueprints): Login en gestructureerde app (komt nog)</li> </ul>"},{"location":"week5/bestanden/webshop/index.html#nieuwe-features-in-week-5","title":"Nieuwe Features in Week 5","text":""},{"location":"week5/bestanden/webshop/index.html#forms-met-flask-wtf","title":"Forms met Flask-WTF","text":"<ul> <li> <p>AddProductForm - Formulier om producten toe te voegen</p> </li> <li> <p>Validators voor naam, prijs, voorraad</p> </li> <li>Dropdown voor categorie selectie</li> <li> <p>CSRF-beveiliging</p> </li> <li> <p>EditProductForm - Formulier om producten te bewerken</p> </li> <li> <p>Pre-filled met huidige product data</p> </li> <li>Alle velden editable</li> <li> <p>Delete functionaliteit</p> </li> <li> <p>ContactForm - Contact formulier voor klanten</p> </li> <li> <p>Naam, email, onderwerp, bericht</p> </li> <li>Email validatie</li> <li>Flash messages na verzenden</li> </ul>"},{"location":"week5/bestanden/webshop/index.html#admin-routes","title":"Admin Routes","text":"<ul> <li><code>/admin/products</code> - Overzicht van alle producten</li> <li><code>/admin/product/add</code> - Product toevoegen</li> <li><code>/admin/product/edit/&lt;id&gt;</code> - Product bewerken</li> <li><code>/admin/product/delete/&lt;id&gt;</code> - Product verwijderen (POST only)</li> </ul>"},{"location":"week5/bestanden/webshop/index.html#database-updates","title":"Database Updates","text":"<p>De <code>database.py</code> is uitgebreid met CRUD operaties:</p> <ul> <li><code>add_product()</code> - INSERT query</li> <li><code>update_product()</code> - UPDATE query</li> <li><code>delete_product()</code> - DELETE query</li> <li><code>get_category_choices()</code> - Helper voor SelectField</li> </ul>"},{"location":"week5/bestanden/webshop/index.html#structuur","title":"Structuur","text":"<pre><code>webshop/\n\u251c\u2500\u2500 app.py                    # Flask app met formulier routes\n\u251c\u2500\u2500 database.py               # Database class met CRUD\n\u251c\u2500\u2500 forms.py                  # WTForms definities\n\u251c\u2500\u2500 templates/\n\u2502   \u251c\u2500\u2500 base.html            # Base template met nav + flash messages\n\u2502   \u251c\u2500\u2500 index.html           # Homepage\n\u2502   \u251c\u2500\u2500 category.html        # Categorie overzicht\n\u2502   \u251c\u2500\u2500 product.html         # Product detail (+ edit knop)\n\u2502   \u251c\u2500\u2500 admin_products.html  # Admin product lijst\n\u2502   \u251c\u2500\u2500 add_product.html     # Product toevoegen formulier\n\u2502   \u251c\u2500\u2500 edit_product.html    # Product bewerken formulier\n\u2502   \u251c\u2500\u2500 contact.html         # Contact formulier\n\u2502   \u2514\u2500\u2500 404.html             # Error pagina\n\u2514\u2500\u2500 static/                   # CSS, images (optioneel)\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#setup","title":"Setup","text":""},{"location":"week5/bestanden/webshop/index.html#1-installeer-dependencies","title":"1. Installeer dependencies","text":"<pre><code>uv init\nuv add flask flask-wtf\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#2-controleer-database-pad","title":"2. Controleer database pad","text":"<p>De <code>database.py</code> zoekt de database in:</p> <pre><code>db_path = \"../../../week3/bestanden/webshop.sqlite\"\n</code></pre> <p>Pas aan indien nodig.</p>"},{"location":"week5/bestanden/webshop/index.html#3-run-de-applicatie","title":"3. Run de applicatie","text":"<pre><code>uv run python app.py\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#4-open-in-browser","title":"4. Open in browser","text":"<pre><code>http://127.0.0.1:5000/\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#flash-messages","title":"Flash Messages","text":"<p>De applicatie gebruikt Flask's <code>flash()</code> voor gebruikersfeedback:</p> <pre><code>flash('Product succesvol toegevoegd!', 'success')\nflash('Er ging iets mis.', 'danger')\n</code></pre> <p>Bootstrap alert categories:</p> <ul> <li><code>success</code> - Groen (succes)</li> <li><code>danger</code> - Rood (error)</li> <li><code>warning</code> - Oranje (waarschuwing)</li> <li><code>info</code> - Blauw (informatie)</li> </ul>"},{"location":"week5/bestanden/webshop/index.html#wtforms-validators","title":"WTForms Validators","text":""},{"location":"week5/bestanden/webshop/index.html#addproductform-editproductform","title":"AddProductForm &amp; EditProductForm","text":"Veld Type Validators <code>name</code> StringField DataRequired, Length(min=2, max=200) <code>price</code> FloatField DataRequired, NumberRange(min=0.01, max=999999.99) <code>stock</code> IntegerField DataRequired, NumberRange(min=0, max=999999) <code>description</code> TextAreaField Optional, Length(max=1000) <code>category_id</code> SelectField DataRequired, coerce=int"},{"location":"week5/bestanden/webshop/index.html#contactform","title":"ContactForm","text":"Veld Type Validators <code>name</code> StringField DataRequired, Length(min=2, max=100) <code>email</code> StringField DataRequired, Length(max=120) <code>subject</code> StringField DataRequired, Length(min=3, max=200) <code>message</code> TextAreaField DataRequired, Length(min=10, max=2000)"},{"location":"week5/bestanden/webshop/index.html#routes-uitleg","title":"Routes Uitleg","text":""},{"location":"week5/bestanden/webshop/index.html#admin-routes_1","title":"Admin Routes","text":""},{"location":"week5/bestanden/webshop/index.html#post-adminproductadd","title":"POST /admin/product/add","text":"<pre><code>@app.route(\"/admin/product/add\", methods=['GET', 'POST'])\ndef admin_add_product() -&gt; str:\n    form = AddProductForm()\n    form.category_id.choices = db.get_category_choices()\n\n    if form.validate_on_submit():\n        new_product_id = db.add_product(\n            name=form.name.data,\n            price=form.price.data,\n            stock=form.stock.data,\n            category_id=form.category_id.data,\n            description=form.description.data\n        )\n        flash(f'Product \"{form.name.data}\" toegevoegd!', 'success')\n        return redirect(url_for('product', product_id=new_product_id))\n\n    return render_template(\"add_product.html\", form=form)\n</code></pre> <p>GET: Toont leeg formulier POST: Valideert en voegt product toe aan database</p>"},{"location":"week5/bestanden/webshop/index.html#getpost-adminproductedit","title":"GET/POST /admin/product/edit/","text":"<pre><code>@app.route(\"/admin/product/edit/&lt;int:product_id&gt;\", methods=['GET', 'POST'])\ndef admin_edit_product(product_id: int) -&gt; str:\n    product_info = db.get_product_by_id(product_id)\n    form = EditProductForm()\n    form.category_id.choices = db.get_category_choices()\n\n    if form.validate_on_submit():\n        db.update_product(...)\n        flash('Product gewijzigd!', 'success')\n        return redirect(url_for('product', product_id=product_id))\n\n    # Pre-fill form bij GET request\n    elif not form.is_submitted():\n        form.name.data = product_info['name']\n        form.price.data = product_info['price']\n        # ... etc\n\n    return render_template(\"edit_product.html\", form=form, product=product_info)\n</code></pre> <p>GET: Toont formulier met huidige product data POST: Valideert en update product</p>"},{"location":"week5/bestanden/webshop/index.html#post-adminproductdelete","title":"POST /admin/product/delete/","text":"<pre><code>@app.route(\"/admin/product/delete/&lt;int:product_id&gt;\", methods=['POST'])\ndef admin_delete_product(product_id: int) -&gt; str:\n    product_info = db.get_product_by_id(product_id)\n    db.delete_product(product_id)\n    flash(f'Product \"{product_info[\"name\"]}\" verwijderd.', 'success')\n    return redirect(url_for('admin_products'))\n</code></pre> <p>Alleen POST voor veiligheid (CSRF protection)</p>"},{"location":"week5/bestanden/webshop/index.html#template-patterns","title":"Template Patterns","text":""},{"location":"week5/bestanden/webshop/index.html#formulier-rendering","title":"Formulier Rendering","text":"<pre><code>&lt;form method=\"POST\"&gt;\n    {{ form.hidden_tag() }}  {# CSRF token #}\n\n    &lt;div class=\"mb-3\"&gt;\n        {{ form.name.label(class=\"form-label\") }}\n        {{ form.name(class=\"form-control\" + (\" is-invalid\" if form.name.errors else \"\")) }}\n\n        {% if form.name.errors %}\n            &lt;div class=\"invalid-feedback\"&gt;\n                {% for error in form.name.errors %}\n                    &lt;div&gt;{{ error }}&lt;/div&gt;\n                {% endfor %}\n            &lt;/div&gt;\n        {% endif %}\n    &lt;/div&gt;\n\n    {{ form.submit(class=\"btn btn-primary\") }}\n&lt;/form&gt;\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#flash-messages_1","title":"Flash Messages","text":"<pre><code>{% with messages = get_flashed_messages(with_categories=true) %}\n    {% if messages %}\n        {% for category, message in messages %}\n        &lt;div class=\"alert alert-{{ category }} alert-dismissible fade show\"&gt;\n            {{ message }}\n            &lt;button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"&gt;&lt;/button&gt;\n        &lt;/div&gt;\n        {% endfor %}\n    {% endif %}\n{% endwith %}\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#security-features","title":"Security Features","text":""},{"location":"week5/bestanden/webshop/index.html#csrf-protection","title":"CSRF Protection","text":"<p>Flask-WTF biedt automatische CSRF-beveiliging:</p> <pre><code>app.config['SECRET_KEY'] = 'webshop-secret-key-2025'\n</code></pre> <p>Elke form heeft een hidden CSRF token:</p> <pre><code>{{ form.hidden_tag() }}\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#post-only-delete","title":"POST-only Delete","text":"<p>Delete operaties zijn alleen via POST toegestaan:</p> <pre><code>@app.route(\"/admin/product/delete/&lt;int:id&gt;\", methods=['POST'])\n</code></pre> <p>Dit voorkomt accidentele deletes via GET requests.</p>"},{"location":"week5/bestanden/webshop/index.html#confirm-dialog","title":"Confirm Dialog","text":"<p>JavaScript confirm bij delete:</p> <pre><code>&lt;form onsubmit=\"return confirm('Weet je het zeker?');\"&gt;\n    &lt;button type=\"submit\"&gt;Verwijderen&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#validatie","title":"Validatie","text":"<p>WTForms valideert automatisch:</p> <ol> <li>DataRequired: Veld mag niet leeg zijn</li> <li>NumberRange: Getal binnen min/max</li> <li>Length: String lengte binnen min/max</li> <li>Email: Geldig email adres (optioneel)</li> <li>Optional: Veld mag leeg zijn</li> </ol> <p>Custom foutmeldingen:</p> <pre><code>validators=[\n    DataRequired(message=\"Product naam is verplicht\"),\n    Length(min=2, max=200, message=\"Naam moet tussen 2 en 200 karakters zijn\")\n]\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#tips","title":"Tips","text":""},{"location":"week5/bestanden/webshop/index.html#form-flow","title":"Form Flow","text":"<ol> <li>Create form instance</li> </ol> <pre><code>form = AddProductForm()\n</code></pre> <ol> <li>Populate choices (voor SelectField)</li> </ol> <pre><code>form.category_id.choices = db.get_category_choices()\n</code></pre> <ol> <li>Check validation</li> </ol> <pre><code>if form.validate_on_submit():\n    # Process form data\n</code></pre> <ol> <li>Access form data</li> </ol> <pre><code>form.name.data  # User input\n</code></pre> <ol> <li>Flash message &amp; redirect</li> </ol> <pre><code>flash('Success!', 'success')\nreturn redirect(url_for('index'))\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#edit-form-pattern","title":"Edit Form Pattern","text":"<pre><code>if form.validate_on_submit():\n    # Update database\n    ...\nelif not form.is_submitted():\n    # Pre-fill form (GET request)\n    form.name.data = existing_data['name']\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#testing","title":"Testing","text":"<p>Test alle formulieren:</p> <p>Add Product:</p> <ol> <li>Ga naar <code>/admin/product/add</code></li> <li>Vul alle velden in</li> <li>Submit</li> <li>Check flash message &amp; redirect</li> </ol> <p>Edit Product:</p> <ol> <li>Ga naar een product detail pagina</li> <li>Klik \"Bewerken (Admin)\"</li> <li>Wijzig velden</li> <li>Submit</li> <li>Check updates</li> </ol> <p>Delete Product:</p> <ol> <li>Ga naar edit pagina</li> <li>Klik \"Product Verwijderen\"</li> <li>Bevestig dialog</li> <li>Check flash message &amp; redirect</li> </ol> <p>Contact Form:</p> <ol> <li>Ga naar <code>/contact</code></li> <li>Vul formulier in</li> <li>Test validators (lege velden, te korte tekst)</li> <li>Submit</li> <li>Check flash message</li> </ol>"},{"location":"week5/bestanden/webshop/index.html#debugging","title":"Debugging","text":""},{"location":"week5/bestanden/webshop/index.html#form-errors","title":"Form Errors","text":"<p>Print form errors in development:</p> <pre><code>if form.errors:\n    print(form.errors)\n</code></pre>"},{"location":"week5/bestanden/webshop/index.html#csrf-errors","title":"CSRF Errors","text":"<p>Als je CSRF errors krijgt:</p> <ol> <li>Check of SECRET_KEY is geconfigureerd</li> <li>Check of <code>{{ form.hidden_tag() }}</code> in template staat</li> <li>Check of je POST gebruikt voor formulier</li> </ol>"},{"location":"week5/bestanden/webshop/index.html#volgende-stappen","title":"Volgende Stappen","text":"<p>In Week 6 gaan we:</p> <ul> <li>SQLAlchemy ORM gebruiken in plaats van raw SQL</li> <li>Models maken voor Product, Category, Customer, Order</li> <li>Relationships defini\u00ebren tussen models</li> <li>Formulieren koppelen aan ORM models</li> </ul>"},{"location":"week5/bestanden/webshop/index.html#referenties","title":"Referenties","text":"<ul> <li>Flask-WTF Documentation</li> <li>WTForms Documentation</li> <li>WTForms Validators</li> <li>Bootstrap 5 Forms</li> </ul>"},{"location":"week5/oefeningen/flask-forms-oefening1.html","title":"Flask Forms - Oefening 1","text":""},{"location":"week5/oefeningen/flask-forms-oefening1.html#flask-forms-oefening-1","title":"Flask Forms - Oefening 1","text":"<p>Bouw een naam invoerformulier met validators, sessions en flash messages.</p>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#doel","title":"Doel","text":"<p>Je maakt een formulier waarbij gebruikers hun voor- en achternaam kunnen invoeren. Na het verzenden worden de gegevens opgeslagen in een session en wordt een flash message getoond met de volledige naam.</p>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#setup","title":"Setup","text":"<p>Maak een nieuw Flask project:</p> <pre><code>mkdir flask-forms-oefening1\ncd flask-forms-oefening1\nuv init\nuv add flask flask-wtf\nmkdir templates\n</code></pre>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#opdracht","title":"Opdracht","text":"<p>Implementeer de volgende functionaliteit:</p> <ol> <li>Formulier met twee StringFields:</li> <li>Voornaam (verplicht veld met <code>DataRequired()</code> validator)</li> <li> <p>Achternaam (verplicht veld met <code>DataRequired()</code>)</p> </li> <li> <p>Session opslag:</p> </li> <li> <p>Sla voornaam en achternaam op in session na verzenden</p> </li> <li> <p>Flash message:</p> </li> <li>Toon een success flash message met de volledige naam</li> <li> <p>Formaat: \"Welkom, [voornaam] [achternaam]!\"</p> </li> <li> <p>Bootstrap styling:</p> </li> <li>Gebruik Bootstrap 5 voor de template</li> <li>Gebruik Bootstrap form classes (<code>form-control</code>, <code>form-label</code>, etc.)</li> <li>Toon flash message met <code>alert-success</code> class</li> </ol>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#starter-code","title":"Starter code","text":"<p><code>app.py</code>:</p> <pre><code>from flask import Flask, render_template, flash, redirect, url_for, session\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\nfrom wtforms.validators import DataRequired\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\n\nclass NaamForm(FlaskForm):\n    \"\"\"Formulier voor voor- en achternaam.\"\"\"\n\n    # TODO: Voeg voornaam StringField toe met label 'Voornaam'\n    # TODO: Voeg DataRequired() validator toe aan voornaam\n\n    # TODO: Voeg achternaam StringField toe met label 'Achternaam'\n    # TODO: Voeg DataRequired() validator toe aan achternaam\n\n    # TODO: Voeg SubmitField toe met tekst 'Verzend'\n    pass\n\n\n@app.route('/', methods=['GET', 'POST'])\ndef index() -&gt; str:\n    \"\"\"Homepage met naam formulier.\n\n    Returns:\n        Gerenderde template met formulier en flash messages\n    \"\"\"\n    # TODO: Maak een instantie van NaamForm aan\n\n    # TODO: Check of formulier valid is en verzonden met validate_on_submit()\n    # TODO: Sla voornaam op in session['voornaam']\n    # TODO: Sla achternaam op in session['achternaam']\n\n    # TODO: Maak een volledige_naam variabele met voornaam + spatie + achternaam\n\n    # TODO: Flash een success message met tekst: f'Welkom, {volledige_naam}!'\n    # TODO: Gebruik 'success' als categorie\n\n    # TODO: Redirect naar 'index' route\n\n    # TODO: Return render_template voor 'home.html' met form=form\n    pass\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p><code>templates/home.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Naam Formulier - Oefening 1&lt;/title&gt;\n\n    &lt;!-- TODO: Voeg Bootstrap 5 CSS link toe --&gt;\n    &lt;!-- Gebruik: https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css --&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container mt-5\"&gt;\n        &lt;h1&gt;Naam Formulier&lt;/h1&gt;\n\n        &lt;!-- TODO: Loop door get_flashed_messages(with_categories=true) --&gt;\n        &lt;!-- TODO: Toon elke message in een Bootstrap alert met class alert-{{ category }} --&gt;\n        &lt;!-- TODO: Voeg alert-dismissible fade show classes toe --&gt;\n        &lt;!-- TODO: Voeg close button toe met class btn-close --&gt;\n\n        &lt;!-- Formulier --&gt;\n        &lt;form method=\"POST\"&gt;\n            &lt;!--TODO: Voeg form.hidden_tag() toe voor CSRF protection --&gt;\n\n            &lt;!-- TODO: Voeg div met class mb-3 toe --&gt;\n            &lt;!-- TODO: Toon form.voornaam.label met class form-label --&gt;\n            &lt;!-- TODO: Toon form.voornaam met class form-control --&gt;\n\n            &lt;!-- TODO: Voeg div met class mb-3 toe --&gt;\n            &lt;!-- TODO: Toon form.achternaam.label met class form-label --&gt;\n            &lt;!-- TODO: Toon form.achternaam met class form-control --&gt;\n\n            &lt;!-- TODO: Toon form.submit met class btn btn-primary --&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;!-- TODO: Voeg Bootstrap 5 JavaScript toe --&gt;\n    &lt;!-- Gebruik: https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js --&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#testen","title":"Testen","text":"<p>Start de applicatie:</p> <pre><code>uv run python app.py\n</code></pre>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#test-scenarios","title":"Test scenario's","text":"<ol> <li>Zonder invullen verzenden:</li> <li>Beide velden moeten validation errors tonen</li> <li> <p>Formulier mag niet verzonden worden</p> </li> <li> <p>Alleen voornaam invullen:</p> </li> <li>Achternaam veld moet validation error tonen</li> <li> <p>Formulier mag niet verzonden worden</p> </li> <li> <p>Beide velden invullen:</p> </li> <li>Flash message moet verschijnen: \"Welkom, [voornaam] [achternaam]!\"</li> <li>Message moet groen zijn (success)</li> <li>Message moet sluitbaar zijn met X knop</li> </ol>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#verwachte-output","title":"Verwachte output","text":"<p>Leeg formulier:</p> <ul> <li>Twee invoervelden (voornaam, achternaam)</li> <li>Een verzend knop</li> <li>Geen flash messages zichtbaar</li> </ul> <p>Validation error bij leeg formulier:</p> <ul> <li>Rode rand om lege verplichte velden</li> <li>Formulier wordt niet verzonden</li> <li>Blijft op dezelfde pagina</li> </ul> <p>Success message na invullen:</p> <ul> <li>Groene flash message bovenaan: \"Welkom, [voornaam] [achternaam]!\"</li> <li>Message is sluitbaar met X knop</li> <li>Formulier velden zijn leeg (na redirect)</li> </ul>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#bonus-opdrachten","title":"Bonus opdrachten","text":""},{"location":"week5/oefeningen/flask-forms-oefening1.html#bonus-1-email-veld-toevoegen","title":"Bonus 1: Email veld toevoegen","text":"<p>Voeg een email veld toe met <code>Email()</code> validator:</p> <pre><code>from wtforms.validators import DataRequired, Email\n\nclass NaamForm(FlaskForm):\n    voornaam = StringField('Voornaam', validators=[DataRequired()])\n    achternaam = StringField('Achternaam', validators=[DataRequired()])\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    submit = SubmitField('Verzend')\n</code></pre> <p>Toon email in flash message: \"Welkom, [naam]! Bevestiging gestuurd naar [email]\"</p>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#bonus-2-bedankpagina","title":"Bonus 2: Bedankpagina","text":"<p>Maak een aparte <code>/bedankt</code> route die de session data toont:</p> <pre><code>@app.route('/bedankt')\ndef bedankt() -&gt; str:\n    \"\"\"Bedankpagina met session data.\"\"\"\n    # TODO: Implementeer bedankt route\n    # TODO: Maak bedankt.html template\n    # TODO: Toon voornaam, achternaam uit session\n    pass\n</code></pre> <p>Redirect naar <code>/bedankt</code> na formulier verzenden in plaats van terug naar index.</p>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#bonus-3-multiple-flash-messages","title":"Bonus 3: Multiple flash messages","text":"<p>Toon meerdere flash messages met verschillende categorie\u00ebn:</p> <pre><code>if form.validate_on_submit():\n    flash(f'Welkom, {volledige_naam}!', 'success')\n    flash('Je gegevens zijn veilig opgeslagen', 'info')\n    flash('Controleer je inbox voor een bevestigingsmail', 'warning')\n    return redirect(url_for('index'))\n</code></pre>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#bonus-4-form-reset","title":"Bonus 4: Form reset","text":"<p>Reset het formulier na verzenden door velden leeg te maken:</p> <pre><code>if form.validate_on_submit():\n    # Sla data op\n    session['voornaam'] = form.voornaam.data\n    session['achternaam'] = form.achternaam.data\n\n    # Flash message\n    flash(f'Welkom, {volledige_naam}!', 'success')\n\n    # Reset formulier velden\n    form.voornaam.data = ''\n    form.achternaam.data = ''\n\n    # Geen redirect - blijf op zelfde pagina\n    return render_template('home.html', form=form)\n</code></pre>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#tips","title":"Tips","text":"<ul> <li>Vergeet <code>{{ form.hidden_tag() }}</code> niet - zonder CSRF token krijg je een error</li> <li>Bootstrap classes zijn optioneel maar maken het formulier mooier</li> <li>Test altijd validators door velden leeg te laten</li> <li>Gebruik <code>with_categories=true</code> in <code>get_flashed_messages()</code> voor gekleurde alerts</li> </ul>"},{"location":"week5/oefeningen/flask-forms-oefening1.html#veelvoorkomende-fouten","title":"Veelvoorkomende fouten","text":"<p>\"CSRF token missing\"</p> <ul> <li>Oplossing: Voeg <code>{{ form.hidden_tag() }}</code> toe in het formulier</li> </ul> <p>Flash message verschijnt niet</p> <ul> <li>Check of je <code>flash()</code> aanroept v\u00f3\u00f3r de redirect</li> <li>Check of <code>get_flashed_messages()</code> in de template staat</li> </ul> <p>Validators werken niet</p> <ul> <li>Check of <code>DataRequired()</code> in de validators list staat</li> <li>Check of je <code>form.validate_on_submit()</code> gebruikt</li> </ul> <p>Bootstrap styling werkt niet</p> <ul> <li>Check of Bootstrap CSS en JS links correct zijn</li> <li>Check of <code>integrity</code> en <code>crossorigin</code> attributen aanwezig zijn</li> </ul>"},{"location":"week6/flask-views-deel1.html","title":"Flask en SQLAlchemy - Theorie","text":""},{"location":"week6/flask-views-deel1.html#flask-en-sqlalchemy-theorie","title":"Flask en SQLAlchemy - Theorie","text":""},{"location":"week6/flask-views-deel1.html#database-koppeling","title":"Database koppeling","text":"<p>Je hebt in week 3 al met SQLite gewerkt: tabellen, rijen, kolommen en SQL queries. Die kennis is hier direct van toepassing. Het verschil is de aanpak: in week 3 schreef je de SQL zelf, hier gebruik je een ORM.</p>"},{"location":"week6/flask-views-deel1.html#orm-object-relational-mapper","title":"ORM - Object Relational Mapper","text":"<p>Een Object Relational Mapper (ORM) is een abstractielaag tussen Python en de database. Je beschrijft je data als Python klassen en objecten, de ORM vertaalt dat naar SQL.</p> <p>De meest gebruikte ORM voor Python is SQLAlchemy. Voor Flask bestaat er een extensie: Flask-SQLAlchemy. Flask kan daarmee met verschillende SQL databases werken: PostgreSQL, MySQL, SQLite en anderen.</p> <p>SQLAlchemy voegt een extra laag toe aan je applicatie architectuur:</p> <pre><code>flowchart TD\n    A[\"\ud83c\udf10 Browser\"] --&gt; B[\"Flask\\n(routes &amp; templates)\"]\n    B --&gt; C[\"SQLAlchemy ORM\\n(Python objecten)\"]\n    C --&gt; D[\"SQL\"]\n    D --&gt; E[(\"SQLite\\ndatabase\")]\n</code></pre>"},{"location":"week6/flask-views-deel1.html#installatie","title":"Installatie","text":"<p>Voeg Flask-SQLAlchemy toe aan je project:</p> <pre><code>uv add flask-sqlalchemy\n</code></pre>"},{"location":"week6/flask-views-deel1.html#crud-operaties","title":"CRUD operaties","text":"<p>Met een database voer je vier basis operaties uit - CRUD:</p> operatie Beschrijving <code>CREATE</code> Nieuwe records toevoegen <code>READ</code> Gegevens opvragen (<code>SELECT</code>) <code>UPDATE</code> Gegevens wijzigen <code>DELETE</code> Gegevens verwijderen"},{"location":"week6/flask-views-deel1.html#werkwijze","title":"Werkwijze","text":""},{"location":"week6/flask-views-deel1.html#1-database-configuratie","title":"1. Database configuratie","text":"<ul> <li>Flask app aanmaken</li> <li>SQLAlchemy configureren (database locatie, opties)</li> <li>SQLAlchemy koppelen aan je Flask app</li> </ul> <p>Deze configuratie doe je \u00e9\u00e9n keer per project.</p>"},{"location":"week6/flask-views-deel1.html#2-models-definieren","title":"2. Models defini\u00ebren","text":"<p>Models zijn Python klassen die tabellen representeren. Je schrijft een class, SQLAlchemy maakt de tabel.</p> <p>Vergelijkbaar met <code>FlaskForm</code>, maar dan voor database tabellen:</p> <ol> <li>Maak een class</li> <li>Laat het erven van <code>db.Model</code></li> <li>Geef optioneel een tabelnaam op</li> <li>Definieer kolommen als class attributen</li> <li>Voeg <code>__init__</code> en <code>__repr__</code> methoden toe</li> </ol>"},{"location":"week6/flask-views-deel1.html#3-crud-operaties-uitvoeren","title":"3. CRUD operaties uitvoeren","text":"<p>Je gebruikt SQLAlchemy methoden om records toe te voegen, op te vragen, te wijzigen en te verwijderen.</p> <p>Volgende stap: Deel 2 - Database setup en models.</p>"},{"location":"week6/flask-views-deel1.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>ORM: een Object Relational Mapper is een abstractielaag waarmee je database-bewerkingen uitvoert via Python-objecten in plaats van rechtstreekse SQL.</li> <li>SQLAlchemy en Flask-SQLAlchemy: SQLAlchemy is de meest gebruikte Python ORM; Flask-SQLAlchemy is de bijbehorende Flask-extensie die installeerbaar is via <code>uv add flask-sqlalchemy</code>.</li> <li>Architectuurlagen: een Flask-applicatie met database werkt in lagen \u2014 browser \u2192 Flask (routes &amp; templates) \u2192 SQLAlchemy ORM \u2192 SQL \u2192 SQLite.</li> <li>CRUD: de vier basisoperaties op een database zijn Create, Read, Update en Delete.</li> <li>Models: een model is een Python-klasse die erft van <code>db.Model</code> en een databasetabel representeert; kolommen worden als klasse-attributen gedefinieerd.</li> <li>Werkwijze in drie stappen: eerst de database configureren, dan models defini\u00ebren, en ten slotte CRUD-operaties uitvoeren.</li> </ul>"},{"location":"week6/flask-views-deel2.html","title":"Flask en SQLAlchemy - Database Setup","text":""},{"location":"week6/flask-views-deel2.html#flask-en-sqlalchemy-database-setup","title":"Flask en SQLAlchemy - Database Setup","text":"<p>Je maakt een database voor je Flask applicatie in drie stappen. Dit deel behandelt het opzetten van de database en het defini\u00ebren van een model.</p>"},{"location":"week6/flask-views-deel2.html#project-structuur","title":"Project structuur","text":"<p>Voor de voorbeelden gebruik je drie Python bestanden:</p> <ul> <li><code>basic_model_app.py</code> - Database configuratie en model definitie</li> <li><code>setup_database.py</code> - Database aanmaken en eerste data toevoegen</li> <li><code>basic_CRUD.py</code> - CRUD operaties uitvoeren (volgende deel)</li> </ul>"},{"location":"week6/flask-views-deel2.html#1-database-configuratie-basic_model_apppy","title":"1. Database configuratie (<code>basic_model_app.py</code>)","text":"<p>Bestudeer het volledige bestand <code>basic_model_app.py</code>.</p>"},{"location":"week6/flask-views-deel2.html#imports","title":"Imports","text":"<pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom sqlalchemy.orm import Mapped, mapped_column\n</code></pre> <p>De <code>os</code> module gebruik je om automatisch het juiste pad naar je database te bepalen.</p>"},{"location":"week6/flask-views-deel2.html#basedir-bepalen","title":"Basedir bepalen","text":"<pre><code>basedir = os.path.abspath(os.path.dirname(__file__))\n</code></pre> <p>Deze regel bepaalt waar je database bestand komt te staan:</p> <ol> <li><code>__file__</code> - Naam van het huidige Python bestand (<code>basic_model_app.py</code>)</li> <li><code>os.path.dirname(__file__)</code> - Directory waar dit bestand staat</li> <li><code>os.path.abspath()</code> - Volledig absoluut pad</li> </ol> <p>Voorbeeld: <code>/Users/jouw-naam/IdeaProjects/Flask_database/basic_model_app.py</code></p> <p>Deze code werkt op Windows, macOS en Linux - het pad wordt automatisch correct bepaald.</p>"},{"location":"week6/flask-views-deel2.html#flask-app-aanmaken","title":"Flask app aanmaken","text":"<pre><code>app = Flask(__name__)\n</code></pre>"},{"location":"week6/flask-views-deel2.html#database-configuratie","title":"Database configuratie","text":"<pre><code>app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n</code></pre> <p>Eerste regel: Vertelt Flask waar de database bestand staat. De database wordt <code>data.sqlite</code> genoemd en staat in dezelfde directory als <code>basic_model_app.py</code>.</p> <p>Tweede regel: Schakelt modification tracking uit. Deze feature is nuttig voor debugging, maar kost geheugen. Standaard staat het aan (<code>True</code>), daarom expliciet uitzetten.</p>"},{"location":"week6/flask-views-deel2.html#sqlalchemy-koppelen","title":"SQLAlchemy koppelen","text":"<pre><code>db = SQLAlchemy(app)\n</code></pre> <p>Dit object (<code>db</code>) gebruik je voor alle database operaties.</p>"},{"location":"week6/flask-views-deel2.html#model-definieren","title":"Model defini\u00ebren","text":"<p>Een model is een Python class die een database tabel representeert. Je schrijft de class, SQLAlchemy maakt de tabel.</p>"},{"location":"week6/flask-views-deel2.html#basis-model","title":"Basis model","text":"<pre><code>class Cursist(db.Model):\n    \"\"\"Model voor cursisten van de muziekschool.\"\"\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n    leeftijd: Mapped[int | None]\n\n    def __init__(self, naam: str, leeftijd: int):\n        \"\"\"Maak nieuwe cursist aan.\n\n        Args:\n            naam: Voor- en achternaam\n            leeftijd: Leeftijd in jaren\n        \"\"\"\n        self.naam = naam\n        self.leeftijd = leeftijd\n\n    def __repr__(self) -&gt; str:\n        \"\"\"String representatie voor debugging.\"\"\"\n        return f\"Cursist {self.naam} is {self.leeftijd} jaar oud.\"\n</code></pre> <p>Class definitie:</p> <ul> <li>Erft van <code>db.Model</code> - dit maakt het een SQLAlchemy model</li> <li>Standaard wordt de tabel ook <code>cursist</code> genoemd (kleine letter)</li> </ul> <p>Kolommen:</p> <ul> <li><code>id</code> - Integer, primary key (uniek nummer per cursist)</li> <li><code>naam</code> - Text veld</li> <li><code>leeftijd</code> - Integer</li> </ul> <p>Constructor:</p> <ul> <li>Naam en leeftijd zijn verplicht bij aanmaken</li> <li>ID wordt automatisch gegenereerd</li> </ul> <p><code>__repr__</code> methode:</p> <ul> <li>Geeft leesbare tekst bij printen van objecten</li> <li>Handig bij debugging en queries</li> </ul> <p>Custom tabelnaam</p> <p>Wil je een andere tabelnaam dan de class naam? Voeg <code>__tablename__</code> toe: </p><pre><code>class Cursist(db.Model):\n    __tablename__ = 'cursisten'\n    # ...\n</code></pre><p></p>"},{"location":"week6/flask-views-deel2.html#2-database-aanmaken-setup_databasepy","title":"2. Database aanmaken (<code>setup_database.py</code>)","text":"<p>Bestudeer het volledige bestand <code>setup_database.py</code>.</p> <p>Dit eenvoudige script maakt de database aan en voegt eerste data toe.</p>"},{"location":"week6/flask-views-deel2.html#database-aanmaken","title":"Database aanmaken","text":"<pre><code>from basic_model_app import db, Cursist\n\n# Maak database bestand en tabellen aan\ndb.create_all()\n</code></pre> <p><code>db.create_all()</code> leest alle models en maakt de bijbehorende tabellen in de database. Het <code>data.sqlite</code> bestand wordt nu aangemaakt.</p>"},{"location":"week6/flask-views-deel2.html#records-toevoegen","title":"Records toevoegen","text":"<pre><code># Maak objecten aan\njoyce = Cursist('Joyce', 36)\nbram = Cursist('Bram', 24)\n\n# Voeg toe aan database sessie\ndb.session.add_all([joyce, bram])\n\n# Schrijf definitief naar database\ndb.session.commit()\n</code></pre> <p>Stappen:</p> <ol> <li>Maak Python objecten aan</li> <li>Voeg ze toe aan de database sessie met <code>add_all()</code></li> <li>Commit de sessie - nu worden ze \u00e9cht opgeslagen</li> </ol> <p>Database sessie: Verzamelt alle wijzigingen en schrijft ze in \u00e9\u00e9n keer weg. Dit is effici\u00ebnter dan elke toevoeging apart opslaan.</p>"},{"location":"week6/flask-views-deel2.html#ids-controleren","title":"ID's controleren","text":"<pre><code>print(joyce.id)  # 1\nprint(bram.id)   # 2\n</code></pre> <p>De ID's worden automatisch toegekend bij <code>commit()</code>.</p> <p>Output:</p> <pre><code>1\n2\n</code></pre>"},{"location":"week6/flask-views-deel2.html#complete-code-overzicht","title":"Complete code overzicht","text":"<p>Je hebt nu:</p> <ol> <li><code>basic_model_app.py</code> - Database configuratie + Cursist model</li> <li><code>setup_database.py</code> - <code>db.create_all()</code> + initi\u00eble data</li> </ol> <p>Wanneer je <code>setup_database.py</code> runt:</p> <ul> <li>Database bestand <code>data.sqlite</code> wordt aangemaakt</li> <li>Tabel <code>cursist</code> wordt aangemaakt met drie kolommen</li> <li>Twee records worden toegevoegd</li> </ul> <p>Volgende stap: Deel 3 - CRUD operaties uitvoeren.</p>"},{"location":"week6/flask-views-deel2.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Basedir bepalen: met <code>os.path.abspath(os.path.dirname(__file__))</code> stel je platformonafhankelijk het absolute pad in van de map waarin je bestand staat.</li> <li>Database-URI: via <code>app.config['SQLALCHEMY_DATABASE_URI']</code> vertel je Flask waar het SQLite-bestand (<code>data.sqlite</code>) staat.</li> <li>SQLALCHEMY_TRACK_MODIFICATIONS: deze instelling schakel je expliciet uit (op <code>False</code>) om onnodig geheugengebruik te vermijden.</li> <li>SQLAlchemy koppelen: <code>db = SQLAlchemy(app)</code> maakt het <code>db</code>-object aan waarmee je alle database-operaties uitvoert.</li> <li>Model defini\u00ebren: een modelklasse erft van <code>db.Model</code>, gebruikt <code>Mapped</code> en <code>mapped_column</code> voor kolomdefinities, en bevat een <code>__init__</code>- en een <code>__repr__</code>-methode.</li> <li>Tabelnaam aanpassen: met het klasse-attribuut <code>__tablename__</code> geef je de databasetabel een andere naam dan de standaard (lowercase klassenaam).</li> <li>Tabellen aanmaken: <code>db.create_all()</code> leest alle models en maakt de bijbehorende tabellen aan in de database.</li> <li>Records toevoegen: met <code>db.session.add_all([...])</code> gevolgd door <code>db.session.commit()</code> voeg je meerdere objecten tegelijk toe en sla je ze definitief op.</li> <li>Automatische ID's: primaire sleutels worden pas toegewezen na <code>db.session.commit()</code>; daarna zijn ze als attribuut op het object beschikbaar.</li> </ul>"},{"location":"week6/flask-views-deel3.html","title":"Flask en SQLAlchemy - CRUD operaties","text":""},{"location":"week6/flask-views-deel3.html#flask-en-sqlalchemy-crud-operaties","title":"Flask en SQLAlchemy - CRUD operaties","text":""},{"location":"week6/flask-views-deel3.html#3-crud-operaties-basic_crudpy","title":"3. CRUD operaties (<code>basic_CRUD.py</code>)","text":"<p>Je hebt de database en model aangemaakt. Nu voer je de vier basis operaties uit: Create, Read, Update, Delete.</p> <p>Bestudeer het volledige bestand <code>basic_CRUD.py</code>.</p> <p>Vereenvoudigd voorbeeld</p> <p>Dit script toont de basis CRUD operaties. In een echte Flask applicatie gebruik je routes en templates in plaats van losse scripts.</p>"},{"location":"week6/flask-views-deel3.html#create-records-toevoegen","title":"CREATE - Records toevoegen","text":"<pre><code>from basic_model_app import db, Cursist\n\n# Maak nieuw object aan\nelsje = Cursist('Elsje', 19)\n\n# Voeg toe aan database sessie\ndb.session.add(elsje)\n\n# Schrijf naar database\ndb.session.commit()\n</code></pre> <p>Drie stappen: object maken, toevoegen aan sessie, committen.</p>"},{"location":"week6/flask-views-deel3.html#read-gegevens-opvragen","title":"READ - Gegevens opvragen","text":""},{"location":"week6/flask-views-deel3.html#alle-records-ophalen","title":"Alle records ophalen","text":"<pre><code>alle_cursisten = db.session.execute(db.select(Cursist)).scalars().all()\nprint(*alle_cursisten, sep='\\n')\n</code></pre> <p><code>db.session.execute(db.select(Cursist)).scalars().all()</code> geeft een lijst met alle cursisten terug. De tekst komt uit de <code>__repr__()</code> methode.</p> <p>Output:</p> <pre><code>Cursist Joyce is 40 jaar oud\nCursist Bram is 24 jaar oud\nCursist Elsje is 19 jaar oud\n</code></pre>"},{"location":"week6/flask-views-deel3.html#specifiek-record-ophalen-op-id","title":"Specifiek record ophalen op ID","text":"<pre><code>cursist_twee = db.session.get(Cursist, 2)\nprint(cursist_twee)\nprint(cursist_twee.leeftijd)\n</code></pre> <p><code>db.session.get(Cursist, 2)</code> haalt het record op met <code>id = 2</code>.</p> <p>Output:</p> <pre><code>Cursist Bram is 24 jaar oud\n24\n</code></pre> <p>Je kunt direct attributen ophalen zoals <code>cursist_twee.leeftijd</code> of <code>cursist_twee.naam</code>.</p> <p>Query API</p> <p>SQLAlchemy biedt veel query methoden: - <code>db.session.execute(db.select(Model)).scalars().all()</code> - Alle records - <code>db.session.get(Model, id)</code> - Record op primaire sleutel - <code>db.session.execute(db.select(Model).filter_by(naam='Joyce')).scalar_one_or_none()</code> - Filteren</p>"},{"location":"week6/flask-views-deel3.html#update-gegevens-wijzigen","title":"UPDATE - Gegevens wijzigen","text":"<pre><code># Haal record op\ncursist_joyce = db.session.get(Cursist, 1)\n\n# Wijzig attribuut\ncursist_joyce.leeftijd = 40\n\n# Voeg toe aan sessie\ndb.session.add(cursist_joyce)\n\n# Schrijf wijziging naar database\ndb.session.commit()\n</code></pre> <p>Vier stappen:</p> <ol> <li>Record ophalen met <code>db.session.get()</code></li> <li>Attribuut wijzigen</li> <li>Toevoegen aan sessie</li> <li>Committen</li> </ol> <p>Update zonder add</p> <p>Je kunt <code>db.session.add()</code> ook weglaten bij updates. SQLAlchemy houdt bij welke objecten gewijzigd zijn: </p><pre><code>cursist_joyce = db.session.get(Cursist, 1)\ncursist_joyce.leeftijd = 40\ndb.session.commit()  # Dit werkt ook\n</code></pre><p></p>"},{"location":"week6/flask-views-deel3.html#delete-records-verwijderen","title":"DELETE - Records verwijderen","text":"<pre><code># Haal record op\ncursist_elsje = db.session.get(Cursist, 3)\n\n# Verwijder uit database\ndb.session.delete(cursist_elsje)\n\n# Schrijf wijziging naar database\ndb.session.commit()\n</code></pre> <p>Drie stappen:</p> <ol> <li>Record ophalen</li> <li><code>delete()</code> aanroepen</li> <li>Committen</li> </ol> <p>Na deze wijzigingen blijven deze records over:</p> <pre><code>Cursist Joyce is 40 jaar oud\nCursist Bram is 24 jaar oud\n</code></pre>"},{"location":"week6/flask-views-deel3.html#overzicht-crud-patterne","title":"Overzicht CRUD patterne","text":"Operatie Code patroon Create <code>obj = Model(...)</code><code>db.session.add(obj)</code><code>db.session.commit()</code> Read <code>db.session.execute(db.select(Model)).scalars().all()</code><code>db.session.get(Model, id)</code> Update <code>obj = db.session.get(Model, id)</code><code>obj.attribuut = nieuwe_waarde</code><code>db.session.commit()</code> Delete <code>obj = db.session.get(Model, id)</code><code>db.session.delete(obj)</code><code>db.session.commit()</code> <p>Altijd committen</p> <p>Vergeet <code>db.session.commit()</code> niet! Zonder commit worden wijzigingen niet opgeslagen in de database.</p> <p>Volgende stap: Deel 4 - Relaties tussen tabellen.</p>"},{"location":"week6/flask-views-deel3.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>CREATE: een nieuw record toevoeg je door een object aan te maken, het met <code>db.session.add()</code> aan de sessie toe te voegen en daarna <code>db.session.commit()</code> aan te roepen.</li> <li>READ (alle records): <code>db.session.execute(db.select(Model)).scalars().all()</code> geeft een lijst van alle records terug.</li> <li>READ (op primaire sleutel): <code>db.session.get(Model, id)</code> haalt \u00e9\u00e9n record op aan de hand van het ID.</li> <li>READ (filteren): met <code>.filter_by(attribuut=waarde)</code> gecombineerd met <code>.scalar_one_or_none()</code> zoek je op een specifieke kolomwaarde.</li> <li>UPDATE: haal een record op, pas het gewenste attribuut aan en roep <code>db.session.commit()</code> aan; <code>db.session.add()</code> is optioneel omdat SQLAlchemy wijzigingen automatisch bijhoudt.</li> <li>DELETE: haal een record op, roep <code>db.session.delete(obj)</code> aan en commit de sessie.</li> <li>Altijd committen: zonder <code>db.session.commit()</code> worden wijzigingen niet definitief opgeslagen in de database.</li> </ul>"},{"location":"week6/flask-views-deel4.html","title":"Flask en SQLAlchemy - Relaties tussen tabellen","text":""},{"location":"week6/flask-views-deel4.html#flask-en-sqlalchemy-relaties-tussen-tabellen","title":"Flask en SQLAlchemy - Relaties tussen tabellen","text":"<p>In grotere projecten heb je meerdere modellen die met elkaar samenhangen. Tot nu toe heb je gewerkt met \u00e9\u00e9n model (<code>Cursist</code>). De muziekschool heeft ook:</p> <ul> <li>Instrument - Instrumenten waarin de school lesgeeft</li> <li>Docent - Docenten die les geven</li> </ul> <p>Deze modellen hebben relaties met elkaar:</p> <ul> <li>Een cursist kan meerdere instrumenten leren bespelen (\u00e9\u00e9n-op-veel)</li> <li>Een cursist heeft \u00e9\u00e9n docent (\u00e9\u00e9n-op-\u00e9\u00e9n)</li> <li>Een instrument wordt (in dit voorbeeld) door \u00e9\u00e9n cursist bespeeld</li> </ul> <pre><code>erDiagram\n    Cursist ||--o{ Instrument : \"bespeelt (cursist_id)\"\n    Cursist ||--o| Docent : \"begeleid door (cursist_id)\"\n</code></pre>"},{"location":"week6/flask-views-deel4.html#sleutels","title":"Sleutels","text":""},{"location":"week6/flask-views-deel4.html#primary-key-primaire-sleutel","title":"Primary Key (Primaire sleutel)","text":"<p>Elk model heeft een <code>id</code> kolom die de primary key is. Deze waarde is uniek per record en identificeert \u00e9\u00e9n specifieke rij.</p> <p><code>Cursist</code>:</p> <ul> <li>id (primary key, integer)</li> <li>naam (text)</li> </ul> <p><code>Instrument</code>:</p> <ul> <li>id (primary key, integer)</li> <li>naam (text)</li> </ul> <p><code>Docent</code>:</p> <ul> <li>id (primary key, integer)</li> <li>naam (text)</li> </ul>"},{"location":"week6/flask-views-deel4.html#foreign-key-refererende-sleutel","title":"Foreign Key (Refererende sleutel)","text":"<p>Om een relatie te leggen tussen tabellen gebruik je een foreign key. Dit is een kolom die verwijst naar de <code>id</code> van een ander model.</p> <p>Voorbeeld: <code>Instrument</code> moet weten welke cursist het instrument bespeelt. Daarom krijgt <code>Instrument</code> een <code>cursist_id</code> kolom die verwijst naar <code>Cursist.id</code>.</p>"},{"location":"week6/flask-views-deel4.html#database-migraties-met-flask-migrate","title":"Database migraties met Flask-Migrate","text":"<p>Bij het werken met relaties is het handig om Flask-Migrate te gebruiken. Dit pakket helpt bij het aanmaken en wijzigen van database schema's.</p> <p>Installeer Flask-Migrate:</p> <pre><code>uv add flask-migrate\n</code></pre> <p>Flask-Migrate houdt bij welke wijzigingen je in je models maakt en past de database automatisch aan.</p>"},{"location":"week6/flask-views-deel4.html#models-met-relaties-modelspy","title":"Models met relaties (<code>models.py</code>)","text":"<p>Bestudeer het volledige bestand <code>models.py</code>.</p>"},{"location":"week6/flask-views-deel4.html#setup","title":"Setup","text":"<pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom sqlalchemy.orm import Mapped, mapped_column, relationship\nfrom sqlalchemy import ForeignKey\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nMigrate(app, db)\n</code></pre> <p><code>Migrate(app, db)</code> koppelt Flask-Migrate aan je applicatie.</p>"},{"location":"week6/flask-views-deel4.html#cursist-model-met-relaties","title":"Cursist model met relaties","text":"<pre><code>class Cursist(db.Model):\n    \"\"\"Cursist van de muziekschool.\"\"\"\n\n    __tablename__ = 'cursisten'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n\n    # \u00c9\u00e9n-op-veel relatie met instrumenten\n    instrumenten: Mapped[list['Instrument']] = relationship(back_populates='cursist')\n\n    # \u00c9\u00e9n-op-\u00e9\u00e9n relatie met docent\n    docent: Mapped['Docent | None'] = relationship(back_populates='cursist')\n\n    def __init__(self, naam: str):\n        \"\"\"Maak nieuwe cursist aan.\n\n        Args:\n            naam: Voor- en achternaam\n        \"\"\"\n        self.naam = naam\n\n    def __repr__(self) -&gt; str:\n        \"\"\"String representatie.\"\"\"\n        if self.docent:\n            return f\"Cursist {self.naam} heeft {self.docent.naam} als docent\"\n        else:\n            return f\"Cursist {self.naam} heeft nog geen docent toegewezen gekregen\"\n\n    def overzicht_instrumenten(self) -&gt; list[str]:\n        \"\"\"Geef lijst van instrumentnamen terug.\n\n        Returns:\n            Lijst met namen van instrumenten\n        \"\"\"\n        return [instr.naam for instr in self.instrumenten]\n</code></pre> <p>Relaties uitleg:</p> <p>\u00c9\u00e9n-op-veel (Cursist \u2194 Instrumenten):</p> <pre><code>instrumenten: Mapped[list['Instrument']] = relationship(back_populates='cursist')\n</code></pre> <ul> <li><code>Mapped[list['Instrument']]</code> - Lijst van Instrument objecten (\u00e9\u00e9n-op-veel)</li> <li><code>back_populates='cursist'</code> - Koppelt aan de <code>cursist</code> relatie in het <code>Instrument</code> model</li> </ul> <p>\u00c9\u00e9n-op-\u00e9\u00e9n (Cursist \u2194 Docent):</p> <pre><code>docent: Mapped['Docent | None'] = relationship(back_populates='cursist')\n</code></pre> <ul> <li><code>Mapped['Docent | None']</code> - E\u00e9n object of None (\u00e9\u00e9n-op-\u00e9\u00e9n)</li> </ul> <p>Return values in plaats van print</p> <p>De <code>overzicht_instrumenten()</code> methode geeft een lijst terug in plaats van printen. Dit kun je gebruiken in routes en templates.</p>"},{"location":"week6/flask-views-deel4.html#instrument-model","title":"Instrument model","text":"<pre><code>class Instrument(db.Model):\n    \"\"\"Instrument waarin de school lesgeeft.\"\"\"\n\n    __tablename__ = 'instrumenten'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n\n    # Foreign key naar cursisten tabel\n    cursist_id: Mapped[int | None] = mapped_column(ForeignKey('cursisten.id'))\n    cursist: Mapped['Cursist | None'] = relationship(back_populates='instrumenten')\n\n    def __init__(self, naam: str, cursist_id: int):\n        \"\"\"Maak nieuw instrument aan.\n\n        Args:\n            naam: Naam van het instrument\n            cursist_id: ID van de cursist die dit instrument bespeelt\n        \"\"\"\n        self.naam = naam\n        self.cursist_id = cursist_id\n</code></pre> <p>Foreign key: <code>ForeignKey('cursisten.id')</code> verwijst naar de tabelnaam (<code>cursisten</code>), niet de class naam.</p>"},{"location":"week6/flask-views-deel4.html#docent-model","title":"Docent model","text":"<pre><code>class Docent(db.Model):\n    \"\"\"Docent die lesgeeft aan \u00e9\u00e9n cursist.\"\"\"\n\n    __tablename__ = 'docenten'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n\n    # Foreign key naar cursisten tabel\n    cursist_id: Mapped[int | None] = mapped_column(ForeignKey('cursisten.id'))\n    cursist: Mapped['Cursist | None'] = relationship(back_populates='docent')\n\n    def __init__(self, naam: str, cursist_id: int):\n        \"\"\"Maak nieuwe docent aan.\n\n        Args:\n            naam: Voor- en achternaam\n            cursist_id: ID van de cursist die deze docent begeleidt\n        \"\"\"\n        self.naam = naam\n        self.cursist_id = cursist_id\n</code></pre>"},{"location":"week6/flask-views-deel4.html#database-aanmaken-met-migraties","title":"Database aanmaken met migraties","text":"<p>Nu je <code>models.py</code> hebt met alle relaties, maak je de database aan:</p> <p>1. Stel FLASK_APP in:</p> Linux / macOSWindows (cmd)Windows (PowerShell) <pre><code>export FLASK_APP=models.py\n</code></pre> <pre><code>set FLASK_APP=models.py\n</code></pre> <pre><code>$Env:FLASK_APP = \"models.py\"\n</code></pre> <p>2. Initialiseer migraties:</p> <pre><code>flask db init\n</code></pre> <p>Dit maakt een <code>migrations/</code> directory aan.</p> <p>3. Maak eerste migratie:</p> <pre><code>flask db migrate -m \"Initial migration\"\n</code></pre> <p>Flask-Migrate detecteert je models en maakt migratie scripts.</p> <p>4. Voer migratie uit:</p> <pre><code>flask db upgrade\n</code></pre> <p>Nu worden de tabellen aangemaakt in <code>data.sqlite</code>.</p>"},{"location":"week6/flask-views-deel4.html#data-toevoegen-met-relaties","title":"Data toevoegen met relaties","text":"<p>Bestudeer het volledige bestand <code>populate_database.py</code>.</p> <pre><code>from models import db, Cursist, Instrument, Docent\n\n# Maak cursisten aan\njoyce = Cursist(\"Joyce\")\nbram = Cursist(\"Bram\")\n\ndb.session.add_all([joyce, bram])\ndb.session.commit()\n\n# Controleer\nprint(db.session.execute(db.select(Cursist)).scalars().all())\n# [Cursist Joyce heeft nog geen docent toegewezen gekregen,\n#  Cursist Bram heeft nog geen docent toegewezen gekregen]\n\n# Zoek Joyce op\njoyce = db.session.execute(db.select(Cursist).filter_by(naam='Joyce')).scalar_one_or_none()\n\n# Voeg docent toe voor Joyce\ndavid = Docent(\"David\", joyce.id)\n\n# Voeg instrumenten toe voor Joyce\ninstr1 = Instrument('Drums', joyce.id)\ninstr2 = Instrument(\"Piano\", joyce.id)\n\ndb.session.add_all([david, instr1, instr2])\ndb.session.commit()\n\n# Check de relaties\njoyce = db.session.execute(db.select(Cursist).filter_by(naam='Joyce')).scalar_one_or_none()\nprint(joyce)\n# Cursist Joyce heeft David als docent\n\nprint(joyce.overzicht_instrumenten())\n# ['Drums', 'Piano']\n</code></pre> <p>Output:</p> <pre><code>[Cursist Joyce heeft nog geen docent toegewezen gekregen, Cursist Bram heeft nog geen docent toegewezen gekregen]\nCursist Joyce heeft David als docent\n['Drums', 'Piano']\n</code></pre> <p>Query methoden</p> <ul> <li><code>db.session.execute(db.select(Model)).scalars().all()</code> - Alle records</li> <li><code>db.session.execute(db.select(Model).filter_by(naam='Joyce')).scalar_one_or_none()</code> - Filter op naam</li> <li><code>db.session.get(Model, id)</code> - Zoek op primary key</li> </ul> <p>De database structuur:</p> <pre><code>erDiagram\n    cursisten {\n        int id PK\n        string naam\n    }\n    instrumenten {\n        int id PK\n        string naam\n        int cursist_id FK\n    }\n    docenten {\n        int id PK\n        string naam\n        int cursist_id FK\n    }\n    cursisten ||--o{ instrumenten : \"cursist_id\"\n    cursisten ||--o| docenten : \"cursist_id\"\n</code></pre>"},{"location":"week6/flask-views-deel4.html#relaties-gebruiken","title":"Relaties gebruiken","text":"<p>Via de <code>back_populates</code> parameter kun je in beide richtingen navigeren:</p> <pre><code># Van cursist naar instrumenten\njoyce.instrumenten  # Alle instrumenten van Joyce\n\n# Van instrument naar cursist (via back_populates)\ndrums = db.session.execute(db.select(Instrument).filter_by(naam='Drums')).scalar_one_or_none()\ndrums.cursist  # Geeft Joyce object terug\ndrums.cursist.naam  # \"Joyce\"\n</code></pre> <p>Volgende stap: Deel 5 - Complete Flask applicatie met database.</p>"},{"location":"week6/flask-views-deel4.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Primary key: elke tabel heeft een uniek <code>id</code>-veld als primaire sleutel waarmee een rij eenduidig ge\u00efdentificeerd kan worden.</li> <li>Foreign key: een relatie tussen tabellen leg je vast met een <code>ForeignKey</code>-kolom die verwijst naar de <code>id</code> van een andere tabel; je gebruikt de tabelnaam (bijv. <code>'cursisten.id'</code>), niet de klassenaam.</li> <li>\u00c9\u00e9n-op-veel relatie: door <code>Mapped[list['Model']]</code> te combineren met <code>relationship(back_populates=...)</code> koppel je \u00e9\u00e9n bovenliggende rij aan meerdere gerelateerde rijen.</li> <li>\u00c9\u00e9n-op-\u00e9\u00e9n relatie: <code>Mapped['Model | None']</code> samen met <code>relationship(back_populates=...)</code> koppelt twee rijen \u00e9\u00e9n-op-\u00e9\u00e9n aan elkaar.</li> <li>back_populates: dit parameter synchroniseert de relatie in beide richtingen, zodat je zowel van de bovenliggende als van de onderliggende kant kunt navigeren.</li> <li>Flask-Migrate: dit pakket beheert databaseschema-wijzigingen via migratiescripts en installeert met <code>uv add flask-migrate</code>; koppelen doe je via <code>Migrate(app, db)</code>.</li> <li>Migratieworkflow: na modelwijzigingen voer je achtereenvolgens <code>flask db init</code>, <code>flask db migrate -m \"...\"</code> en <code>flask db upgrade</code> uit om de database bij te werken.</li> <li>Navigeren via relaties: dankzij <code>back_populates</code> kun je vanuit een object direct gerelateerde objecten ophalen (bijv. <code>joyce.instrumenten</code>) of omgekeerd (bijv. <code>drums.cursist</code>).</li> </ul>"},{"location":"week6/flask-views-deel5.html","title":"Flask en SQLAlchemy - Complete Website","text":""},{"location":"week6/flask-views-deel5.html#flask-en-sqlalchemy-complete-website","title":"Flask en SQLAlchemy - Complete Website","text":"<p>Je combineert nu alle kennis: templates, formulieren, en database. Je bouwt een beheersite voor cursisten van de muziekschool met:</p> <ul> <li>Formulier om cursisten toe te voegen</li> <li>Overzicht van alle cursisten</li> <li>Formulier om cursisten te verwijderen</li> </ul>"},{"location":"week6/flask-views-deel5.html#project-structuur","title":"Project structuur","text":"<p>Je maakt de volgende bestanden:</p> <p>Python bestanden:</p> <ul> <li><code>beheer_cursist.py</code> - Hoofd applicatie met routes</li> <li><code>forms.py</code> - Formulier definities</li> </ul> <p>Templates directory:</p> <ul> <li><code>base.html</code> - Basis template met navigatie</li> <li><code>home.html</code> - Homepage</li> <li><code>voegtoe_cur.html</code> - Cursist toevoegen</li> <li><code>toon_cur.html</code> - Cursisten tonen</li> <li><code>verwijder_cur.html</code> - Cursist verwijderen</li> </ul> <pre><code>project/\n\u251c\u2500\u2500 beheer_cursist.py\n\u251c\u2500\u2500 forms.py\n\u2514\u2500\u2500 templates/\n    \u251c\u2500\u2500 base.html\n    \u251c\u2500\u2500 home.html\n    \u251c\u2500\u2500 voegtoe_cur.html\n    \u251c\u2500\u2500 toon_cur.html\n    \u2514\u2500\u2500 verwijder_cur.html\n</code></pre>"},{"location":"week6/flask-views-deel5.html#stap-1-database-en-model-setup","title":"Stap 1: Database en model setup","text":"<p><code>beheer_cursist.py</code> - Bestudeer het volledige bestand <code>beheer_cursist.py</code>.</p>"},{"location":"week6/flask-views-deel5.html#imports-en-configuratie","title":"Imports en configuratie","text":"<pre><code>import os\nfrom forms import VoegtoeForm, VerwijderForm\nfrom flask import Flask, render_template, url_for, redirect\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom sqlalchemy.orm import Mapped, mapped_column\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n</code></pre> <p><code>SECRET_KEY</code> is vereist voor formulieren (CSRF-beveiliging).</p>"},{"location":"week6/flask-views-deel5.html#database-setup","title":"Database setup","text":"<pre><code>basedir = os.path.abspath(os.path.dirname(__file__))\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nMigrate(app, db)\n</code></pre>"},{"location":"week6/flask-views-deel5.html#cursist-model","title":"Cursist model","text":"<pre><code>class Cursist(db.Model):\n    \"\"\"Model voor cursisten van de muziekschool.\"\"\"\n\n    __tablename__ = 'cursisten'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n\n    def __init__(self, naam: str):\n        \"\"\"Maak nieuwe cursist aan.\n\n        Args:\n            naam: Voor- en achternaam\n        \"\"\"\n        self.naam = naam\n\n    def __repr__(self) -&gt; str:\n        \"\"\"String representatie.\"\"\"\n        return f\"Naam van de cursist: {self.naam}\"\n</code></pre> <p>Dit model is eenvoudig - geen relaties, alleen een naam. Perfect om de basis te begrijpen.</p>"},{"location":"week6/flask-views-deel5.html#stap-2-routes-en-views","title":"Stap 2: Routes en views","text":""},{"location":"week6/flask-views-deel5.html#homepage-route","title":"Homepage route","text":"<pre><code>@app.route('/')\ndef index() -&gt; str:\n    \"\"\"Homepage route.\n\n    Returns:\n        Gerenderde home template\n    \"\"\"\n    return render_template('home.html')\n</code></pre>"},{"location":"week6/flask-views-deel5.html#cursist-toevoegen","title":"Cursist toevoegen","text":"<pre><code>@app.route('/add', methods=['GET', 'POST'])\ndef add_cur() -&gt; str:\n    \"\"\"Voeg nieuwe cursist toe.\n\n    Returns:\n        Bij GET: formulier template\n        Bij POST: redirect naar cursisten lijst\n    \"\"\"\n    form = VoegtoeForm()\n\n    if form.validate_on_submit():\n        naam = form.naam.data\n\n        # Voeg nieuwe cursist toe\n        new_cur = Cursist(naam)\n        db.session.add(new_cur)\n        db.session.commit()\n\n        return redirect(url_for('list_cur'))\n\n    return render_template('voegtoe_cur.html', form=form)\n</code></pre> <p>Workflow:</p> <ol> <li>GET request: Toon leeg formulier</li> <li>POST request: Naam opslaan in database, redirect naar lijst</li> </ol>"},{"location":"week6/flask-views-deel5.html#cursisten-tonen","title":"Cursisten tonen","text":"<pre><code>@app.route('/list')\ndef list_cur() -&gt; str:\n    \"\"\"Toon alle cursisten.\n\n    Returns:\n        Template met lijst van cursisten\n    \"\"\"\n    cursisten = db.session.execute(db.select(Cursist)).scalars().all()\n    return render_template('toon_cur.html', cursisten=cursisten)\n</code></pre> <p>Haalt alle cursisten op en geeft ze door aan de template.</p>"},{"location":"week6/flask-views-deel5.html#cursist-verwijderen","title":"Cursist verwijderen","text":"<pre><code>@app.route('/delete', methods=['GET', 'POST'])\ndef del_cur() -&gt; str:\n    \"\"\"Verwijder cursist op basis van ID.\n\n    Returns:\n        Bij GET: formulier template\n        Bij POST: redirect naar cursisten lijst\n    \"\"\"\n    form = VerwijderForm()\n\n    if form.validate_on_submit():\n        id = form.id.data\n        cur = db.session.get(Cursist, id)\n        db.session.delete(cur)\n        db.session.commit()\n\n        return redirect(url_for('list_cur'))\n\n    return render_template('verwijder_cur.html', form=form)\n</code></pre> <p>Workflow:</p> <ol> <li>GET request: Toon leeg formulier</li> <li>POST request: Verwijder cursist op ID, redirect naar lijst</li> </ol>"},{"location":"week6/flask-views-deel5.html#stap-3-database-aanmaken-en-app-starten","title":"Stap 3: Database aanmaken en app starten","text":""},{"location":"week6/flask-views-deel5.html#database-initialisatie","title":"Database initialisatie","text":"<pre><code>if __name__ == '__main__':\n    with app.app_context():\n        db.create_all()\n    app.run(debug=True)\n</code></pre> <p>Flask application context</p> <p>In moderne SQLAlchemy (3.0+) moet <code>db.create_all()</code> binnen een application context draaien: </p><pre><code>with app.app_context():\n    db.create_all()\n</code></pre> Dit zorgt ervoor dat SQLAlchemy toegang heeft tot de Flask configuratie.<p></p>"},{"location":"week6/flask-views-deel5.html#stap-4-formulieren-definieren","title":"Stap 4: Formulieren defini\u00ebren","text":"<p><code>forms.py</code> - Bestudeer het volledige bestand <code>forms.py</code>.</p> <pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, IntegerField, SubmitField\n\nclass VoegtoeForm(FlaskForm):\n    \"\"\"Formulier voor nieuwe cursist.\"\"\"\n\n    naam = StringField('Vul de naam van de nieuwe cursist in:')\n    submit = SubmitField('Voeg toe')\n\n\nclass VerwijderForm(FlaskForm):\n    \"\"\"Formulier voor cursist verwijderen.\"\"\"\n\n    id = IntegerField('Vul het ID van de cursist die verwijderd gaat worden in:')\n    submit = SubmitField('Verwijder')\n</code></pre> <p>Twee eenvoudige formulieren:</p> <ul> <li>VoegtoeForm: Naam (text veld) + submit</li> <li>VerwijderForm: ID (nummer veld) + submit</li> </ul>"},{"location":"week6/flask-views-deel5.html#stap-5-templates-maken","title":"Stap 5: Templates maken","text":""},{"location":"week6/flask-views-deel5.html#basehtml-basis-template","title":"<code>base.html</code> - Basis template","text":"<p>Bestudeer het volledige bestand <code>base.html</code>.</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"nl\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n    &lt;title&gt;Beheer cursisten&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n        &lt;div class=\"container-fluid\"&gt;\n            &lt;div class=\"navbar-nav\"&gt;\n                &lt;a class=\"nav-link\" href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n                &lt;a class=\"nav-link\" href=\"{{ url_for('add_cur') }}\"&gt;Voeg cursist toe&lt;/a&gt;\n                &lt;a class=\"nav-link\" href=\"{{ url_for('list_cur') }}\"&gt;Toon cursisten&lt;/a&gt;\n                &lt;a class=\"nav-link\" href=\"{{ url_for('del_cur') }}\"&gt;Verwijder cursist&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/nav&gt;\n\n    &lt;div class=\"container mt-4\"&gt;\n        {% block content %}\n        {% endblock %}\n    &lt;/div&gt;\n\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Bootstrap 5 CDN links en navigatie balk. Alle andere templates extenden deze basis.</p>"},{"location":"week6/flask-views-deel5.html#homehtml","title":"<code>home.html</code>","text":"<p>Bestudeer het volledige bestand <code>home.html</code>.</p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"p-5 mb-4 bg-light rounded-3\"&gt;\n    &lt;div class=\"container-fluid py-5\"&gt;\n        &lt;h1 class=\"display-5 fw-bold\"&gt;Welkom bij de beheersite van onze cursisten&lt;/h1&gt;\n        &lt;p class=\"col-md-8 fs-4\"&gt;Om te beginnen, selecteer een item uit de navigatiebalk.&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Bootstrap 5 wijziging</p> <p><code>jumbotron</code> bestaat niet meer in Bootstrap 5. Gebruik <code>p-5 mb-4 bg-light rounded-3</code> voor hetzelfde effect.</p>"},{"location":"week6/flask-views-deel5.html#voegtoe_curhtml","title":"<code>voegtoe_cur.html</code>","text":"<p>Bestudeer het volledige bestand <code>voegtoe_cur.html</code>.</p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"p-5 mb-4 bg-light rounded-3\"&gt;\n    &lt;div class=\"container-fluid py-5\"&gt;\n        &lt;h1 class=\"display-5 fw-bold\"&gt;Heeft zich een nieuwe cursist aangemeld?&lt;/h1&gt;\n        &lt;p&gt;Vul de naam in en klik op Voeg toe:&lt;/p&gt;\n        &lt;form method=\"POST\"&gt;\n            {{ form.hidden_tag() }}\n            &lt;div class=\"mb-3\"&gt;\n                {{ form.naam.label(class=\"form-label\") }}\n                {{ form.naam(class=\"form-control\") }}\n            &lt;/div&gt;\n            {{ form.submit(class=\"btn btn-primary\") }}\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p><code>{{ form.hidden_tag() }}</code> voegt CSRF token toe (verplicht).</p>"},{"location":"week6/flask-views-deel5.html#toon_curhtml","title":"<code>toon_cur.html</code>","text":"<p>Bestudeer het volledige bestand <code>toon_cur.html</code>.</p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"p-5 mb-4 bg-light rounded-3\"&gt;\n    &lt;div class=\"container-fluid py-5\"&gt;\n        &lt;h1 class=\"display-5 fw-bold\"&gt;Dit zijn de momenteel ingeschreven cursisten&lt;/h1&gt;\n        &lt;ul class=\"list-group list-group-flush\"&gt;\n            {% for cur in cursisten %}\n            &lt;li class=\"list-group-item\"&gt;{{ cur }}&lt;/li&gt;\n            {% endfor %}\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Jinja2 <code>for</code> loop toont alle cursisten. De tekst komt uit de <code>__repr__()</code> methode.</p>"},{"location":"week6/flask-views-deel5.html#verwijder_curhtml","title":"<code>verwijder_cur.html</code>","text":"<p>Bestudeer het volledige bestand <code>verwijder_cur.html</code>.</p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"p-5 mb-4 bg-light rounded-3\"&gt;\n    &lt;div class=\"container-fluid py-5\"&gt;\n        &lt;h1 class=\"display-5 fw-bold\"&gt;Afmelding binnen gekomen?&lt;/h1&gt;\n        &lt;p&gt;Vul het ID van de cursist in en klik op Verwijder.&lt;/p&gt;\n        &lt;form method=\"POST\"&gt;\n            {{ form.hidden_tag() }}\n            &lt;div class=\"mb-3\"&gt;\n                {{ form.id.label(class=\"form-label\") }}\n                {{ form.id(class=\"form-control\") }}\n            &lt;/div&gt;\n            {{ form.submit(class=\"btn btn-danger\") }}\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre>"},{"location":"week6/flask-views-deel5.html#stap-6-testen","title":"Stap 6: Testen","text":"<p>Start de applicatie:</p> <pre><code>uv run python beheer_cursist.py\n</code></pre>"},{"location":"week6/flask-views-deel5.html#homepage","title":"Homepage","text":"<p>Verwacht resultaat: Een Bootstrap-pagina met een navigatiebalk bovenaan met links: Home, Voeg cursist toe, Toon cursisten, Verwijder cursist. De pagina toont een jumbotron-blok met de tekst \"Welkom bij de beheersite van onze cursisten\" en een instructie om een item uit de navigatiebalk te selecteren.</p>"},{"location":"week6/flask-views-deel5.html#cursist-toevoegen_1","title":"Cursist toevoegen","text":"<p>Klik \"Voeg cursist toe\":</p> <p>Verwacht resultaat: Een formulierpagina met de titel \"Heeft zich een nieuwe cursist aangemeld?\", een tekstveld met het label \"Vul de naam van de nieuwe cursist in:\" en een knop \"Voeg toe\".</p> <p>Vul \"Joyce\" in en klik \"Voeg toe\":</p> <p>Verwacht resultaat: Hetzelfde formulier als hierboven, maar nu met \"Joyce\" ingevuld in het naamveld.</p> <p>Na submit zie je de lijst:</p> <p>Verwacht resultaat: De cursistenpagina met de titel \"Dit zijn de momenteel ingeschreven cursisten\" en \u00e9\u00e9n item in de lijst: \"Naam van de cursist: Joyce\" (id=1).</p>"},{"location":"week6/flask-views-deel5.html#nog-een-cursist-toevoegen","title":"Nog een cursist toevoegen","text":"<p>Voeg \"Bram\" toe:</p> <p>Verwacht resultaat: Het toevoegformulier met \"Bram\" ingevuld in het naamveld.</p> <p>Lijst met twee cursisten:</p> <p>Verwacht resultaat: De cursistenpagina met twee items in de lijst: \"Naam van de cursist: Joyce\" en \"Naam van de cursist: Bram\".</p>"},{"location":"week6/flask-views-deel5.html#cursist-verwijderen_1","title":"Cursist verwijderen","text":"<p>Klik \"Verwijder cursist\". Bram heeft <code>id=2</code> (zie in database of lijst):</p> id naam 1 Joyce 2 Bram <p>Vul ID 2 in:</p> <p>Verwacht resultaat: De verwijderpagina met de titel \"Afmelding binnen gekomen?\" en een nummerveld met het label \"Vul het ID van de cursist in die verwijderd gaat worden\", met het getal \"2\" ingevuld.</p> <p>Na submit is Bram verwijderd:</p> <p>Verwacht resultaat: De cursistenpagina met nog maar \u00e9\u00e9n item in de lijst: \"Naam van de cursist: Joyce\". Bram is verwijderd.</p>"},{"location":"week6/flask-views-deel5.html#database-controleren","title":"Database controleren","text":"<p>Met DB Browser for SQLite:</p> id naam 1 Joyce <p>E\u00e9n cursist over - Joyce met ID 1.</p>"},{"location":"week6/flask-views-deel5.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt een complete CRUD webapp gemaakt:</p> <p>Backend (Flask + SQLAlchemy):</p> <ul> <li>Database setup met <code>db.Model</code></li> <li>Routes voor Create, Read, Delete</li> <li>Formulieren met Flask-WTF</li> </ul> <p>Frontend (Jinja2 + Bootstrap):</p> <ul> <li>Basis template met navigatie</li> <li>Formulier templates</li> <li>Lijst template met data uit database</li> </ul> <p>Database (SQLite):</p> <ul> <li>E\u00e9n tabel (<code>cursisten</code>)</li> <li>CRUD operaties via SQLAlchemy</li> </ul> <p>Volgende stap: Oefening 1 - Bouw je eigen beheersite.</p>"},{"location":"week6/bestanden/webshop/index.html","title":"Week 6: SQLAlchemy ORM - Webshop","text":""},{"location":"week6/bestanden/webshop/index.html#week-6-sqlalchemy-orm-webshop","title":"Week 6: SQLAlchemy ORM - Webshop","text":"<p>In deze week vervangen we raw SQL queries door SQLAlchemy ORM (Object-Relational Mapping). Dit maakt je code meer Pythonic, type-safe, en makkelijker te onderhouden.</p>"},{"location":"week6/bestanden/webshop/index.html#rode-draad-van-raw-sql-naar-orm","title":"Rode draad: Van Raw SQL naar ORM","text":"<p>We bouwen verder op dezelfde webshop uit Week 3-5, maar vervangen nu alle database operaties door ORM:</p> Week Aanpak Database Operaties Week 3-4 Raw SQL <code>cursor.execute(\"SELECT * FROM products WHERE id = ?\")</code> Week 5 Raw SQL + Forms <code>conn.execute(\"INSERT INTO products VALUES (?, ?, ?)\")</code> Week 6 SQLAlchemy ORM <code>db.get_or_404(Product, product_id)</code>"},{"location":"week6/bestanden/webshop/index.html#belangrijkste-concepten","title":"Belangrijkste Concepten","text":""},{"location":"week6/bestanden/webshop/index.html#1-orm-models-modelspy","title":"1. ORM Models (models.py)","text":"<p>In plaats van SQL tabellen defini\u00ebren we Python classes:</p> <pre><code>class Product(db.Model):\n    \"\"\"Model voor producten.\"\"\"\n    __tablename__ = 'products'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    name: Mapped[str] = mapped_column(String(200))\n    price: Mapped[float]\n    stock: Mapped[int] = mapped_column(default=0)\n\n    # Foreign Key relatie\n    category_id: Mapped[int] = mapped_column(ForeignKey('categories.id'))\n</code></pre> <p>Voordelen:</p> <ul> <li>Type hints en autocompletion in je IDE</li> <li>Automatische validatie</li> <li>Relaties worden objecten (geen JOIN queries nodig)</li> </ul>"},{"location":"week6/bestanden/webshop/index.html#2-database-relaties","title":"2. Database Relaties","text":""},{"location":"week6/bestanden/webshop/index.html#one-to-many-category-products","title":"One-to-Many: Category \u2192 Products","text":"<pre><code>class Category(db.Model):\n    # ...\n    products: Mapped[list['Product']] = relationship(back_populates='category')\n</code></pre> <p>Nu kun je eenvoudig:</p> <pre><code>category = db.session.get(Category, 1)\nfor product in category.products:  # Automatisch alle producten!\n    print(product.name)\n</code></pre> <p>Of andersom:</p> <pre><code>product = db.session.get(Product, 1)\nprint(product.category.name)  # Via backref!\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#many-to-many-order-products-via-orderitem","title":"Many-to-Many: Order \u2194 Products (via OrderItem)","text":"<pre><code>class Order(db.Model):\n    order_items: Mapped[list['OrderItem']] = relationship(back_populates='order', cascade='all, delete-orphan')\n\nclass OrderItem(db.Model):\n    order_id: Mapped[int | None] = mapped_column(ForeignKey('orders.id'))\n    product_id: Mapped[int | None] = mapped_column(ForeignKey('products.id'))\n    quantity: Mapped[int | None]\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#3-query-examples","title":"3. Query Examples","text":""},{"location":"week6/bestanden/webshop/index.html#week-3-5-raw-sql-vs-week-6-orm","title":"Week 3-5 (Raw SQL) vs Week 6 (ORM)","text":"<p>Alle producten ophalen:</p> <pre><code># Raw SQL (Week 3-5)\ncursor.execute(\"SELECT * FROM products\")\nproducts = cursor.fetchall()\n\n# ORM (Week 6)\nproducts = db.session.execute(db.select(Product)).scalars().all()\n</code></pre> <p>Product filteren op categorie:</p> <pre><code># Raw SQL\ncursor.execute(\"SELECT * FROM products WHERE category_id = ?\", (category_id,))\n\n# ORM\nproducts = db.session.execute(db.select(Product).filter_by(category_id=category_id)).scalars().all()\n</code></pre> <p>Product met JOIN:</p> <pre><code># Raw SQL\ncursor.execute(\"\"\"\n    SELECT p.*, c.name as category_name\n    FROM products p\n    JOIN categories c ON p.category_id = c.id\n    WHERE p.id = ?\n\"\"\", (product_id,))\n\n# ORM - JOIN gebeurt automatisch via relationship!\nproduct = db.session.get(Product, product_id)\nprint(product.category.name)  # Automatisch!\n</code></pre> <p>Product toevoegen:</p> <pre><code># Raw SQL\ncursor.execute(\n    \"INSERT INTO products (name, price, stock, category_id) VALUES (?, ?, ?, ?)\",\n    (name, price, stock, category_id)\n)\nconn.commit()\n\n# ORM\nnew_product = Product(name=name, price=price, stock=stock, category_id=category_id)\ndb.session.add(new_product)\ndb.session.commit()\n</code></pre> <p>Product updaten:</p> <pre><code># Raw SQL\ncursor.execute(\n    \"UPDATE products SET name = ?, price = ? WHERE id = ?\",\n    (new_name, new_price, product_id)\n)\n\n# ORM\nproduct = db.session.get(Product, product_id)\nproduct.name = new_name\nproduct.price = new_price\ndb.session.commit()  # Automatisch UPDATE!\n</code></pre> <p>Product verwijderen:</p> <pre><code># Raw SQL\ncursor.execute(\"DELETE FROM products WHERE id = ?\", (product_id,))\n\n# ORM\nproduct = db.session.get(Product, product_id)\ndb.session.delete(product)\ndb.session.commit()\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#4-model-properties","title":"4. Model Properties","text":"<p>Je kunt custom properties toevoegen aan models:</p> <pre><code>class Product(db.Model):\n    # ...columns...\n\n    @property\n    def in_stock(self) -&gt; bool:\n        \"\"\"Check of product op voorraad is.\"\"\"\n        return self.stock &gt; 0\n\n    @property\n    def formatted_price(self) -&gt; str:\n        \"\"\"Formatteer prijs als euro bedrag.\"\"\"\n        return f\"\u20ac{self.price:.2f}\"\n</code></pre> <p>Gebruik in templates:</p> <pre><code>{% if product.in_stock %}\n    &lt;span class=\"badge bg-success\"&gt;Op voorraad&lt;/span&gt;\n{% endif %}\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#5-cascade-delete","title":"5. Cascade Delete","text":"<p>Als je een Order verwijdert, verwijder je automatisch alle OrderItems:</p> <pre><code>class Order(db.Model):\n    order_items: Mapped[list['OrderItem']] = relationship(\n        back_populates='order',\n        cascade='all, delete-orphan'\n    )\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#bestanden-structuur","title":"Bestanden Structuur","text":"<pre><code>webshop/\n\u251c\u2500\u2500 app.py                  # Flask app met ORM queries\n\u251c\u2500\u2500 models.py               # SQLAlchemy model definities\n\u251c\u2500\u2500 forms.py                # WTForms (hergebruikt van Week 5)\n\u251c\u2500\u2500 migrate_database.py     # Migratie script van Week 3 \u2192 Week 6\n\u251c\u2500\u2500 templates/\n\u2502   \u251c\u2500\u2500 base.html\n\u2502   \u251c\u2500\u2500 index.html\n\u2502   \u251c\u2500\u2500 category.html\n\u2502   \u251c\u2500\u2500 product.html\n\u2502   \u251c\u2500\u2500 admin_products.html\n\u2502   \u251c\u2500\u2500 add_product.html\n\u2502   \u251c\u2500\u2500 edit_product.html\n\u2502   \u251c\u2500\u2500 contact.html\n\u2502   \u2514\u2500\u2500 404.html\n\u2514\u2500\u2500 webshop.db              # SQLite database (gegenereerd)\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#installatie","title":"Installatie","text":"<ol> <li>Installeer dependencies:</li> </ol> <pre><code>pip install flask flask-sqlalchemy flask-wtf\n</code></pre> <ol> <li>Migreer data van Week 3 database:</li> </ol> <pre><code>python migrate_database.py\n</code></pre> <p>Dit script:    - Maakt nieuwe <code>webshop.db</code> aan met ORM schema    - Kopieert alle categorie\u00ebn en producten van Week 3    - Behoudt originele IDs</p> <ol> <li>Start de applicatie:</li> </ol> <pre><code>python app.py\n</code></pre> <ol> <li>Open in browser:</li> </ol> <pre><code>http://127.0.0.1:5000\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#waarom-orm","title":"Waarom ORM?","text":""},{"location":"week6/bestanden/webshop/index.html#voordelen","title":"Voordelen","text":"<ol> <li>Pythonic Code</li> </ol> <pre><code># ORM is veel leesbaarder\nexpensive_products = db.session.execute(db.select(Product).filter(Product.price &gt; 100)).scalars().all()\n\n# vs Raw SQL strings\ncursor.execute(\"SELECT * FROM products WHERE price &gt; 100\")\n</code></pre> <ol> <li>Type Safety</li> </ol> <pre><code>product = db.session.get(Product, 1)\nproduct.name  # IDE weet dat dit een string is!\n</code></pre> <ol> <li>Geen SQL Injection risico</li> </ol> <pre><code># ORM escaped automatisch\ndb.session.execute(db.select(Product).filter_by(name=user_input)).scalar_one_or_none()\n</code></pre> <ol> <li>Databaseonafhankelijk</li> <li>Wissel makkelijk van SQLite \u2192 PostgreSQL \u2192 MySQL</li> <li> <p>Zelfde Python code blijft werken</p> </li> <li> <p>Automatische Relaties</p> </li> </ol> <pre><code># Geen JOIN queries schrijven\nproduct.category.name  # Werkt automatisch!\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#nadelen","title":"Nadelen","text":"<ol> <li>Leercurve - Je moet ORM concepten leren</li> <li>Performance - Complexe queries zijn soms langzamer</li> <li>N+1 probleem - Let op met lazy loading</li> <li>Verborgen complexiteit - ORM doet veel achter de schermen</li> </ol>"},{"location":"week6/bestanden/webshop/index.html#vergelijking-database-operaties","title":"Vergelijking Database Operaties","text":"Operatie Raw SQL (Week 3-5) ORM (Week 6) SELECT <code>cursor.execute(\"SELECT ...\")</code> <code>db.session.execute(db.select(Model)).scalars().all()</code> INSERT <code>cursor.execute(\"INSERT ...\")</code> + <code>commit()</code> <code>db.session.add()</code> + <code>commit()</code> UPDATE <code>cursor.execute(\"UPDATE ...\")</code> <code>model.field = value</code> + <code>commit()</code> DELETE <code>cursor.execute(\"DELETE ...\")</code> <code>db.session.delete()</code> + <code>commit()</code> JOIN <code>SELECT * FROM a JOIN b ON ...</code> <code>model.relationship_name</code> Filter <code>WHERE column = ?</code> <code>.filter_by(column=value)</code> Count <code>SELECT COUNT(*) FROM ...</code> <code>db.session.execute(db.select(func.count()).select_from(Model)).scalar()</code>"},{"location":"week6/bestanden/webshop/index.html#flask-sqlalchemy-query-api","title":"Flask-SQLAlchemy Query API","text":"<p>Belangrijkste query methodes:</p> <pre><code># Alle records ophalen\ndb.session.execute(db.select(Product)).scalars().all()\n\n# Eerste record ophalen\ndb.session.execute(db.select(Product)).scalar_one_or_none()\n\n# Record op primary key (of 404)\ndb.get_or_404(Product, product_id)\n\n# Filteren\ndb.session.execute(db.select(Product).filter_by(category_id=1)).scalars().all()\ndb.session.execute(db.select(Product).filter(Product.price &gt; 50)).scalars().all()\n\n# Sorteren\ndb.session.execute(db.select(Product).order_by(Product.name)).scalars().all()\ndb.session.execute(db.select(Product).order_by(Product.price.desc())).scalars().all()\n\n# Limiet\ndb.session.execute(db.select(Product).limit(10)).scalars().all()\n\n# Tellen\ndb.session.execute(db.select(func.count()).select_from(Product)).scalar()\n\n# Combineren\ndb.session.execute(db.select(Product).filter_by(category_id=1).order_by(Product.price).limit(5)).scalars().all()\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#database-migratie","title":"Database Migratie","text":"<p>Het <code>migrate_database.py</code> script laat zien hoe je data kunt migreren:</p> <pre><code># Open oude database\nsource_conn = sqlite3.connect(\"../../../week3/bestanden/webshop.sqlite\")\n\n# Lees categorie\u00ebn\ncursor.execute(\"SELECT * FROM categories\")\nfor row in cursor.fetchall():\n    # Maak ORM object\n    category = Category(\n        name=row['name'],\n        description=row['description']\n    )\n    db.session.add(category)\n\ndb.session.commit()\n</code></pre> <p>Let op: IDs worden bewaard met <code>category.id = row['id']</code> zodat foreign keys blijven werken!</p>"},{"location":"week6/bestanden/webshop/index.html#next-steps-week-7","title":"Next Steps: Week 7","text":"<p>In Week 7 bouwen we verder op deze ORM foundation:</p>"},{"location":"week6/bestanden/webshop/index.html#week-7a-user-authentication","title":"Week 7a: User Authentication","text":"<ul> <li>Customer login systeem</li> <li>Flask-Login integratie</li> <li>Password hashing met werkzeug</li> <li>Admin vs Customer rechten</li> </ul>"},{"location":"week6/bestanden/webshop/index.html#week-7b-blueprints","title":"Week 7b: Blueprints","text":"<ul> <li>Modulariseer de applicatie</li> <li><code>products/</code> blueprint voor catalog</li> <li><code>orders/</code> blueprint voor winkelwagen</li> <li><code>admin/</code> blueprint voor beheer</li> <li><code>auth/</code> blueprint voor login</li> </ul>"},{"location":"week6/bestanden/webshop/index.html#tips-best-practices","title":"Tips &amp; Best Practices","text":"<ol> <li>Gebruik altijd <code>with app.app_context()</code> bij database operaties buiten routes</li> </ol> <pre><code>with app.app_context():\n    db.create_all()\n</code></pre> <ol> <li>Commit na wijzigingen</li> </ol> <pre><code>product.name = \"Nieuwe naam\"\ndb.session.commit()  # Vergeet dit niet!\n</code></pre> <ol> <li>Gebruik <code>get_or_404()</code> in routes</li> </ol> <pre><code>product = db.get_or_404(Product, product_id)  # Automatic 404!\n</code></pre> <ol> <li>Lazy loading vs Eager loading</li> </ol> <pre><code># Lazy (standaard) - query per product.category\nproducts = db.session.execute(db.select(Product)).scalars().all()\nfor p in products:\n    print(p.category.name)  # N+1 queries!\n\n# Eager - 1 query met JOIN\nproducts = db.session.execute(db.select(Product).options(joinedload(Product.category))).scalars().all()\nfor p in products:\n    print(p.category.name)  # Efficient!\n</code></pre> <ol> <li>Gebruik <code>__repr__</code> voor debugging</li> </ol> <pre><code>def __repr__(self) -&gt; str:\n    return f\"&lt;Product {self.id}: {self.name}&gt;\"\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#veelvoorkomende-fouten","title":"Veelvoorkomende Fouten","text":"<ol> <li>Vergeten te committen</li> </ol> <pre><code>product = Product(name=\"Test\")\ndb.session.add(product)\n# Vergeet db.session.commit() niet!\n</code></pre> <ol> <li>Fout relationship defini\u00ebren</li> </ol> <pre><code># Fout: string moet exact matchen met class naam\nproducts = db.relationship('Producten', ...)\n\n# Correct\nproducts = db.relationship('Product', ...)\n</code></pre> <ol> <li>N+1 probleem</li> </ol> <pre><code># Slecht - 1 query voor categories + N queries voor products\nfor category in db.session.execute(db.select(Category)).scalars().all():\n    print(len(category.products))\n\n# Beter - gebruik eager loading of custom query\ncategories = db.session.execute(db.select(Category).options(joinedload(Category.products))).scalars().all()\n</code></pre>"},{"location":"week6/bestanden/webshop/index.html#opdrachten","title":"Opdrachten","text":"<ol> <li>Analyse de models.py - Begrijp alle relaties en properties</li> <li>Vergelijk queries - Open Week 5 database.py en Week 6 app.py naast elkaar</li> <li>Run de migratie - Voer <code>migrate_database.py</code> uit en bekijk de output</li> <li>Test CRUD operaties - Voeg producten toe, wijzig ze, verwijder ze</li> <li>Experimenteer met queries - Probeer filters, ordering, limiting</li> </ol>"},{"location":"week6/bestanden/webshop/index.html#resources","title":"Resources","text":"<ul> <li>Flask-SQLAlchemy Documentatie</li> <li>SQLAlchemy ORM Tutorial</li> <li>Flask-WTF + SQLAlchemy</li> </ul>"},{"location":"week6/oefeningen/flask-views-oefening1.html","title":"Flask en SQLAlchemy - Oefening 1: Mentor Platform","text":""},{"location":"week6/oefeningen/flask-views-oefening1.html#flask-en-sqlalchemy-oefening-1-mentor-platform","title":"Flask en SQLAlchemy - Oefening 1: Mentor Platform","text":"<p>Je bouwt een platform voor de Hanzehogeschool waar studenten aan mentoren gekoppeld worden. Je combineert:</p> <ul> <li>Database relaties (\u00e9\u00e9n-op-veel)</li> <li>Complete Flask website (routes, forms, templates)</li> </ul>"},{"location":"week6/oefeningen/flask-views-oefening1.html#opdracht","title":"Opdracht","text":"<p>Maak een beheersysteem waarin docenten en studenten toegevoegd en verwijderd kunnen worden, en waar de mentor-relaties zichtbaar zijn.</p> <p>Verwacht resultaat: Een homepage met Bootstrap navigatiebalk bovenaan met links naar alle secties (Home, Voeg docent toe, Voeg student toe, Toon overzicht, Verwijder). De pagina toont een welkomsttekst met een uitnodiging om een item uit de navigatiebalk te selecteren.</p>"},{"location":"week6/oefeningen/flask-views-oefening1.html#requirements","title":"Requirements","text":""},{"location":"week6/oefeningen/flask-views-oefening1.html#database-structuur","title":"Database structuur","text":"<p>Twee modellen met een relatie:</p> <p>Docent:</p> <ul> <li><code>id</code> (primary key)</li> <li><code>naam</code></li> </ul> <p>Student:</p> <ul> <li><code>id</code> (primary key)</li> <li><code>naam</code></li> <li><code>mentor_id</code> (foreign key naar Docent)</li> </ul> <p>Relatie: E\u00e9n docent kan mentor zijn van meerdere studenten (\u00e9\u00e9n-op-veel).</p>"},{"location":"week6/oefeningen/flask-views-oefening1.html#functionaliteit","title":"Functionaliteit","text":"<p>De website moet deze acties ondersteunen:</p> <ol> <li>Docent toevoegen - Formulier met naam</li> <li>Student toevoegen - Formulier met naam + docent ID</li> <li>Overzicht tonen - Lijst van studenten met hun mentor</li> <li>Docent verwijderen - Formulier met ID</li> <li>Student verwijderen - Formulier met ID</li> </ol> <p>Flash messages</p> <p>Toon een flash message na elke toevoeging (bijvoorbeeld: \"Student toegevoegd!\").</p>"},{"location":"week6/oefeningen/flask-views-oefening1.html#navigatie","title":"Navigatie","text":"<p>Navigatiebalk met vijf links:</p> <ul> <li>Home</li> <li>Voeg docent toe</li> <li>Voeg student toe</li> <li>Toon overzicht</li> <li>Verwijder (docent of student)</li> </ul>"},{"location":"week6/oefeningen/flask-views-oefening1.html#bestandsstructuur","title":"Bestandsstructuur","text":"<p>Maak deze bestanden:</p> <p>Python:</p> <ul> <li><code>mentor_site.py</code> - Hoofd applicatie</li> <li><code>forms.py</code> - Drie formulieren</li> </ul> <p>Templates:</p> <ul> <li><code>base.html</code> - Basis template met navigatie</li> <li><code>home.html</code> - Homepage</li> <li><code>voeg_docent_toe.html</code></li> <li><code>voeg_student_toe.html</code></li> <li><code>overzicht.html</code> - Studenten met mentor</li> <li><code>verwijder.html</code> (of twee aparte templates)</li> </ul>"},{"location":"week6/oefeningen/flask-views-oefening1.html#hints","title":"Hints","text":""},{"location":"week6/oefeningen/flask-views-oefening1.html#models","title":"Models","text":"<pre><code>from sqlalchemy.orm import Mapped, mapped_column, relationship\nfrom sqlalchemy import ForeignKey\n\nclass Docent(db.Model):\n    __tablename__ = 'docenten'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n\n    # Relatie naar studenten\n    studenten: Mapped[list['Student']] = relationship(back_populates='mentor')\n</code></pre> <p>De <code>back_populates='mentor'</code> koppelt aan <code>mentor: Mapped['Docent | None'] = relationship(back_populates='studenten')</code> in het <code>Student</code> model. Via <code>student.mentor</code> krijg je het Docent object.</p>"},{"location":"week6/oefeningen/flask-views-oefening1.html#student-formulier","title":"Student formulier","text":"<p>Voor het student formulier heb je een <code>IntegerField</code> nodig voor de mentor ID:</p> <pre><code>from wtforms import StringField, IntegerField, SubmitField\n\nclass VoegStudentToeForm(FlaskForm):\n    naam = StringField('Naam student:')\n    mentor_id = IntegerField('ID van mentor:')\n    submit = SubmitField('Voeg toe')\n</code></pre>"},{"location":"week6/oefeningen/flask-views-oefening1.html#flash-messages","title":"Flash messages","text":"<p>In je route:</p> <pre><code>from flask import flash\n\nif form.validate_on_submit():\n    # ... voeg student toe ...\n    flash('Student toegevoegd!')\n    return redirect(url_for('overzicht'))\n</code></pre> <p>In <code>base.html</code> (na navigatie):</p> <pre><code>&lt;div class=\"container mt-4\"&gt;\n    {% with messages = get_flashed_messages() %}\n        {% if messages %}\n            {% for message in messages %}\n                &lt;div class=\"alert alert-success\"&gt;{{ message }}&lt;/div&gt;\n            {% endfor %}\n        {% endif %}\n    {% endwith %}\n\n    {% block content %}\n    {% endblock %}\n&lt;/div&gt;\n</code></pre>"},{"location":"week6/oefeningen/flask-views-oefening1.html#overzicht-template","title":"Overzicht template","text":"<p>Gebruik een for-loop om alle studenten te tonen met hun mentor:</p> <pre><code>&lt;ul class=\"list-group\"&gt;\n    {% for student in studenten %}\n        &lt;li class=\"list-group-item\"&gt;\n            {{ student.naam }} - Mentor: {{ student.mentor.naam }}\n        &lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"week6/oefeningen/flask-views-oefening1.html#aandachtspunten","title":"Aandachtspunten","text":"<ul> <li>Naamgeving: Let op typo's in variabelen en template namen</li> <li>Foreign keys: Gebruik <code>ForeignKey('docenten.id')</code> (tabelnaam, niet class naam)</li> <li>back_populates: Via <code>student.mentor</code> krijg je het Docent object</li> <li>Bootstrap 5: Gebruik moderne Bootstrap classes</li> </ul>"},{"location":"week6/oefeningen/flask-views-oefening1.html#uitbreidingen-optioneel","title":"Uitbreidingen (optioneel)","text":"<ol> <li>Validatie: Check of mentor ID bestaat voordat je student toevoegt</li> <li>Edit functie: Wijs student aan andere mentor toe</li> <li>Docent overzicht: Toon per docent alle studenten</li> <li>Error handling: Wat als je een non-existent ID probeert te verwijderen?</li> </ol>"},{"location":"week6/oefeningen/flask-views-oefening1.html#test-je-applicatie","title":"Test je applicatie","text":"<ol> <li>Start met een lege database</li> <li>Voeg twee docenten toe (krijgen ID 1 en 2)</li> <li>Voeg drie studenten toe met verschillende mentoren</li> <li>Check overzicht - zie je de juiste mentor per student?</li> <li>Verwijder een student</li> <li>Check of de database klopt met DB Browser</li> </ol> <p>Veel succes!</p>"},{"location":"week7a/user-authentication-deel1.html","title":"User authentication - Hashing","text":""},{"location":"week7a/user-authentication-deel1.html#user-authentication-hashing","title":"User authentication - Hashing","text":""},{"location":"week7a/user-authentication-deel1.html#inleiding","title":"Inleiding","text":"<p>De titel van dit deel is User Authentication. Gelijk weer een omschrijving in het Engels... Vertaald naar normaal Nederlands levert dat het begrip gebruikersauthenticatie op. Hiermee wordt bedoeld dat voordat een gebruiker toegang wordt verleend op een aanvraag er een procedure wordt opgestart om te bepalen of het een rechtmatige aanvraag betreft.</p> <p>Kortweg, het draait om het inloggen.</p> <p>Tot nu toe heeft iedereen toegang tot elke pagina van de ontwikkelde webapplicaties. Vaak is het wenselijk de toegang te beperken tot alleen geregistreerde gebruikers. Het gaat in dit deel om de autorisatie en authenticatie van de gebruikers.</p> <p>De onderwerpen die we gaan behandelen zijn:</p> <ul> <li>Password hashing</li> <li>De <code>Flask-Login</code> library</li> </ul>"},{"location":"week7a/user-authentication-deel1.html#password-hashing","title":"Password hashing","text":"<p>Als een website gebruikersverificatie kent, zijn wachtwoorden en gebruikersnamen opgeslagen in een database. Om veiligheidsredenen zal nooit de letterlijke inhoud van het wachtwoord worden opgeslagen. Dat zou te gemakkelijk te achterhalen zijn voor hackers, en bovendien is het niet netjes wanneer een database-administrator gewoon beschikking zou hebben over wachtwoorden.</p> <p>Een hashfunctie brengt hierbij uitkomst. Het is een algoritme dat een wachtwoord kan omtoveren naar een veilig alternatief. En met veilig wordt bedoeld dat een buitenstaander uit de hash niet kan achterhalen wat het originele wachtwoord is.</p> <p>In de praktijk werkt dat als volgt: als een gebruiker een wachtwoord invoert, kan dit eenvoudig vergeleken worden met de opgeslagen hash. De hash is het enige wat opgeslagen wordt, en het is niet mogelijk (of in ieder geval erg moeilijk) om het wachtwoord te reconstrueren op basis van die hash.</p> <p>Voor het werken met die hashes kan uit een tweetal beschikbare bibliotheken gekozen worden:</p> <ul> <li><code>Bcrypt</code></li> <li><code>Werkzeug</code></li> </ul> <p>Beiden kunnen zeer goed gebruikt worden in een Flask-applicatie om te kunnen achterhalen of er een juist wachtwoord is ingevoerd. Van beide pakketten wordt een voorbeeld gegeven hoe het gebruikt kan worden.</p> <p><code>Bcrypt</code> en <code>Werkzeug</code> komen vaak mee als <code>Flask</code> ge\u00efnstalleerd wordt. Is dat niet het geval kunnen de pakketten op de bekende wijze opgehaald worden.</p>"},{"location":"week7a/user-authentication-deel1.html#bcrypt","title":"Bcrypt","text":"<p>Is Bcrypt aanwezig, is de eerste actie het importeren ervan. Daarna maken we een object aan van het type <code>BCrypt()</code> en gebruiken dat object om het wachtwoord te hashen:</p> <pre><code>In [1]: from flask_bcrypt import Bcrypt\n\nIn [2]: bcrypt = Bcrypt()\n\nIn [3]: hashed_pass = bcrypt.generate_password_hash('supergeheimwachtwoord')\n</code></pre> <p>Het wachtwoord wordt gehashed en bewaard in de variabele <code>hashed_pass</code>. Nadat het geprint is, is het echt niet meer te herleiden naar het origineel:</p> <pre><code>In [4]: print(hashed_pass)\nb'$2b$12$rFOT5/VUiUpjODpcCn/0UONrhkQ2h224c7Srz3jk2qJOAUw2.xvyG'\n</code></pre> <p>Wordt het runnen herhaald, verschijnt er een andere hash.</p> <p>Uiteraard nu weer een test naar de werking.</p> <pre><code>In [5]: bcrypt.check_password_hash(hashed_pass, 'verkeerdwachtwoord')\nOut[5]: False\n\nIn [6]: bcrypt.check_password_hash(hashed_pass, 'supergeheimwachtwoord')\nOut[6]: True\n</code></pre> <p>Precies in de lijn der verwachting.</p>"},{"location":"week7a/user-authentication-deel1.html#werkzeug","title":"Werkzeug","text":"<p>Je kunt hetzelfde bereiken met Werkzeug, waarbij de syntax en de check zelfs nog iets simpeler is:</p> <pre><code>In [1]: from werkzeug.security import generate_password_hash,check_password_hash\n\nIn [2]: hashed_pass = generate_password_hash('supergeheimwachtwoord')\n\nIn [3]: print (hashed_pass)\npbkdf2:sha256:150000$hUiH149n$af71be7ff46588f9c5d93b4ec9f46ef1a64801d02434ee2057ca81b8bb2939cb\n\nIn [4]: check_password_hash(hashed_pass,'verkeerdwachtwoord')\nOut[4]: False\n\nIn [5]: check_password_hash(hashed_pass,'supergeheimwachtwoord')\nOut[5]: True\n</code></pre> <p>Het verschil tussen beiden is dat bij Werkzeug exact de juiste methoden binnengehaald worden en bij Bcrypt moet er soms een beetje over nagedacht worden. De keuze tussen deze pakketten is vrij arbitrair en ligt een beetje aan de voorkeuren van de ontwikkelaar.</p>"},{"location":"week7a/user-authentication-deel1.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Authenticatie: het proces van het controleren of een gebruiker rechtmatig toegang heeft tot een webapplicatie, in de volksmond het inloggen</li> <li>Wachtwoord hashing: een hashfunctie zet een wachtwoord om naar een onleesbare reeks tekens die niet terug te leiden is naar het origineel</li> <li>Opslag van hashes: de database bewaart uitsluitend de gehashte versie van een wachtwoord, nooit de plain-text variant</li> <li>Wachtwoord verificatie: bij het inloggen wordt het ingevoerde wachtwoord vergeleken met de opgeslagen hash via een controlemethode, zonder het origineel te hoeven kennen</li> <li>Bcrypt: een bibliotheek die <code>generate_password_hash()</code> en <code>check_password_hash()</code> aanbiedt voor het hashen en controleren van wachtwoorden</li> <li>Werkzeug: een alternatieve bibliotheek met een iets eenvoudigere importstructuur voor hetzelfde doel</li> <li>Herhaalbaarheid: elke aanroep van de hashfunctie levert een andere hash op voor hetzelfde wachtwoord, wat de beveiliging verder versterkt</li> </ul>"},{"location":"week7a/user-authentication-deel2.html","title":"User authentication - Flask_login deel I","text":""},{"location":"week7a/user-authentication-deel2.html#user-authentication-flask_login-deel-i","title":"User authentication - Flask_login deel I","text":"<p>De <code>Flask-login</code> bibliotheek maakt het heel eenvoudig om gebruikersauthenticatie toe te voegen aan webapplicaties. Deze bibliotheek heeft tevens de beschikking over gemakkelijk op te vragen decorators, waarmee extra gebruikersfunctionaliteit toegevoegd kan worden.</p> <p>De structuur van de inlogprocedure heeft de volgende vorm:</p> <pre><code>.\n\u251c\u2500\u2500 app.py\n\u2514\u2500\u2500 mijnproject\n    \u251c\u2500\u2500 forms.py\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 models.py\n    \u2514\u2500\u2500 templates\n        \u251c\u2500\u2500 base.html\n        \u251c\u2500\u2500 home.html\n        \u251c\u2500\u2500 login.html\n        \u251c\u2500\u2500 register.html\n        \u2514\u2500\u2500 welkom.html\n</code></pre> <p>Dit zijn alle files die nodig zijn bij dit project, met de naam <code>mijnproject</code>; download hier de bestanden. Technisch gezien is de applicatie te klein om uit te kunnen splitsen in aparte onderdelen, zoals in het vorige deel beschreven is. Maar dezelfde opzet is wel aangehouden.</p>"},{"location":"week7a/user-authentication-deel2.html#__init__py","title":"<code>__init__.py</code>","text":"<p>De eerste actie is weer het importeren van de benodigde items:</p> <pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\n</code></pre> <p>De onderste coderegel is nieuw. Waarschijnlijk zul je deze module separaat installeren door middel van <code>pip</code>.</p> <p><code>Flask-login</code> biedt gebruikerssessiebeheer voor <code>Flask</code>. Het voert de algemene taken uit van inloggen, uitloggen en het onthouden van de sessies van de gebruikers gedurende langere perioden. Hieronder staat een opsomming.</p> <ul> <li>De ID van de actieve gebruiker wordt opgeslagen in de sessie, zodat het gemakkelijker is de gebruiker aan en af te melden.</li> <li>Het laten zien van de views kan beperkt worden tot ingelogde (of uitgelogde) gebruikers.</li> <li>Het zorgt voor een handige \u201cRemember me\"-functionaliteit.</li> <li>Het helpt mee de sessiegegevens van de gebruikers te beschermen tegen diefstal door cookiedieven.</li> </ul> <p>Er zijn ook een aantal zaken die niet geregeld worden door de <code>Loginmanager</code>, maar daar wordt een oplossing voor geregeld tijdens het coderen.</p> <p>Zie de onderstaande code-listing voor een uitgewerkt voorbeeld:</p> <pre><code>app = Flask(__name__)\n\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\nbasedir = os.path.abspath(os.path.dirname(__file__))\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\n\nlogin_manager = LoginManager()\nlogin_manager.init_app(app)\nlogin_manager.login_view = \"login\"\n</code></pre> <p>De tweede gearceerde coderegel zorgt ervoor dat de app bekend is bij de <code>login_manager</code> en met de laatste regel wordt de plek doorgegeven waar gebruikers kunnen inloggen.</p>"},{"location":"week7a/user-authentication-deel2.html#modelspy","title":"<code>models.py</code>","text":"<p>Vervolgens weer de coderegels waarmee de benodigde items ge\u00efmporteerd worden. Ook hier is een nieuw item aanwezig. Verder is de keuze voor hashing gevallen op <code>Werkzeug</code>.</p> <pre><code>from mijnproject import db, login_manager\nfrom werkzeug.security import generate_password_hash,check_password_hash\nfrom flask_login import UserMixin\n</code></pre> <p>In de eerste coderegel wordt vastgelegd dat uit <code>__init__.py</code>, <code>db</code> en <code>login_manager</code> nodig zijn voor een juiste werking. De tweede regel is bekend en de derde coderegel zorgt voor enige luxe. <code>UserMixin</code> wordt als superklasse gebruikt en dat betekent dat er toegang verkregen wordt tot veel ingebouwde functies. Het is dan niet meer nodig als ontwikkelaar deze zelf aan te maken. Ze kunnen gewoon aangeroepen worden.</p> <p>Bijvoorbeeld:</p> <ul> <li><code>is_authenticated()</code></li> <li><code>is active()</code></li> <li><code>is_anonymous()</code></li> <li><code>get_id()</code></li> </ul> <p>Nu kan de gebruikersklasse aangemaakt worden. De naam van de klasse wordt <code>User</code>, dat is hier een gangbaardere term dan <code>Gebruiker</code>. Voor iedere gebruiker wordt het ID, de gebruikersnaam, een wachtwoord en het e-mailadres vastgelegd.</p> <p>De klasse <code>User()</code> erft eigenschappen van <code>dbModel</code> en <code>UserMixin</code>:</p> <pre><code>from sqlalchemy.orm import Mapped, mapped_column\nfrom sqlalchemy import String\n\nclass User(db.Model, UserMixin):\n    \"\"\"User model voor authenticatie.\n\n    Erft van db.Model voor database functionaliteit en UserMixin voor\n    ingebouwde Flask-Login methoden zoals is_authenticated(), is_active(),\n    is_anonymous(), en get_id().\n    \"\"\"\n    __tablename__ = 'users'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    email: Mapped[str] = mapped_column(String(64), unique=True, index=True)\n    username: Mapped[str] = mapped_column(String(64), unique=True, index=True)\n    password_hash: Mapped[str | None] = mapped_column(String(128))\n</code></pre> <p>Achter de variabelen <code>email</code>, <code>username</code> en <code>password_hash</code> staat een getal genoteerd (64 of 128). Dat betreft het aantal posities dat voor die variabele beschikbaar is. Verder hebben <code>email</code> en <code>username</code> het kenmerk <code>unique</code> meegekregen. Op de primary key wordt automatisch gecontroleerd dat er geen dubbele waarden van voorkomen, maar het e-mailadres en de gebruikersnaam mogen natuurlijk ook maar \u00e9\u00e9n keer voorkomen in de database met inloggegevens.</p> <p>Nu is het weer de beurt aan <code>__init__()</code>. De volgorde waarin de coderegels worden opgenomen in de diverse bestanden heeft steeds eenzelfde stramien.</p> <pre><code>def __init__(self, email: str, username: str, password: str) -&gt; None:\n    \"\"\"Initialiseer een nieuwe gebruiker.\n\n    Args:\n        email: Het e-mailadres van de gebruiker\n        username: De unieke gebruikersnaam\n        password: Het wachtwoord in plain text (wordt automatisch gehashed)\n    \"\"\"\n    self.email = email\n    self.username = username\n    self.password_hash = generate_password_hash(password)\n</code></pre> <p>Voor iedere nieuwe gebruiker wordt gevraagd om een gebruikersnaam, een e-mailadres en een wachtwoord. Van het opgegeven wachtwoord wordt onmiddellijk een hash-versie geproduceerd.</p> <p>Verder is er nog een methode nodig die gaat controleren of het ingevoerde wachtwoord het juiste is. In de vorige paragraaf is deze methode uitgebreid besproken:</p> <pre><code>def check_password(self, password: str) -&gt; bool:\n    \"\"\"Controleer of het opgegeven wachtwoord correct is.\n\n    Args:\n        password: Het te verifi\u00ebren wachtwoord in plain text\n\n    Returns:\n        True als het wachtwoord overeenkomt, anders False\n    \"\"\"\n    return check_password_hash(self.password_hash, password)\n</code></pre> <p>Er wordt gecontroleerd of het opgegeven password voldoet aan de hash-versie. Er wordt <code>True</code> of <code>False</code> als uitkomst geretourneerd.</p> <p>Als laatste nog een nieuwe vereiste methode. Deze nieuwe functie <code>load_user()</code> wordt in de code opgenomen net voor het defini\u00ebren van de klasse <code>User()</code>:</p> <pre><code>@login_manager.user_loader\ndef load_user(user_id: int) -&gt; User | None:\n    \"\"\"Laad een gebruiker op basis van het user ID.\n\n    Deze functie wordt gebruikt door Flask-Login om de huidige gebruiker\n    te laden uit de sessie.\n\n    Args:\n        user_id: Het ID van de gebruiker om te laden\n\n    Returns:\n        De User instantie als gevonden, anders None\n    \"\"\"\n    return db.session.get(User, int(user_id))\n</code></pre> <p>De <code>user_loader</code> decorator geeft <code>Flask-login</code> toestemming om de gegevens van de huidige gebruiker te laden en het bijbehorende ID te gebruiken. Daarmee kan de gebruiker pagina\u2019s bekijken die bij zijn profiel horen, zoals onder andere het beheren van de eigen gegevens en eigen blogberichten. En na een succesvolle aanmelding kan de naam van de gebruiker aan een welkomstwoord gekoppeld worden.</p>"},{"location":"week7a/user-authentication-deel2.html#formspy","title":"<code>forms.py</code>","text":"<p>In dit bestand worden de formulieren opgesteld. Bij het inloggen vinden er een aantal controles plaats, dus naast het importeren van de formulieropties, moeten ook de voorgeprogrammeerde validaties beschikbaar komen om die controles te kunnen uitvoeren zonder dat de ontwikkelaar ze zelf weer hoeft uit te programmeren.</p> <pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, PasswordField, SubmitField\nfrom wtforms.validators import DataRequired, Email, EqualTo\nfrom wtforms import ValidationError\nfrom mijnproject.models import User\n</code></pre> <p>Er moet gecontroleerd worden of velden op een formulier voldoen aan de verplichting een waarde te krijgen. Verder vindt er toezicht plaats of het opgegeven e-mailadres aan de eisen voldoet: is er bijvoorbeeld een apenstaartje (<code>@</code>) meegestuurd en dergelijke. De validator <code>EqualTo</code> is uitgerust om twee waardes met elkaar te vergelijken. Mocht er iets niet in orde dan kan er met behulp van de <code>ValidationError</code> een passende melding getoond wordt.</p> <p>Nu kunnen de formulieren opgebouwd worden, te beginnen met het registratieformulier. Omdat er als veel vaker Engelse termen in de code zijn opgetekend, worden hier ook Engelse benamingen gehanteerd.</p> <pre><code>class RegistrationForm(FlaskForm):\n    \"\"\"Formulier voor het registreren van nieuwe gebruikers.\"\"\"\n\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    username = StringField('Username', validators=[DataRequired()])\n    password = PasswordField(\n        'Password',\n        validators=[DataRequired(), EqualTo('pass_confirm', message='Passwords Must Match!')]\n    )\n    pass_confirm = PasswordField('Confirm password', validators=[DataRequired()])\n    submit = SubmitField('Leg vast!')\n</code></pre> <p>Voor de variabele <code>email</code> zijn twee (2) validators opgenomen: <code>DataRequired</code> en <code>Email</code>: dit betekent dat het tekstveld een verplichte invulling heeft er en er tevens een controle op de inhoud zal worden toegepast.</p> <p>De variabele <code>password</code> verdient ook de nodige aandacht te krijgen. Deze is van het type <code>PasswordField</code>, wat wil zeggen dat de inhoud op het scherm niet door anderen kan worden afgelezen. Het is in ieder geval een verplicht veld op het formulier. Op de tweede validator-optie komen we zo terug.</p> <p>Bij een registratie is het heel gebruikelijk te vragen om het wachtwoord nog een keer op te voeren om na te kunnen gaan of de gebruiker geen typo heeft gemaakt. Zo ook hier. De user voert een tweede keer het wachtwoord in dat wordt opgeslagen in de variabele <code>pass_confirm</code>.</p> <p>Nu weer terug naar het veld waar voor de eerste keer het wachtwoord wordt ingevuld. De tweede validator hier is <code>EqualTo</code>. Hierbij wordt nu vergeleken of de beide opgegeven wachtwoorden aan elkaar gelijk zijn.</p> <p>Aan dit formulier worden nog een tweetal methoden verbonden:</p> <pre><code>def validate_email(self, field) -&gt; None:\n    \"\"\"Valideer dat het e-mailadres nog niet in gebruik is.\n\n    Args:\n        field: Het email veld uit het formulier\n\n    Raises:\n        ValidationError: Als het e-mailadres al geregistreerd is\n    \"\"\"\n    if db.session.execute(db.select(User).filter_by(email=field.data)).scalar_one_or_none():\n        raise ValidationError('Dit e-mailadres staat al geregistreerd!')\n</code></pre> <p>De melding is al duidelijk genoeg, maar toch nog wat extra uitleg. Er wordt gecontroleerd of het opgegeven e-mailadres gevonden kan worden door de waarde ervan op te geven in <code>db.session.execute(db.select(User).filter_by(email=field.data)).scalar_one_or_none()</code>. Geeft dit resultaat niet <code>None</code>, dan is er al een e-mailadres met een gelijke inhoud in de database te vinden, en dat mag niet. Er moet dan een melding getoond worden, hetgeen hier dus via de <code>ValidationError</code> geregeld is.</p> <p>De tweede methode is nagenoeg gelijk aan de eerste. Alleen moet er nu nagegaan worden of de gebruikersnaam al in de database voorkomt.</p> <pre><code>def validate_username(self, field) -&gt; None:\n    \"\"\"Valideer dat de gebruikersnaam nog niet in gebruik is.\n\n    Args:\n        field: Het username veld uit het formulier\n\n    Raises:\n        ValidationError: Als de gebruikersnaam al bestaat\n    \"\"\"\n    if db.session.execute(db.select(User).filter_by(username=field.data)).scalar_one_or_none():\n        raise ValidationError('Deze gebruikersnaam is al vergeven, probeer een ander naam!')\n</code></pre>"},{"location":"week7a/user-authentication-deel2.html#het-inlogformulier","title":"Het inlogformulier","text":"<p>Nu het registratieformulier ontwikkeld is, is de volgende logische stap het aanmaken van een inlogformulier:</p> <pre><code>class LoginForm(FlaskForm):\n    \"\"\"Formulier voor het inloggen van bestaande gebruikers.\"\"\"\n\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    password = PasswordField('Password', validators=[DataRequired()])\n    submit = SubmitField('Inloggen')\n</code></pre> <p>Ook hier geldt dat het inlogformulier eigenschappen overneemt van <code>FlaskForm</code>. Verder is er niet zo veel bijzonders bij dit formulier te vermelden. Zoals al wel vaker gezegd, meer van hetzelfde.</p> <p>Het formulier kent twee velden, eentje om de gebruikersnaam in te geven en het tweede veld is beschikbaar voor het wachtwoord. Tenslotte kan het inloggen worden afgesloten door op de knop met het opschrift 'Inloggen' te klikken.</p>"},{"location":"week7a/user-authentication-deel2.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Flask-Login: een bibliotheek die sessie- en gebruikersbeheer verzorgt, waaronder inloggen, uitloggen en het onthouden van gebruikerssessies</li> <li>LoginManager: het centrale object uit Flask-Login dat via <code>init_app()</code> aan de app gekoppeld wordt en via <code>login_view</code> aangeeft waar gebruikers kunnen inloggen</li> <li>UserMixin: een superklasse die de <code>User</code>-klasse standaardmethoden geeft zoals <code>is_authenticated()</code>, <code>is_active()</code>, <code>is_anonymous()</code> en <code>get_id()</code></li> <li>Wachtwoord hashing in het model: het wachtwoord wordt bij het aanmaken van een gebruiker direct gehashed opgeslagen; de plain-text variant wordt nergens bewaard</li> <li><code>check_password()</code>-methode: controleert bij het inloggen of het ingevoerde wachtwoord overeenkomt met de opgeslagen hash</li> <li><code>user_loader</code>-decorator: laadt de huidige gebruiker op basis van het sessie-ID, zodat Flask-Login de ingelogde gebruiker bij elke aanvraag automatisch kan opzoeken</li> <li><code>RegistrationForm</code>: een WTForms-formulier met validaties voor uniek e-mailadres, unieke gebruikersnaam en wachtwoordbevestiging via <code>EqualTo</code></li> <li><code>LoginForm</code>: een eenvoudig formulier met een e-mailadres- en wachtwoordveld voor bestaande gebruikers</li> </ul>"},{"location":"week7a/user-authentication-deel3.html","title":"User authentication - Flask_login deel II","text":""},{"location":"week7a/user-authentication-deel3.html#user-authentication-flask_login-deel-ii","title":"User authentication - Flask_login deel II","text":"<p>Het bestand <code>app.py</code> heeft verreweg de meeste aandacht nodig. Daarom is hier een aparte paragraaf voor. Er zijn een aantal zaken die voor het eerst voorbijkomen en een aantal dingen waar een duidelijke uitleg bij vereist is.</p> <p>In dit bestand worden de views vastgelegd die nodig zijn om het loginsysteem naar verwachting te laten verlopen. Anders gezegd: de functies die de formulieren en de HTML-bestanden uit de directory <code>templates</code> met elkaar zullen gaan verbinden worden ontworpen en gecodeerd.</p>"},{"location":"week7a/user-authentication-deel3.html#eerste-opzet","title":"Eerste opzet","text":"<p>Eerst worden alle imports opgegeven die nodig zijn om dit bestand goed te laten functioneren:</p> <pre><code>from mijnproject import app,db\nfrom flask import render_template, redirect, request, url_for, flash\nfrom flask_login import login_user, login_required, logout_user\nfrom mijnproject.models import User\nfrom mijnproject.forms import LoginForm, RegistrationForm\n</code></pre> <p>De eerste regel laat de app en de database ophalen. Daarna worden van flask een aantal oude bekenden ge\u00efmporteerd.</p> <p>Vanaf de derde coderegel wordt het interessant. Deze regel zorgt ervoor dat de afwikkeling van het inloggen en uitloggen verzorgd worden zonder dat deze handelingen door de programmeur zelf geprogrammeerd hoeven te worden.</p> <p>Het tweede item wat wordt ingeladen is <code>login_required</code>. Hiermee kan de status van een gebruiker (user) achterhaald worden en op basis van die status de gepaste bijbehorende inhoud getoond worden. Is een gebruiker nog niet ingelogd dan zal hem de mogelijkheid geboden worden dit te doen. Is een gebruiker ingelogd en is het zijn wens de sessie te be\u00ebindigen moet deze mogelijkheid hem worden aangeboden. Hoe dat geregeld wordt, komt zo aan bod.</p> <p>Verder zijn hier de tabel <code>User</code> en de beide formulieren die in de vorige paragraaf ontworpen zijn nodig. Om er weer in te komen eerst de simpelste van de views, de <code>home-view</code>:</p> <pre><code>@app.route('/')\ndef home() -&gt; str:\n    \"\"\"Toon de homepagina.\n\n    Returns:\n        De gerenderde home.html template\n    \"\"\"\n    return render_template('home.html')\n</code></pre> <p>Als eerste een decorator die verwijst naar de homepagina. Deze functie (view) krijgt de naam <code>home</code> zodat er straks met <code>url_for()</code> gemakkelijk naar verwezen kan worden. De laatste regel vertelt dat in dat geval de pagina <code>home.html</code> getoond wordt, die pas in de volgende paragraaf zijn inhoud zal krijgen.</p> <p>De tweede view betreft een view die verschijnt op het moment dat de gebruiker succesvol is ingelogd. Deze view laat een welkomst-bericht tevoorschijn getoverd worden:</p> <pre><code>@app.route('/welkom')\n@login_required\ndef welkom() -&gt; str:\n    \"\"\"Toon de welkomstpagina voor ingelogde gebruikers.\n\n    Deze view is alleen toegankelijk voor geauthenticeerde gebruikers\n    dankzij de @login_required decorator.\n\n    Returns:\n        De gerenderde welkom.html template\n    \"\"\"\n    return render_template('welkom.html')\n</code></pre> <p>Wat gelijk opvalt is dat er een tweetal decorators aan het begin van dit codeblok zijn opgenomen. De eerste decorator koppelt de route <code>/welkom</code> aan het template bestand <code>welkom.html</code>. De tweede decorator controleert of de gebruiker van deze pagina daadwerkelijk is ingelogd. Is dat zo, wordt het welkomstbericht vrijgegeven. In het andere geval wordt er doorgeschakeld naar het loginformulier.</p> <p>Door deze acties te importeren van <code>Flask_login</code> wordt het de ontwikkelaar weer een stuk eenvoudiger gemaakt.</p>"},{"location":"week7a/user-authentication-deel3.html#logout-view","title":"Logout-view","text":"<p>Nog een redelijk eenvoudige view voordat er met het betere codeerwerk begonnen kan worden. Het wordt een view met de naam <code>logout</code>. Wat daar de bedoeling van is moge duidelijk zijn.</p> <pre><code>from flask import Response\n\n@app.route('/logout')\n@login_required\ndef logout() -&gt; Response:\n    \"\"\"Log de huidige gebruiker uit.\n\n    Deze view is alleen toegankelijk voor ingelogde gebruikers.\n    Na het uitloggen wordt de gebruiker doorgestuurd naar de homepagina.\n\n    Returns:\n        Redirect naar de home view\n    \"\"\"\n    logout_user()\n    flash('Je bent nu uitgelogd!')\n    return redirect(url_for('home'))\n</code></pre> <p>De <code>logout</code> view bevindt zich op de route <code>/logout</code>. Deze mogelijkheid wordt alleen geboden indien de gebruiker daadwerkelijk is ingelogd. Daar zorgt de decorator <code>login_required</code> voor. Het zou raar zijn uit te kunnen loggen zonder ingelogd te zijn.</p> <p>Binnen de functie <code>logout()</code> zorgt de functie <code>logout_user()</code> voor de afwikkeling van het uitloggen. Ook deze functie is ge\u00efmporteerd om het leven zo aangenaam mogelijk te maken. Als er succesvol uitgelogd is verschijnt er een flitsbericht en wordt de gebruiker doorgestuurd naar de homepagina.</p>"},{"location":"week7a/user-authentication-deel3.html#login-proces","title":"Login-proces","text":"<p>Nu het moeilijkere gedeelte, te beginnen met <code>login</code>. De uitleg wordt in kleine stapjes gedaan om de denkwijze en uitvoer op een handiger manier duidelijk te maken.</p> <pre><code>@app.route('/login', methods=['GET', 'POST'])\n</code></pre> <p>Er wordt begonnen met een decorator. En omdat er bij het inloggen een formulier nodig is, kan het niet achterwege gelaten worden de methoden <code>GET</code> en <code>POST</code> in deze coderegel op te nemen.</p> <pre><code>def login() -&gt; str | Response:\n    \"\"\"Handel het login-proces af.\n\n    Returns:\n        Bij GET: gerenderde login.html template met formulier\n        Bij POST (success): redirect naar welkom of next pagina\n        Bij POST (invalid): gerenderde login.html met foutmeldingen\n    \"\"\"\n    form = LoginForm()\n    if form.validate_on_submit():\n        user = db.session.execute(db.select(User).filter_by(email=form.email.data)).scalar_one_or_none()\n</code></pre> <p>De view krijgt de naam <code>login</code> mee. Als eerste wordt er een instantie aangemaakt van het <code>LoginForm()</code> dat ook meegeleverd is in het importblok.</p> <p>Als er in het formulier op de Submit-knop gedrukt is, wordt nagegaan of de gebruiker bekend is in de database. Uit het formulier wordt het e-mailadres opgehaald en vergeleken met de opgeslagen e-mailadressen. Omdat er gecontroleerd is dat er geen dubbele e-mailadressen zijn ingevoerd is het voldoende het eerste gevonden record te benutten. Dit wordt ondergebracht in de variabele <code>user</code>.</p> <pre><code>    if user is not None and user.check_password(form.password.data):\n        login_user(user)\n        flash('Succesvol ingelogd.')\n</code></pre> <p>Om succesvol te kunnen inloggen moet er aan twee condities voldaan worden. De gebruiker moet gevonden zijn in de database (daarom controleren we eerst of <code>user is not None</code>), en daarna moet het ingevulde wachtwoord van het formulier matchen met het corresponderende wachtwoord in de database. Dat regelt de functie <code>check_password()</code>. Is aan beide voorwaarden voldaan wordt de user automatisch ingelogd door de functie <code>login_user()</code> en verschijnt er een flitsbericht aan de bovenkant van het scherm. De functie <code>check_password()</code> komt mee met <code>User</code>.</p> <p>Nu nog wat bijzonders:</p> <pre><code>    next = request.args.get('next')\n\n    if next is None or not next[0] == '/':\n        next = url_for('welkom')\n\n    return redirect(next)\n</code></pre> <p>Stel een gebruiker probeert een pagina te bezoeken waarvoor inloggen vereist is (zoals <code>welkom.html</code>). Dan slaat <code>Flask</code> die URL op in de variabele <code>next</code>. Vervolgens wordt de gebruiker doorgelinkt naar het inlogformulier.</p> <p>Indien er succesvol is ingelogd wordt er nagegaan of de variabele <code>next</code> een waarde heeft. Is dat niet het geval wordt het welkomstbericht getoond, anders verschijnt de pagina waar nu wel toestemming voor gegeven is.</p> <p>Tot slot moet van de inlogview worden bepaald wat in beeld verschijnt als de view wordt aangeroepen:</p> <pre><code>    return render_template('login.html', form=form)\n</code></pre> <p>Het is natuurlijk duidelijk dat als de view <code>login</code> aangeroepen wordt, het inlogformulier getoond dient te worden.</p>"},{"location":"week7a/user-authentication-deel3.html#registratie","title":"Registratie","text":"<p>Nog \u00e9\u00e9n view te gaan, het registreren van belangstellenden. Omdat er al veel Engelse termen gebruikt zijn krijgt deze view daarom de route <code>register</code> mee.</p> <pre><code>@app.route('/register', methods=['GET', 'POST'])\n</code></pre> <p>Ook bij deze view wordt als eerste de route vastgesteld en zijn de methoden <code>GET</code> en <code>POST</code> noodzakelijk omdat gebruikers zich kunnen aanmelden door een formulier in te vullen.</p> <pre><code>def register() -&gt; str | Response:\n    \"\"\"Handel het registratieproces af voor nieuwe gebruikers.\n\n    Returns:\n        Bij GET: gerenderde register.html template met formulier\n        Bij POST (success): redirect naar login view\n        Bij POST (invalid): gerenderde register.html met foutmeldingen\n    \"\"\"\n    form = RegistrationForm()\n</code></pre> <p>Bij het aanroepen van de view wordt een object van de klasse <code>RegistrationForm</code> aangemaakt.</p> <pre><code>    if form.validate_on_submit():\n        user = User(email=form.email.data,\n                    username=form.username.data,\n                    password=form.password.data)\n\n        db.session.add(user)\n        db.session.commit()\n        flash('Dank voor de registratie. Er kan nu ingelogd worden! ')\n</code></pre> <p>Indien het formulier met goed gevolg is ingevuld, waarbij onder meer de diverse checks zijn uitgevoerd, wordt er een nieuw object <code>user</code> aangemaakt met de ingevulde kenmerken e-mailadres, username en password.</p> <p>De gegevens worden toevertrouwd aan de database en bevestigd door het <code>commit()</code>-statement uit te voeren. Een succesvolle registratie verdient uiteraard weer een flitsbericht.</p> <pre><code>        return redirect(url_for('login'))\n    return render_template('register.html', form=form)\n</code></pre> <p>Wanneer de view wordt aangeroepen komt de inhoud van de pagina <code>register.html</code> in beeld en als het inloggen op een juiste wijze verlopen is wordt er doorgeschakeld naar de view login.</p> <p>Nog eentje te gaan. Dit is het bestand <code>app.py</code>, het bestand waarmee de applicatie gerund wordt. Dat betekent dat de volgende twee coderegels nog nodig zijn:</p> <pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre> <p>Omdat er straks weer getest wordt, heeft debug de waarde <code>True</code> meegekregen zodat bij ieder foutje onmiddellijk in beeld verschijnt waar de fout gevonden kan worden. Werkt de applicatie feilloos en kan deze in productie genomen worden, mag debug zeker niet meer de status <code>True</code> hebben.</p>"},{"location":"week7a/user-authentication-deel3.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li><code>login_required</code>-decorator: beveiligt een view zodat alleen ingelogde gebruikers er toegang toe hebben; niet-ingelogde gebruikers worden automatisch doorgestuurd naar de loginpagina</li> <li><code>login_user()</code>: Flask-Login-functie die de gebruiker officieel inlogt en de sessiegegevens bijhoudt</li> <li><code>logout_user()</code>: Flask-Login-functie die de sessie be\u00ebindigt en de gebruiker uitlogt; de view is zelf ook beveiligd met <code>@login_required</code></li> <li><code>next</code>-parameter: slaat de oorspronkelijk gevraagde URL op zodat de gebruiker na een succesvolle aanmelding automatisch teruggestuurd wordt naar de gewenste pagina</li> <li>Login-view: verwerkt een POST-verzoek door het e-mailadres op te zoeken in de database en het wachtwoord te controleren via <code>check_password()</code></li> <li>Registratie-view: maakt na succesvolle formuliervalidatie een nieuw <code>User</code>-object aan en slaat dit op in de database, waarna de gebruiker wordt doorgestuurd naar de loginpagina</li> <li><code>flash()</code>-berichten: tonen een korte melding na acties zoals inloggen, uitloggen en registreren om de gebruiker te informeren over het resultaat</li> </ul>"},{"location":"week7a/user-authentication-deel4.html","title":"User authentication - Flask_login deel IV","text":""},{"location":"week7a/user-authentication-deel4.html#user-authentication-flask_login-deel-iv","title":"User authentication - Flask_login deel IV","text":"<p>Het meeste werk is achter de rug. Alleen de HTML-bestanden uit de folder <code>templates</code> blijven nog over. Er zijn nog een aantal acties waar uitleg bij nodig is maar het merendeel zou geen problemen meer moeten opleveren.</p>"},{"location":"week7a/user-authentication-deel4.html#basehtml","title":"<code>base.html</code>","text":"<p>Dit bestand wordt altijd gebruikt om een aantal standaardwaarden in op te nemen die vervolgens doorgegeven kunnen worden aan de andere files uit de folder <code>templates</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM\" crossorigin=\"anonymous\"&gt;\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n  &lt;/head&gt;\n</code></pre> <p>Dit gedeelte is bekend en in de code zijn de benodigde linken naar Bootstrap 5.3.0 opgenomen. Let op dat Bootstrap 5 geen jQuery meer nodig heeft en dat Popper.js nu ingebouwd zit in de bundle versie.</p> <p>De body vereist een kleine uitleg:</p> <pre><code>&lt;body&gt;\n  &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n    &lt;div class=\"container-fluid\"&gt;\n      &lt;ul class=\"navbar-nav\"&gt;\n        &lt;li class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" href=\"{{ url_for('home') }}\"&gt;Home&lt;/a&gt;\n        &lt;/li&gt;\n        {% if current_user.is_authenticated %}\n        &lt;li class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" href=\"{{ url_for('logout') }}\"&gt;Uitloggen&lt;/a&gt;\n        &lt;/li&gt;\n        {% else %}\n        &lt;li class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" href=\"{{ url_for('login') }}\"&gt;Inloggen&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" href=\"{{ url_for('register') }}\"&gt;Registreren&lt;/a&gt;\n        &lt;/li&gt;\n        {% endif %}\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;/nav&gt;\n\n  &lt;div class=\"container mt-4\"&gt;\n    {% block content %}\n    {% endblock %}\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>De inhoud van de navigatiebalk, het menu wat de gebruiker te zien krijgt, wordt bepaald door de voorwaarde <code>if current_user.is_authenticated</code>.</p> <p>Is de gebruiker door de selectie gekomen dan heeft hij de mogelijkheid te kunnen uitloggen, en zo niet, dan kan een gebruiker zich laten registreren of inloggen.</p> <p>In Bootstrap 5 is de navigatiebalk structuur verbeterd met de <code>navbar</code> en <code>navbar-nav</code> klassen. De oude <code>nav</code> klasse is vervangen door een meer semantisch correcte structuur met een <code>nav</code> element en nested <code>ul</code> lijst.</p>"},{"location":"week7a/user-authentication-deel4.html#homehtml","title":"<code>home.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"card\"&gt;\n  &lt;div class=\"card-body\"&gt;\n    {% if current_user.is_authenticated %}\n      &lt;h5 class=\"card-title\"&gt;Welkom terug!&lt;/h5&gt;\n      &lt;p class=\"card-text\"&gt;Hallo {{ current_user.username }}!&lt;/p&gt;\n    {% else %}\n      &lt;h5 class=\"card-title\"&gt;Welkom&lt;/h5&gt;\n      &lt;p class=\"card-text\"&gt;Om te kunnen beginnen: log in of registreer!&lt;/p&gt;\n    {% endif %}\n  &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Als de homepagina wordt aangeroepen door een ingelogde gebruiker verschijnt de tekst 'Hallo' + de naam. Is de gebruiker niet ingelogd, dan verschijnt er een aansporing om in te loggen of te registreren.</p> <p>In Bootstrap 5 is de <code>jumbotron</code> component verwijderd en vervangen door <code>card</code> componenten. Cards zijn flexibeler en bieden betere responsiviteit.</p>"},{"location":"week7a/user-authentication-deel4.html#welkomhtml","title":"<code>welkom.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"card\"&gt;\n  &lt;div class=\"card-body\"&gt;\n    &lt;h5 class=\"card-title\"&gt;Gefeliciteerd!&lt;/h5&gt;\n    &lt;p class=\"card-text\"&gt;Inloggen gelukt!&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre>"},{"location":"week7a/user-authentication-deel4.html#registerhtml","title":"<code>register.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"card\"&gt;\n  &lt;div class=\"card-header\"&gt;\n    &lt;h5&gt;Registreren&lt;/h5&gt;\n  &lt;/div&gt;\n  &lt;div class=\"card-body\"&gt;\n    &lt;form method=\"POST\"&gt;\n      {{ form.hidden_tag() }}\n      &lt;div class=\"mb-3\"&gt;\n        {{ form.email.label(class=\"form-label\") }}\n        {{ form.email(class=\"form-control\") }}\n      &lt;/div&gt;\n      &lt;div class=\"mb-3\"&gt;\n        {{ form.username.label(class=\"form-label\") }}\n        {{ form.username(class=\"form-control\") }}\n      &lt;/div&gt;\n      &lt;div class=\"mb-3\"&gt;\n        {{ form.password.label(class=\"form-label\") }}\n        {{ form.password(class=\"form-control\") }}\n      &lt;/div&gt;\n      &lt;div class=\"mb-3\"&gt;\n        {{ form.pass_confirm.label(class=\"form-label\") }}\n        {{ form.pass_confirm(class=\"form-control\") }}\n      &lt;/div&gt;\n      {{ form.submit(class=\"btn btn-primary\") }}\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Wanneer de view <code>register</code> wordt opgeroepen, wordt het registratieformulier getoond. Ook wordt er gecontroleerd op een typo bij het invullen van het wachtwoord.</p> <p>In Bootstrap 5 is de formulier styling aangepast. De klasse <code>form-group</code> is vervangen door <code>mb-3</code> (margin-bottom) en formulier labels gebruiken nu de <code>form-label</code> klasse.</p>"},{"location":"week7a/user-authentication-deel4.html#loginhtml","title":"<code>login.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"card\"&gt;\n  &lt;div class=\"card-header\"&gt;\n    &lt;h5&gt;Inloggen&lt;/h5&gt;\n  &lt;/div&gt;\n  &lt;div class=\"card-body\"&gt;\n    &lt;form method=\"POST\"&gt;\n      {{ form.hidden_tag() }}\n      &lt;div class=\"mb-3\"&gt;\n        {{ form.email.label(class=\"form-label\") }}\n        {{ form.email(class=\"form-control\") }}\n      &lt;/div&gt;\n      &lt;div class=\"mb-3\"&gt;\n        {{ form.password.label(class=\"form-label\") }}\n        {{ form.password(class=\"form-control\") }}\n      &lt;/div&gt;\n      {{ form.submit(class=\"btn btn-primary\") }}\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Ook hier is een formulier nodig om een gebruiker toestemming te verlenen de pagina's van de site te kunnen inspecteren.</p>"},{"location":"week7a/user-authentication-deel4.html#testen","title":"Testen","text":"<p>Tot zover alle code die nodig is om een inlogsysteem op te zetten. Nu komt weer het spannendste deel, het testen.</p> <p>Na het runnen van <code>app.py</code>:</p> <p>Verwacht resultaat: Een kaart met een welkomstbericht en knoppen/links om in te loggen of te registreren.</p> <p>Registreren ('joyce@sessions.com' en het wachtwoord 'geheim'):</p> <p>Verwacht resultaat: Een registratieformulier met velden voor e-mailadres, gebruikersnaam, wachtwoord en wachtwoordbevestiging.</p> <p>Inloggen:</p> <p>Verwacht resultaat: Een inlogformulier met velden voor e-mailadres en wachtwoord.</p> <p>Na inloggen:</p> <p>Verwacht resultaat: Een welkomstpagina met de melding \"Gefeliciteerd! Inloggen gelukt!\"</p> <p>Een klik op Home:</p> <p>Verwacht resultaat: De homepagina toont een gepersonaliseerde begroeting met de gebruikersnaam en een optie om uit te loggen in de navigatiebalk.</p> <p>Tot zover het testen. Er kunnen nog veel meer opties bekeken worden op hun gedrag, maar voor nu is dit even voldoende.</p>"},{"location":"week7a/user-authentication-deel4.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt nu een compleet user authentication systeem gebouwd met Flask-Login. De belangrijkste onderdelen die je hebt geleerd zijn:</p>"},{"location":"week7a/user-authentication-deel4.html#beveiliging","title":"Beveiliging","text":"<ul> <li>Password hashing met Werkzeug - wachtwoorden worden nooit in plain text opgeslagen</li> <li>CSRF protection via Flask-WTF - automatische beveiliging tegen cross-site request forgery</li> <li>Session management - Flask-Login beheert automatisch de ingelogde status</li> </ul>"},{"location":"week7a/user-authentication-deel4.html#functionaliteit","title":"Functionaliteit","text":"<ul> <li>Registratie - nieuwe gebruikers kunnen zich aanmelden</li> <li>Login - gebruikers kunnen inloggen met email en wachtwoord</li> <li>Logout - veilig uitloggen met sessie cleanup</li> <li>Protected routes - pagina's die alleen toegankelijk zijn voor ingelogde gebruikers</li> </ul>"},{"location":"week7a/user-authentication-deel4.html#flask-login-features","title":"Flask-Login Features","text":"<ul> <li><code>UserMixin</code> - standaard implementatie van user methoden</li> <li><code>@login_required</code> decorator - beveilig routes automatisch</li> <li><code>current_user</code> - altijd beschikbaar in templates en views</li> <li><code>user_loader</code> - automatisch laden van users uit database</li> </ul> <p>Dit authentication systeem vormt de basis voor grotere applicaties waar gebruikers persoonlijke data hebben of verschillende toegangsniveaus nodig zijn (bijvoorbeeld admin vs reguliere gebruiker).</p> <p>Volgende stappen</p> <p>Met deze kennis kun je verder met: - Role-based access control - Admin vs normale gebruikers - Password reset - Gebruikers kunnen wachtwoord vergeten link gebruiken - Email verificatie - Bevestig email adressen bij registratie - Two-factor authentication - Extra beveiligingslaag toevoegen - OAuth integration - Login met Google, GitHub, etc.</p> <p>Veel succes met het bouwen van je eigen beveiligde webapplicaties!</p>"},{"location":"week7a/bestanden/webshop/index.html","title":"Week 7a: User Authentication - Webshop","text":""},{"location":"week7a/bestanden/webshop/index.html#week-7a-user-authentication-webshop","title":"Week 7a: User Authentication - Webshop","text":"<p>In deze week voegen we User Authentication toe aan de webshop met Flask-Login. Gebruikers kunnen inloggen, registreren, en we onderscheiden tussen Admin en Customer rollen.</p>"},{"location":"week7a/bestanden/webshop/index.html#rode-draad-van-orm-naar-authentication","title":"Rode draad: Van ORM naar Authentication","text":"<p>We bouwen verder op Week 6 SQLAlchemy ORM en voegen authenticatie toe:</p> Week Aanpak Capabilities Week 6 SQLAlchemy ORM Iedereen kan alles doen, geen login Week 7a Flask-Login Login/Register, Admin vs Customer, Protected routes Week 7b Blueprints Modular app structure"},{"location":"week7a/bestanden/webshop/index.html#belangrijkste-concepten","title":"Belangrijkste Concepten","text":""},{"location":"week7a/bestanden/webshop/index.html#1-flask-login","title":"1. Flask-Login","text":"<p>Flask-Login biedt gebruikerssessie beheer:</p> <ul> <li>ID van actieve gebruiker wordt opgeslagen in sessie</li> <li>Makkelijk inloggen/uitloggen</li> <li>Views beperken tot ingelogde gebruikers</li> <li>\"Remember me\" functionaliteit</li> <li>Bescherming tegen cookie diefstal</li> </ul> <p>Wat Flask-Login NIET doet:</p> <ul> <li>Geen password hashing (dat doen we met Werkzeug)</li> <li>Geen registration forms (dat doen we met Flask-WTF)</li> <li>Geen database models (dat doen we met SQLAlchemy)</li> </ul>"},{"location":"week7a/bestanden/webshop/index.html#2-password-hashing-met-werkzeug","title":"2. Password Hashing met Werkzeug","text":"<p>Waarom password hashing?</p> <ul> <li>Wachtwoorden NOOIT in plain text opslaan in database</li> <li>Als database wordt gehackt, zijn wachtwoorden veilig</li> <li>Zelfs database admins kunnen wachtwoorden niet zien</li> </ul> <p>Hoe werkt het?</p> <pre><code>from werkzeug.security import generate_password_hash, check_password_hash\n\n# Bij registratie: hash het wachtwoord\nhashed = generate_password_hash('mijnwachtwoord')\n# Output: 'pbkdf2:sha256:150000$hUiH149n$af71be7ff...'\n\n# Bij login: check of wachtwoord klopt\ncheck_password_hash(hashed, 'mijnwachtwoord')  # True\ncheck_password_hash(hashed, 'fout')  # False\n</code></pre> <p>Belangrijke eigenschappen:</p> <ul> <li>Zelfde wachtwoord geeft elke keer andere hash (door salt)</li> <li>Hash kan niet worden teruggerekend naar origineel wachtwoord</li> <li>Check is snel, maar brute force is traag (door PBKDF2)</li> </ul>"},{"location":"week7a/bestanden/webshop/index.html#3-usermixin","title":"3. UserMixin","text":"<p>UserMixin voegt automatisch methodes toe aan Customer model:</p> <pre><code>class Customer(db.Model, UserMixin):\n    # ...\n\n# Nu beschikbaar zonder dat je ze hoeft te schrijven:\ncustomer.is_authenticated()  # True als ingelogd\ncustomer.is_active()         # True als account actief is\ncustomer.is_anonymous()      # False voor echte users\ncustomer.get_id()           # Geeft ID als string\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#4-loginmanager","title":"4. LoginManager","text":"<p>LoginManager coordineert de authenticatie:</p> <pre><code>login_manager = LoginManager()\nlogin_manager.init_app(app)\nlogin_manager.login_view = \"login\"  # Waar heen bij @login_required\n</code></pre> <p>user_loader decorator:</p> <pre><code>@login_manager.user_loader\ndef load_user(user_id):\n    \"\"\"Flask-Login gebruikt deze functie om user te laden uit sessie.\"\"\"\n    return db.session.get(Customer, int(user_id))\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#5-admin-vs-customer-roles","title":"5. Admin vs Customer Roles","text":"<p>We gebruiken een <code>is_admin</code> boolean field om te onderscheiden:</p> <pre><code>class Customer(db.Model, UserMixin):\n    is_admin: Mapped[bool] = mapped_column(default=False)\n\n# Bij aanmaken:\nadmin = Customer(name='Admin', email='admin@webshop.nl',\n                 password='admin123', is_admin=True)\ncustomer = Customer(name='Jan', email='jan@email.nl',\n                    password='wachtwoord', is_admin=False)\n</code></pre> <p>Admin checks in templates:</p> <pre><code>{% if current_user.is_admin %}\n    &lt;a href=\"{{ url_for('admin_products') }}\"&gt;Admin Panel&lt;/a&gt;\n{% endif %}\n</code></pre> <p>Admin checks in routes:</p> <pre><code>@app.route('/admin/products')\n@admin_required  # Custom decorator!\ndef admin_products():\n    # Alleen admins kunnen hier komen\n    pass\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#bestanden-structuur","title":"Bestanden Structuur","text":"<pre><code>webshop/\n\u251c\u2500\u2500 app.py                  # Flask app met authentication routes\n\u251c\u2500\u2500 models.py               # Customer met UserMixin en password hashing\n\u251c\u2500\u2500 forms.py                # LoginForm, RegistrationForm\n\u251c\u2500\u2500 migrate_database.py     # Database migratie script\n\u251c\u2500\u2500 templates/\n\u2502   \u251c\u2500\u2500 base.html          # Met login/logout links\n\u2502   \u251c\u2500\u2500 login.html         # Login formulier\n\u2502   \u251c\u2500\u2500 register.html      # Registratie formulier\n\u2502   \u251c\u2500\u2500 welcome.html       # Account pagina\n\u2502   \u251c\u2500\u2500 index.html\n\u2502   \u251c\u2500\u2500 category.html\n\u2502   \u251c\u2500\u2500 product.html\n\u2502   \u251c\u2500\u2500 admin_products.html\n\u2502   \u251c\u2500\u2500 add_product.html\n\u2502   \u251c\u2500\u2500 edit_product.html\n\u2502   \u251c\u2500\u2500 contact.html\n\u2502   \u2514\u2500\u2500 404.html\n\u2514\u2500\u2500 webshop.db              # SQLite database\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#installatie","title":"Installatie","text":"<ol> <li>Installeer dependencies:</li> </ol> <pre><code>pip install flask flask-sqlalchemy flask-wtf flask-login\n</code></pre> <ol> <li>Migreer data van Week 6 (optioneel):</li> </ol> <pre><code>python migrate_database.py\n</code></pre> <ol> <li>Start de applicatie:</li> </ol> <pre><code>python app.py\n</code></pre> <p>Bij eerste start wordt automatisch een demo admin aangemaakt:    - Email: admin@webshop.nl    - Wachtwoord: admin123</p> <ol> <li>Open in browser:</li> </ol> <pre><code>http://127.0.0.1:5000\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#nieuwe-routes","title":"Nieuwe Routes","text":""},{"location":"week7a/bestanden/webshop/index.html#authentication-routes","title":"Authentication Routes","text":"Route Methods Functie Access <code>/login</code> GET, POST Inloggen Iedereen <code>/register</code> GET, POST Registreren Iedereen <code>/logout</code> GET Uitloggen <code>@login_required</code> <code>/welcome</code> GET Account overzicht <code>@login_required</code>"},{"location":"week7a/bestanden/webshop/index.html#admin-routes-nu-beveiligd","title":"Admin Routes (nu beveiligd!)","text":"Route Methods Functie Access <code>/admin/products</code> GET Alle producten <code>@admin_required</code> <code>/admin/product/add</code> GET, POST Product toevoegen <code>@admin_required</code> <code>/admin/product/edit/&lt;id&gt;</code> GET, POST Product bewerken <code>@admin_required</code> <code>/admin/product/delete/&lt;id&gt;</code> POST Product verwijderen <code>@admin_required</code>"},{"location":"week7a/bestanden/webshop/index.html#public-routes-ongewijzigd","title":"Public Routes (ongewijzigd)","text":"Route Functie <code>/</code> Categorie\u00ebn overzicht <code>/category/&lt;id&gt;</code> Producten in categorie <code>/product/&lt;id&gt;</code> Product detail <code>/contact</code> Contact formulier"},{"location":"week7a/bestanden/webshop/index.html#code-examples","title":"Code Examples","text":""},{"location":"week7a/bestanden/webshop/index.html#1-login-flow","title":"1. Login Flow","text":"<pre><code>@app.route(\"/login\", methods=['GET', 'POST'])\ndef login():\n    # Al ingelogd? \u2192 redirect naar welcome\n    if current_user.is_authenticated:\n        return redirect(url_for('welcome'))\n\n    form = LoginForm()\n\n    if form.validate_on_submit():\n        # Zoek user op email\n        user = db.session.execute(db.select(Customer).filter_by(email=form.email.data)).scalar_one_or_none()\n\n        # Check wachtwoord\n        if user and user.check_password(form.password.data):\n            # Log in!\n            login_user(user)\n            flash(f'Welkom terug, {user.name}!', 'success')\n\n            # Redirect naar 'next' parameter of welcome\n            next_page = request.args.get('next')\n            return redirect(next_page or url_for('welcome'))\n        else:\n            flash('Ongeldig e-mailadres of wachtwoord.', 'danger')\n\n    return render_template('login.html', form=form)\n</code></pre> <p>Hoe werkt de 'next' parameter?</p> <pre><code>1. User probeert /admin/products te bezoeken (niet ingelogd)\n2. @admin_required redirect naar /login?next=/admin/products\n3. User logt in\n4. Wordt doorgestuurd naar /admin/products\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#2-registration-flow","title":"2. Registration Flow","text":"<pre><code>@app.route(\"/register\", methods=['GET', 'POST'])\ndef register():\n    if current_user.is_authenticated:\n        return redirect(url_for('welcome'))\n\n    form = RegistrationForm()\n\n    if form.validate_on_submit():\n        # Maak nieuwe Customer aan\n        new_customer = Customer(\n            name=form.name.data,\n            email=form.email.data,\n            password=form.password.data,  # Wordt automatisch gehashed!\n            is_admin=False  # Nieuwe users zijn geen admin\n        )\n\n        db.session.add(new_customer)\n        db.session.commit()\n\n        flash(f'Account aangemaakt! Je kunt nu inloggen.', 'success')\n        return redirect(url_for('login'))\n\n    return render_template('register.html', form=form)\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#3-custom-email-validator","title":"3. Custom Email Validator","text":"<pre><code>class RegistrationForm(FlaskForm):\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    # ... andere velden ...\n\n    def validate_email(self, field):\n        \"\"\"WTForms roept validate_&lt;fieldname&gt; automatisch aan!\"\"\"\n        if db.session.execute(db.select(Customer).filter_by(email=field.data)).scalar_one_or_none():\n            raise ValidationError('Dit e-mailadres staat al geregistreerd!')\n</code></pre> <p>Belangrijk: WTForms roept <code>validate_email()</code> automatisch aan bij validatie!</p>"},{"location":"week7a/bestanden/webshop/index.html#4-custom-admin-decorator","title":"4. Custom Admin Decorator","text":"<pre><code>from functools import wraps\n\ndef admin_required(f):\n    \"\"\"Decorator om routes te beschermen voor alleen admins.\"\"\"\n    @wraps(f)\n    def decorated_function(*args, **kwargs):\n        # Check of ingelogd\n        if not current_user.is_authenticated:\n            flash('Log in om deze pagina te bekijken.', 'warning')\n            return redirect(url_for('login'))\n\n        # Check of admin\n        if not current_user.is_admin:\n            flash('Deze pagina is alleen voor admins.', 'danger')\n            return redirect(url_for('index'))\n\n        # Alles OK, ga door\n        return f(*args, **kwargs)\n    return decorated_function\n\n# Gebruik:\n@app.route('/admin/products')\n@admin_required\ndef admin_products():\n    products = db.session.execute(db.select(Product)).scalars().all()\n    return render_template('admin_products.html', products=products)\n</code></pre> <p>Waarom <code>@wraps(f)</code>?</p> <ul> <li>Behoudt originele functienaam en docstring</li> <li>Zonder <code>@wraps</code> zou <code>admin_products.__name__</code> = \"decorated_function\" zijn</li> <li>Dit breekt <code>url_for()</code> en Flask's routing</li> </ul>"},{"location":"week7a/bestanden/webshop/index.html#5-template-context-current_user","title":"5. Template Context (current_user)","text":"<p>Flask-Login maakt <code>current_user</code> automatisch beschikbaar in templates:</p> <pre><code>&lt;!-- base.html --&gt;\n{% if current_user.is_authenticated %}\n    &lt;li&gt;\n        &lt;a href=\"{{ url_for('logout') }}\"&gt;\n            Uitloggen ({{ current_user.name }})\n        &lt;/a&gt;\n    &lt;/li&gt;\n\n    {% if current_user.is_admin %}\n    &lt;li&gt;&lt;a href=\"{{ url_for('admin_products') }}\"&gt;Admin Panel&lt;/a&gt;&lt;/li&gt;\n    {% endif %}\n{% else %}\n    &lt;li&gt;&lt;a href=\"{{ url_for('login') }}\"&gt;Inloggen&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"{{ url_for('register') }}\"&gt;Registreren&lt;/a&gt;&lt;/li&gt;\n{% endif %}\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#test-scenarios","title":"Test Scenario's","text":""},{"location":"week7a/bestanden/webshop/index.html#scenario-1-customer-account","title":"Scenario 1: Customer Account","text":"<ol> <li>Ga naar <code>http://127.0.0.1:5000/register</code></li> <li>Vul formulier in:</li> <li>Naam: Jan Jansen</li> <li>Email: jan@email.nl</li> <li>Wachtwoord: test123 (2x)</li> <li>Klik \"Registreren\"</li> <li>Je wordt naar <code>/login</code> gestuurd</li> <li>Log in met jan@email.nl / test123</li> <li>Je ziet <code>/welcome</code> met je account info</li> <li>Probeer <code>/admin/products</code> te bezoeken \u2192 Access Denied!</li> </ol>"},{"location":"week7a/bestanden/webshop/index.html#scenario-2-admin-account","title":"Scenario 2: Admin Account","text":"<ol> <li>Log in met admin@webshop.nl / admin123</li> <li>Je ziet \"Admin\" badge in navigation</li> <li>Klik \"Admin \u2192 Alle Producten\"</li> <li>Voeg nieuw product toe</li> <li>Bewerk product</li> <li>Verwijder product</li> </ol>"},{"location":"week7a/bestanden/webshop/index.html#scenario-3-protected-routes","title":"Scenario 3: Protected Routes","text":"<ol> <li>Log uit (als je ingelogd bent)</li> <li>Probeer <code>/welcome</code> te bezoeken</li> <li>Je wordt naar <code>/login?next=/welcome</code> geredirect</li> <li>Log in</li> <li>Je wordt naar <code>/welcome</code> gestuurd (de 'next' parameter!)</li> </ol>"},{"location":"week7a/bestanden/webshop/index.html#security-best-practices","title":"Security Best Practices","text":""},{"location":"week7a/bestanden/webshop/index.html#1-password-requirements","title":"1. Password Requirements","text":"<pre><code>password = PasswordField(\n    'Wachtwoord',\n    validators=[\n        DataRequired(),\n        Length(min=6, message=\"Wachtwoord moet minimaal 6 karakters zijn\")\n    ]\n)\n</code></pre> <p>Voor productie:</p> <ul> <li>Minimaal 8 karakters</li> <li>Verplicht cijfers/speciale tekens</li> <li>Gebruik <code>zxcvbn</code> library voor strength check</li> </ul>"},{"location":"week7a/bestanden/webshop/index.html#2-csrf-protection","title":"2. CSRF Protection","text":"<p>Flask-WTF beveiligt automatisch tegen CSRF:</p> <pre><code># In form\n{{ form.hidden_tag() }}  # Genereert CSRF token\n\n# In app.py\napp.config['SECRET_KEY'] = 'webshop-secret-key-2025'  # Verplicht!\n</code></pre> <p>Voor productie:</p> <pre><code>import secrets\napp.config['SECRET_KEY'] = secrets.token_hex(32)  # Random key!\n# Bewaar in environment variable, NIET in code!\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#3-sql-injection-prevention","title":"3. SQL Injection Prevention","text":"<p>SQLAlchemy ORM voorkomt SQL injection automatisch:</p> <pre><code># Veilig - ORM escaped automatisch\ndb.session.execute(db.select(Customer).filter_by(email=user_input)).scalar_one_or_none()\n\n# GEVAARLIJK - nooit doen!\ndb.session.execute(f\"SELECT * FROM customers WHERE email = '{user_input}'\")\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#4-session-security","title":"4. Session Security","text":"<pre><code># Voor productie:\napp.config['SESSION_COOKIE_SECURE'] = True  # Alleen over HTTPS\napp.config['SESSION_COOKIE_HTTPONLY'] = True  # Geen JavaScript toegang\napp.config['SESSION_COOKIE_SAMESITE'] = 'Lax'  # CSRF bescherming\napp.config['PERMANENT_SESSION_LIFETIME'] = timedelta(hours=1)\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#veelvoorkomende-fouten","title":"Veelvoorkomende Fouten","text":""},{"location":"week7a/bestanden/webshop/index.html#1-vergeten-login_manager-te-initialiseren","title":"1. Vergeten login_manager te initialiseren","text":"<pre><code># Fout\nlogin_manager = LoginManager()\n# Vergeet init_app!\n\n# Correct\nlogin_manager = LoginManager()\nlogin_manager.init_app(app)\nlogin_manager.login_view = \"login\"\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#2-usermixin-verkeerde-volgorde","title":"2. UserMixin verkeerde volgorde","text":"<pre><code># Fout - UserMixin moet TWEEDE zijn\nclass Customer(UserMixin, db.Model):\n    pass\n\n# Correct\nclass Customer(db.Model, UserMixin):\n    pass\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#3-password-niet-hashen","title":"3. Password niet hashen","text":"<pre><code># GEVAARLIJK - plain text password!\ncustomer.password_hash = form.password.data\n\n# Correct - hash in __init__\ndef __init__(self, name, email, password):\n    self.name = name\n    self.email = email\n    self.password_hash = generate_password_hash(password)\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#4-login_required-verkeerde-volgorde","title":"4. @login_required verkeerde volgorde","text":"<pre><code># Fout - route moet eerst\n@login_required\n@app.route('/welcome')\ndef welcome():\n    pass\n\n# Correct - route altijd eerst!\n@app.route('/welcome')\n@login_required\ndef welcome():\n    pass\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#5-circular-import-in-formspy","title":"5. Circular import in forms.py","text":"<pre><code># Fout - importeert Customer te vroeg\nfrom app import db\nfrom models import Customer  # Circular import!\n\n# Correct - import in functie\nfrom flask_wtf import FlaskForm\n\nclass RegistrationForm(FlaskForm):\n    def validate_email(self, field):\n        # Import hier, niet bovenaan!\n        from models import Customer\n        if db.session.execute(db.select(Customer).filter_by(email=field.data)).scalar_one_or_none():\n            raise ValidationError('Email al in gebruik!')\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#next-steps-week-7b","title":"Next Steps: Week 7b","text":"<p>In Week 7b refactoren we de applicatie naar Blueprints voor betere modulariteit:</p> <ul> <li><code>products/</code> blueprint - Catalog functionaliteit</li> <li><code>auth/</code> blueprint - Login/register/logout</li> <li><code>admin/</code> blueprint - Admin panel</li> <li><code>orders/</code> blueprint - Winkelwagen en checkout</li> </ul>"},{"location":"week7a/bestanden/webshop/index.html#tips","title":"Tips","text":"<ol> <li>Test altijd met fresh database</li> </ol> <pre><code>rm webshop.db\npython app.py  # Maakt nieuwe DB aan met admin\n</code></pre> <ol> <li>Check wachtwoord hash in database</li> </ol> <pre><code>from app import app, db, Customer\nwith app.app_context():\n    admin = db.session.execute(db.select(Customer).filter_by(email='admin@webshop.nl')).scalar_one_or_none()\n    print(admin.password_hash)\n    # pbkdf2:sha256:150000$...\n</code></pre> <ol> <li>Debug login issues</li> </ol> <pre><code>user = db.session.execute(db.select(Customer).filter_by(email=form.email.data)).scalar_one_or_none()\nif user:\n    print(f\"User found: {user.name}\")\n    print(f\"Password check: {user.check_password(form.password.data)}\")\nelse:\n    print(\"User not found!\")\n</code></pre>"},{"location":"week7a/bestanden/webshop/index.html#resources","title":"Resources","text":"<ul> <li>Flask-Login Documentation</li> <li>Werkzeug Security</li> <li>Flask-WTF</li> <li>OWASP Authentication Cheat Sheet</li> </ul>"},{"location":"week7b/flask-applicaties-deel1.html","title":"Flask-applicaties - Structuur","text":""},{"location":"week7b/flask-applicaties-deel1.html#flask-applicaties-structuur","title":"Flask-applicaties - Structuur","text":""},{"location":"week7b/flask-applicaties-deel1.html#refactoring","title":"Refactoring","text":"<p>Tot nu toe zijn alle coderegels in \u00e9\u00e9n <code>app.py</code>-bestand ondergebracht. Voor grotere Flask-applicaties is het logischer om delen van de applicatie in hun eigen bestanden vast te leggen bijvoorbeeld in <code>models.py</code>, <code>forms.py</code> en <code>views.py</code>.</p> <p>Voor nog grotere toepassingen begint het logisch te worden om de bestanden te herstructureren en componenten te scheiden zoals forms, views en templates voor elke belangrijke component.</p> <p>In dit deel hebben we aandacht voor de wijze waarop de ontwikkelde applicatie van oefening 1 gerefactored kan worden. Bij die oefening waren alle formulieren, views en templates in een enkel bestand of directory opgenomen. Zo maakte je een bestand <code>mentor_site.py</code>, waarin zowel het model als de verschillende routes waren opgenomen, en had je ook een bestand <code>forms.py</code>, waarin je de verschillende formulier-klassen had aangebracht.</p> <p>Refactoren is een andere structuur aan code (of eigenlijk een hele code-base) geven. In dit geval wordt het bestand <code>mentor_site.py</code> (dat je bij de vorige oefening hebt gemaakt) opgesplitst in afzonderlijke componenten voor de hierboven genoemde aspecten. In plaats van <code>mentor_site.py</code> wordt vanaf nu <code>app.py</code> gehanteerd.</p> <pre><code>graph LR\n    A[\"mentor_site.py\\n(monoliet)\\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\nmodels\\nroutes docenten\\nroutes studenten\"] -- refactoring --&gt; B\n\n    subgraph B[\"Nieuwe structuur\"]\n        direction TB\n        C[\"app.py\\n(startpunt)\"]\n        D[\"mijnproject/__init__.py\\n(app + db + blueprint registratie)\"]\n        E[\"mijnproject/models.py\\n(Docent, Student)\"]\n        F[\"mijnproject/docenten/\\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\nforms.py\\nviews.py\\ntemplates/docenten/\"]\n        G[\"mijnproject/studenten/\\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\nforms.py\\nviews.py\\ntemplates/studenten/\"]\n        C --&gt; D\n        D --&gt; E\n        D --&gt; F\n        D --&gt; G\n    end\n</code></pre> <p>Gebruik een bibliotheek</p> <p>De <code>blueprints</code>-bibliotheek kan gebruikt worden om deze afzonderlijke modulaire componenten te verbinden met het hoofdbestand <code>app.py</code>. Hier komen we zo op terug.</p> <p>Houd er rekening mee dat de <code>app.py</code> nog steeds een rol speelt, alleen verwijst het nu alleen nog naar de subcomponenten in plaats van zelf alle code te bevatten.</p>"},{"location":"week7b/flask-applicaties-deel1.html#nieuwe-structuur","title":"Nieuwe structuur","text":"<p>Tijd om de definitieve structuur aan te brengen voor deze applicatie. Let op, dit is een best lang overzicht:</p> <ul> <li><code>app.py</code> (main <code>app.py</code>-bestand dat moet worden aangeroepen om de server voor de webapp te starten)</li> <li><code>requirements.txt</code> (Bestand waarin de dependencies zijn opgeslagen)</li> <li>mijn_project (project map, sub-componenten in aparte mappen)</li> <li><code>data.sqlite</code></li> <li><code>models.py</code></li> <li><code>__init__.py</code></li> <li>docenten<ul> <li><code>forms.py</code></li> <li><code>views.py</code></li> <li>templates</li> <li>docenten<ul> <li><code>add.html</code></li> <li><code>delete.html</code></li> <li><code>list.html</code></li> </ul> </li> </ul> </li> <li>studenten<ul> <li><code>forms.py</code></li> <li><code>views.py</code></li> <li>templates</li> <li>studenten<ul> <li><code>add.html</code></li> </ul> </li> </ul> </li> <li>static (voor de opslag van CSS, JS, afbeeldingen, lettertypen etc.)</li> <li>templates<ul> <li><code>base.html</code></li> <li><code>home.html</code></li> </ul> </li> </ul> <p>requirements.txt</p> <p>In Python projecten zal je vaak een <code>requirements.txt</code> bestand zien. Dit is een bestand waar de afhankelijkheden (de gebruikte modules) van de applicatie zijn beschreven. Je kan met <code>pip</code> de ge\u00efnstalleerde modules als volgt naar dit bestand laten schrijven:</p> <pre><code>pip freeze &gt; requirements.txt\n</code></pre> <p>Als je vervolgens de inhoud van <code>requirements.txt</code> bekijkt zal je zien dat het modules bevat inclusief versienummer, bijvoorbeeld <code>Flask==1.1.2</code>. Dit bestand wordt ook gebruikt om in bijvoorbeeld een nieuwe virtuele omgeving de vereiste modules te installeren, bijvoorbeeld:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>Het vastzetten van modules en bijbehorende versienummers is een manier om een repliceerbare omgeving voor een applicatie te gegaranderen, bijvoorbeeld als het live op een server moet draaien of wanneer je met andere mensen aan een project gaat samenwerken.</p> <p>In de volgende paragraaf wordt een applicatie omgeschreven naar een meer overzichtelijke vorm. Als voorbeeld gebruiken we de applicatie van de oefening uit het deel waarin voor het eerst een website gebouwd is.</p>"},{"location":"week7b/flask-applicaties-deel1.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Refactoring: het herschikken van de codestructuur zonder de functionaliteit te wijzigen; een monolithisch bestand (mentor_site.py) wordt opgesplitst in afzonderlijke componenten</li> <li>Projectstructuur: een Flask-applicatie krijgt een vaste hi\u00ebrarchie met een hoofdbestand app.py en een projectmap met subfolders per domein (docenten, studenten)</li> <li>Scheiding van verantwoordelijkheden: models, views, forms en templates worden elk in eigen bestanden en mappen per onderdeel ondergebracht</li> <li><code>requirements.txt</code>: bestand dat alle Python-afhankelijkheden inclusief versienummers vastlegt, zodat de omgeving reproduceerbaar is op andere machines of servers</li> <li><code>pip freeze</code>: commando om ge\u00efnstalleerde pakketten naar requirements.txt te exporteren; <code>pip install -r requirements.txt</code> installeert ze opnieuw in een nieuwe omgeving</li> <li><code>static</code>-map: vaste locatie binnen het project voor CSS, JavaScript, afbeeldingen en lettertypen</li> <li>Blueprints (preview): Flask-mechanisme waarmee modulaire subcomponenten straks aan de hoofdapplicatie gekoppeld kunnen worden via een url_prefix</li> </ul>"},{"location":"week7b/flask-applicaties-deel2.html","title":"Flask-applicaties - Refactored","text":""},{"location":"week7b/flask-applicaties-deel2.html#flask-applicaties-refactored","title":"Flask-applicaties - Refactored","text":"<p>Aan het einde van de vorige paragraaf is de algemene structuur voor de applicatie waarmee het overzicht van de docenten die als mentor fungeren samen met de door hen begeleide studenten vastgelegd. Nu is het tijd om deze te implementeren.</p> <p>Omdat al veel van de code geschreven en besproken is in voorgaande delen, wordt hier grotendeels het principe copy en paste gehanteerd.</p> <p><code>Flask</code> heeft een ingebouwde mogelijkheid waarmee de modulaire componenten voor de Flask-app geregistreerd kunnen worden: blueprints. Hiermee kan op een eenvoudige wijze een view geraadpleegd worden voor ieder aspect van de applicatie.</p> <p>Zo zijn er bijvoorbeeld een tweetal <code>view.py</code>-bestanden: \u00e9\u00e9n voor docenten en \u00e9\u00e9n voor studenten. En elk van deze views heeft zijn eigen <code>add</code>-view. Om ervoor te zorgen dat de Flask-applicatie niet in de war raakt door een <code>/add</code>-route, maken we gebruik van blueprints. De blueprints registreren een <code>url_prefix</code> voor elk <code>views.py</code>-bestand:</p> <ul> <li><code>/docenten/add</code></li> <li><code>/studenten/add</code></li> </ul> <p>De voornaamste wijzigingen in de code zullen zijn:</p> <ul> <li>Herstructurering van de projectmappen</li> <li>Het toevoegen van blueprints</li> <li>Het registreren van de blueprints  <code>__init__.py</code></li> </ul> <p>Nogmaals, in dit deel ligt de nadruk in het opzetten van een algemene structuur voor een applicatie. Daarom wordt er geen nieuwe applicatie vanaf scratch ontwikkeld maar wordt de inhoud van de vorige web-applicatie voornamelijk gekopieerd.</p>"},{"location":"week7b/flask-applicaties-deel2.html#stap-1-het-aanmaken-van-de-structuur-van-de-folderset","title":"Stap 1: Het aanmaken van de structuur van de folderset","text":"<p>Het aanmaken van de structuur zal in gedeelten besproken worden, zodat nog een keer duidelijk wordt hoe het opzetten van een uitgebreide applicatie het beste kan geschieden.</p> <pre><code>.\n\u251c\u2500\u2500 mijnproject\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 models.py\n\u2514\u2500\u2500 app.py\n</code></pre> <p>Om alles uit elkaar te kunnen houden hebben we een nieuw project aangemaakt met de naam 'Refactor'. Binnen het project zijn op het hoogste niveau een tweetal zaken nodig: een folder waarin de items van de applicatie worden ondergebracht, hier <code>mijnproject</code> en een Python-file, hier <code>app.py</code> genaamd. Deze file importeert enkele items en kent verder alleen een verwijzing naar de pagina <code>home.html</code>. Deze file wordt als allerlaatste gecodeerd.</p> <p>De folder <code>templates</code> bevat een tweetal HTML-bestanden. Allereerst het bestand <code>base.html</code> met de links naar Bootstrap, de titel, de navigatiebalk en een leeg blok. Het andere bestand, <code>home.html</code> bevat de inhoud van de homepagina.</p> <p>In <code>__init__.py</code> worden weer de bekende aspecten van flask ge\u00efmporteerd, de database aangemaakt, de basisdirectory bepaald en de koppeling tussen applicatie en database ingesteld. Later worden hier nog de blueprints aan toegevoegd.</p> <p>In <code>models.py</code> wordt de structuur van de database bepaald, zoals al een aantal keren aan bod is geweest.</p> <p>De structuur van de folder <code>mijnproject</code> is dan als volgt:</p> <pre><code>.\n\u251c\u2500\u2500 mijnproject\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 models.py\n\u2514\u2500\u2500 app.py\n</code></pre> <p>Voor zowel de docenten als de studenten wordt een eigen directory ingericht. Hierin kunnen de onderdelen worden opgenomen die van toepassing zijn voor de verschillende onderwerpen. Voor beide directories zijn formulieren, views en templates ontwikkeld die nu keurig van elkaar gescheiden worden ondergebracht in de applicatie. Voor beide domeinen (docenten en studenten) is een eigen folder gereserveerd waarin de specifieke HTML-bestanden voor ieder doel komen te staan.</p>"},{"location":"week7b/flask-applicaties-deel2.html#stap-2-het-toevoegen-van-de-paginas-die-al-ontwikkeld-zijn","title":"Stap 2: Het toevoegen van de pagina\u2019s die al ontwikkeld zijn","text":"<p>De code van de diverse pagina\u2019s zal nog een keer getoond worden zonder al te veel commentaar erbij.</p>"},{"location":"week7b/flask-applicaties-deel2.html#modelspy","title":"<code>models.py</code>","text":"<p>Als eerste <code>models.py</code>:</p> <pre><code># from mijnproject import db\nfrom sqlalchemy.orm import Mapped, mapped_column, relationship\nfrom sqlalchemy import ForeignKey\n\n\nclass Docent(db.Model):\n    \"\"\"\n    Model voor docenten die als mentor fungeren.\n\n    Attributes:\n        id: Unieke identifier voor de docent\n        naam: Naam van de docent\n        student: Relatie naar de Student die deze docent begeleidt\n    \"\"\"\n\n    __tablename__ = 'docenten'\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n    student: Mapped['Student | None'] = relationship(back_populates='docent')\n\n    def __init__(self, naam: str) -&gt; None:\n        \"\"\"\n        Initialiseer een nieuwe docent.\n\n        Args:\n            naam: De naam van de docent\n        \"\"\"\n        self.naam = naam\n\n    def __repr__(self) -&gt; str:\n        \"\"\"\n        Geef een tekstuele representatie van de docent.\n\n        Returns:\n            String met docent naam en eventuele student\n        \"\"\"\n        if self.student:\n            return f\"Docent {self.naam} is mentor van {self.student.naam}\"\n        else:\n            return f\"Docent {self.naam} heeft geen studenten als mentor te begeleiden.\"\n\n\nclass Student(db.Model):\n    \"\"\"\n    Model voor studenten die door een mentor worden begeleid.\n\n    Attributes:\n        id: Unieke identifier voor de student\n        naam: Naam van de student\n        docent_id: Foreign key naar de begeleidende docent\n    \"\"\"\n\n    __tablename__ = 'studenten'\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    naam: Mapped[str | None]\n    docent_id: Mapped[int | None] = mapped_column(ForeignKey('docenten.id'))\n    docent: Mapped['Docent | None'] = relationship(back_populates='student')\n\n    def __init__(self, naam: str, docent_id: int) -&gt; None:\n        \"\"\"\n        Initialiseer een nieuwe student.\n\n        Args:\n            naam: De naam van de student\n            docent_id: Het ID van de begeleidende docent\n        \"\"\"\n        self.naam = naam\n        self.docent_id = docent_id\n\n    def __repr__(self) -&gt; str:\n        \"\"\"\n        Geef een tekstuele representatie van de student.\n\n        Returns:\n            String met de naam van de student\n        \"\"\"\n        return f\"Deze student heet {self.naam}\"\n</code></pre> <p>Uit het bestand <code>mentor_site.py</code> zijn de klassen <code>Docent</code> en <code>Student</code> overgenomen. Punt van aandacht is nog wel dat er nog een koppeling gemaakt moet worden naar de plek waar db wordt aangemaakt. Dat zal gebeuren in het bestand <code>__init__.py</code>. Het is alvast opgenomen als commentaarregel. Als tweede wordt de folder templates gevuld met de bestanden <code>base.html</code> en <code>home.html</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#basehtml","title":"<code>base.html</code>","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\" crossorigin=\"anonymous\"&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\" integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\" integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\" integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n\n&lt;title&gt;Mentoraat&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n\n    &lt;div class=\"navbar-nav\"&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('add_doc') }}\"&gt;Voeg docent toe&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('list_doc') }}\"&gt; Toon mentoren&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('del_doc') }}\"&gt;Verwijder docent Pup&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('add_stu') }}\"&gt;Voeg student toe&lt;/a&gt;\n    &lt;/div&gt;\n\n&lt;/nav&gt;\n\n{% block content %}\n\n{% endblock %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Deze code zorgt voor het tweede aandachtspunt: de URL\u2019s zullen aangepast moeten worden, omdat ze nu naar verschillende directories verwijzen. Dat is ook \u00e9\u00e9n van de laatste aanpassingen die geregeld moeten worden.</p>"},{"location":"week7b/flask-applicaties-deel2.html#homehtml","title":"<code>home.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Overzicht mentoraat&lt;/h1&gt;\n    &lt;p&gt;Selecteer om te beginnen een item uit de navigatiebalk.&lt;/p&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Als enige is de tekst <code>&lt;h1&gt;</code> bijgesteld.</p> <p><code>__init__.py</code></p> <pre><code>import os\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\n\napp = Flask(__name__)\n\napp.config['SECRET_KEY'] = 'mijngeheimesleutel'\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///' + os.path.join(basedir, 'data.sqlite')\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nMigrate(app,db)\n</code></pre> <p>Ook hierbij is een gedeelte overgenomen uit het bestand <code>mentor_site.py</code> van de oefening. Maar het is niet integraal overgenomen: er is een aantal regels weggelaten. De reden daarvoor is dat deze file geen code bevat die nodig is om views aan te maken. Dat wordt straks geregeld is de daarvoor beschikbare folders: <code>docenten</code> en <code>studenten</code>.</p> <p>Bovendien dienen er nog een aantal registraties voor de blueprints aan de code te worden toegevoegd. Dat is het derde aandachtspunt voor de volgende paragraaf.</p> <p>Alleen de gegevens die van toepassing zijn op docenten worden overgenomen uit <code>forms.py</code>. De namen van de formulieren zijn aangepast zodat het een meer gangbaar karakter krijgt. Bovendien kan nu steeds dezelfde naam gebruikt worden omdat de formulieren in verschillende directories zijn ondergebracht. Voor toevoegen wordt nu <code>Add</code> gebruikt, voor verwijderen <code>Del</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#formspy-uit-de-folder-docenten","title":"<code>forms.py</code> uit de folder <code>docenten</code>","text":"<pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, IntegerField, SubmitField\n\n\nclass AddForm(FlaskForm):\n    \"\"\"Formulier voor het toevoegen van een nieuwe docent.\"\"\"\n\n    naam = StringField('Naam docent:')\n    submit = SubmitField('Voeg toe')\n\n\nclass DelForm(FlaskForm):\n    \"\"\"Formulier voor het verwijderen van een docent.\"\"\"\n\n    id = IntegerField('Vul het ID in van de docent die verwijderd gaat worden:')\n    submit = SubmitField('Verwijder')\n</code></pre>"},{"location":"week7b/flask-applicaties-deel2.html#formspy-uit-de-folder-studenten","title":"<code>forms.py</code> uit de folder <code>studenten</code>","text":"<pre><code>from flask_wtf import FlaskForm\nfrom wtforms import StringField, IntegerField, SubmitField\n\n\nclass AddForm(FlaskForm):\n    \"\"\"Formulier voor het toevoegen van een nieuwe student.\"\"\"\n\n    naam = StringField('Naam student:')\n    doc_id = IntegerField(\"Id van de docent: \")\n    submit = SubmitField('Voeg toe')\n</code></pre> <p>De formulieren zijn uit elkaar gehaald en in een passende folder ingevoegd. Beiden hebben nu een formulier met de naam <code>AddForm</code>. Dat gaat helemaal goed, omdat later met blueprints de juiste relaties gelegd zullen worden, zodat er geen verwarring kan ontstaan en de verkeerde formulieren getoond gaan worden.</p> <p>De nog resterende HTML-files kunnen nu op de juiste plaats gezet worden. Als eerste moeten er drie bestanden in de folder <code>templates/docenten</code> aangemaakt worden: <code>add.html</code>, <code>delete.html</code> en <code>list.html</code>. De namen van de oefening worden vervangen door wat meer algemeen geldige namen.</p>"},{"location":"week7b/flask-applicaties-deel2.html#addhtml","title":"<code>add.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Heeft zich een docent als kandidaat mentor gemeld?&lt;/h1&gt;\n    &lt;p&gt;Vul de naam in en klik op 'Voeg toe':&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.naam.label }} {{ form.naam() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>De code is overgenomen uit <code>voegtoe_docent.html</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#deletehtml","title":"<code>delete.html</code>","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Een docent afmelden als mentor?&lt;/h1&gt;\n    &lt;p&gt;Vul het ID in en klik op 'Verwijder'.&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.id.label }} {{ form.id() }}\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Deze code komt uit <code>verwijder_docent.html</code></p> <p><code>list.html</code></p> <pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Een overzicht van de mentoren en hun studenten.&lt;/h1&gt;\n    &lt;ul&gt;\n        {% for doc in docenten  %}\n        &lt;li&gt;{{doc}}&lt;/li&gt;\n        {% endfor %}\n    &lt;/ul&gt;\n\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>En deze code is integraal gekopieerd van <code>mentor_overzicht.html</code></p> <p>Als laatste is er nog een view nodig om nieuwe studenten in de database te kunnen opnemen. Ook hier wordt gebruik gemaakt van een naam die al eerder gebruikt is: <code>add.html</code>. Omdat alle code in aparte folders is ondergebracht is het geen probleem bij de uitvoering van het programma.</p>"},{"location":"week7b/flask-applicaties-deel2.html#addhtml-studenten-toevoegen","title":"<code>add.html</code> (studenten toevoegen)","text":"<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h1&gt;Voeg een student in&lt;/h1&gt;\n    &lt;p&gt;Voeg tevens het ID van de mentor toe en klik op 'Voeg toe':&lt;/p&gt;\n    &lt;form method=\"POST\"&gt;\n        {{ form.hidden_tag() }}\n        {{ form.naam.label }} {{ form.naam() }}&lt;br&gt;\n        {{ form.doc_id.label }} {{ form.doc_id() }}&lt;br&gt;\n        {{ form.submit() }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre> <p>Deze code is overgenomen uit <code>voegtoe_student.html</code>.</p>"},{"location":"week7b/flask-applicaties-deel2.html#conclusie","title":"Conclusie","text":"<p>De inspanningen in deze paragraaf hebben ertoe geleid dat de structuur die ontworpen is ook daadwerkelijk is aangemaakt. Grote delen van de code van de uitwerking van de oefenopdracht website zijn al op de juiste plaats neergezet.</p> <p>Er zijn nog een paar aandachtspunten overgebleven waar in de volgende paragraaf een vervolg aan moet worden gegeven.</p> <p>Bovendien worden er de nodige blueprints in de code opgenomen. Tot slot van deze paragraaf een complete directory-listing na onze majeure refactoring:</p> <pre><code>.\n\u251c\u2500\u2500 mijnproject\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 docenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 add.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 delete.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 list.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 studenten\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 add.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 base.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 home.html\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 models.py\n\u2514\u2500\u2500 app.py\n</code></pre>"},{"location":"week7b/flask-applicaties-deel2.html#samenvatting","title":"Samenvatting","text":"<p>In deze les heb je geleerd:</p> <ul> <li>Mappenstructuur aanmaken: de volledige directory-boom wordt stapsgewijs opgezet met mijnproject/, docenten/, studenten/, templates/ en de benodigde Python-bestanden</li> <li><code>models.py</code>: bevat de SQLAlchemy-modellen Docent en Student met typed mapped columns en een \u00e9\u00e9n-op-\u00e9\u00e9n relatie; de db-koppeling wordt later gelegd via <code>__init__.py</code></li> <li><code>__init__.py</code>: initialiseert de Flask-app, configureert de SQLite-database en Flask-Migrate; bevat bewust geen routes, want die worden per subcomponent in eigen views.py-bestanden ondergebracht</li> <li><code>forms.py</code> per module: elke module (docenten, studenten) heeft een eigen forms.py met een AddForm; dezelfde klassenaam kan hergebruikt worden doordat de bestanden in aparte directories staan</li> <li>HTML-templates: base.html en home.html op projectniveau; add.html, delete.html en list.html voor docenten; add.html voor studenten, elk geplaatst in een bijbehorende submap</li> <li>Copy-paste-strategie: bestaande code van de vorige oefenopdracht wordt grotendeels overgenomen en op de juiste locatie in de nieuwe structuur gezet, zonder inhoudelijke wijzigingen</li> <li>Openstaande aandachtspunten: blueprints moeten nog worden toegevoegd en de url_for()-links in de navigatiebalk moeten worden bijgewerkt naar de nieuwe structuur</li> </ul>"},{"location":"week7b/flask-applicaties-deel3.html","title":"Flask-applicaties - Blueprints","text":""},{"location":"week7b/flask-applicaties-deel3.html#flask-applicaties-blueprints","title":"Flask-applicaties - Blueprints","text":"<p>Tot dusver hebben is de inhoud van de bestanden niet gewijzigd. We hebben ze uit elkaar gehaald en opgenomen in afzonderlijke folders, maar verder niet aangepast. Voor de <code>views.py</code>-bestanden moeten deze bestanden als <code>blueprints</code> toegevoegd worden om daarna geregistreerd te kunnen worden in het bestand  <code>__init__.py</code>.</p> <p>Er zijn nog een aantal aandachtspunten van de vorige paragraaf blijven hangen waar ook nog een passende oplossing voor gecre\u00eberd dient te worden:</p> <ul> <li>Het toevoegen van code aan de <code>views.py</code>-bestanden.</li> <li>Het toevoegen van de <code>blueprints</code>.</li> <li>Het registreren van de <code>blueprints</code>.</li> <li>Het coderen van de file <code>app.py</code>.</li> <li>Aanpassen van de <code>url_for ()</code>-links in de navigatiebalk.</li> <li>Het aanmaken van de database.</li> <li>Als laatste weer het testen of de applicatie minstens zo goed werkt als de vorige versie.</li> </ul>"},{"location":"week7b/flask-applicaties-deel3.html#de-studenten-view","title":"De studenten-view","text":"<p>De belangrijkste reden om <code>blueprints</code> te gebruiken is dat we hiermee onnze applicatie kunnen organiseren door logica in submappen te groeperen.</p> <p><code>views.py</code> (uit de folder <code>mijnproject/studenten/views.py</code>):</p> <pre><code>from flask import Blueprint, Response, render_template, redirect, url_for\nfrom mijnproject import db\nfrom mijnproject.models import Student\nfrom mijnproject.studenten.forms import AddForm\n\nstudenten_blueprint = Blueprint('studenten',\n                                __name__,\n                                template_folder='templates')\n\n\n@studenten_blueprint.route('/add', methods=['GET', 'POST'])\ndef add() -&gt; str | Response:\n    \"\"\"\n    Voeg een nieuwe student toe aan de database.\n\n    Returns:\n        Gerenderde template of redirect naar docenten lijst\n    \"\"\"\n    form = AddForm()\n\n    if form.validate_on_submit():\n        naam = form.naam.data\n        doc_id = form.doc_id.data\n        new_student = Student(naam, doc_id)\n        db.session.add(new_student)\n        db.session.commit()\n\n        return redirect(url_for('docenten.list'))\n    return render_template('studenten/add.html', form=form)\n</code></pre> <p>Als eerste wordt hier weer het nodige ge\u00efmporteerd. Belangrijk hierbij is dat ook <code>Blueprint</code> wordt meegenomen uit het pakket <code>flask</code>. Verder zijn nodig de database (db) uit <code>mijnproject</code>, de tabel <code>Student</code> en het formulier waarmee een nieuwe student ingevoerd kan worden.</p> <p>Vervolgens wordt er een variabele aangemaakt <code>studenten_blueprint</code>. Deze variabele is een instantie van de klasse <code>Blueprint</code>. Er moeten een drietal kenmerken worden vastgelegd: een naam (hier <code>studenten</code>), de naam van de applicatie, en de folder die verantwoordelijk is voor alle logica voor de studenten.</p> <p>Daarna kan de decorator aangemaakt worden. Dit moet weer bekend voorkomen. Aangezien alle gegevens van studenten zijn samengebracht in de map <code>studenten</code> valt af te lezen dat het pad om de gegevens terug te kunnen vinden binnen <code>templates/</code> heel logisch wordt. Dat pad wordt ook vastgelegd in <code>studenten_blueprint</code>. Voor het pad binnen render-templates voegen we dan nog de directory toe waar het te gebruiken template staat <code>studenten/add.html</code>.</p> <p>Vervolgens wordt de view gecodeerd (gekopieerd). Daarbij wordt als eerste het formulier gedefinieerd en vervolgens bepaalt wat er moet gebeuren als er nog niet op Submit geklikt is en wat wanneer het formulier al wel is ingevuld.</p>"},{"location":"week7b/flask-applicaties-deel3.html#de-docenten-view","title":"De docenten-view","text":"<p><code>views.py</code> (uit de folder <code>mijnproject/docenten/views.py</code>)</p> <pre><code>from flask import Blueprint, Response, render_template, redirect, url_for\nfrom mijnproject import db\nfrom mijnproject.docenten.forms import AddForm, DelForm\nfrom mijnproject.models import Docent\n\ndocenten_blueprint = Blueprint('docenten',\n                               __name__,\n                               template_folder='templates')\n\n\n@docenten_blueprint.route('/add', methods=['GET', 'POST'])\ndef add() -&gt; str | Response:\n    \"\"\"\n    Voeg een nieuwe docent toe aan de database.\n\n    Returns:\n        Gerenderde template of redirect naar docenten lijst\n    \"\"\"\n    form = AddForm()\n\n    if form.validate_on_submit():\n        naam = form.naam.data\n\n        new_doc = Docent(naam)\n        db.session.add(new_doc)\n        db.session.commit()\n\n        return redirect(url_for('docenten.list'))\n\n    return render_template('docenten/add.html', form=form)\n\n\n@docenten_blueprint.route('/list')\ndef list() -&gt; str:\n    \"\"\"\n    Toon een lijst van alle docenten en hun studenten.\n\n    Returns:\n        Gerenderde template met docenten lijst\n    \"\"\"\n    docenten = db.session.execute(db.select(Docent)).scalars().all()\n    return render_template('docenten/list.html', docenten=docenten)\n\n\n@docenten_blueprint.route('/delete', methods=['GET', 'POST'])\ndef delete() -&gt; str | Response:\n    \"\"\"\n    Verwijder een docent uit de database.\n\n    Returns:\n        Gerenderde template of redirect naar docenten lijst\n    \"\"\"\n    form = DelForm()\n\n    if form.validate_on_submit():\n        id = form.id.data\n        doc = db.session.get(Docent, id)\n        db.session.delete(doc)\n        db.session.commit()\n\n        return redirect(url_for('docenten.list'))\n    return render_template('docenten/delete.html', form=form)\n</code></pre> <p>Meer van hetzelfde. Nu zijn er twee views die gemaakt moeten worden. De <code>blueprint</code> verwijst nu naar de folder waar de applicatie-onderdelen voor docenten gevonden kunnen worden.</p>"},{"location":"week7b/flask-applicaties-deel3.html#registratie-van-de-blueprints","title":"Registratie van de blueprints","text":"<p>De <code>blueprints</code> moeten nu nog geregistreerd worden in de file <code>__init__.py</code>. De <code>blueprints</code> moeten worden opgenomen in de code nadat de db gedefinieerd is.</p> <p>Dat vastleggen gaat in een tweetal stappen. Als eerste moeten de <code>blueprints</code> opgehaald worden uit de folders waar ze zijn aangemaakt. Eenmaal ge\u00efmporteerd kunnen ze geregistreerd worden:</p> <pre><code>from mijnproject.docenten.views import docenten_blueprint\nfrom mijnproject.studenten.views import studenten_blueprint\n\napp.register_blueprint(studenten_blueprint,url_prefix=\"/studenten\")\napp.register_blueprint(docenten_blueprint,url_prefix='/docenten')\n</code></pre> <p>De laatste file die nog geen inhoud heeft is <code>app.py</code>. Daarin wordt de volgende code ondergebracht:</p> <pre><code>from mijnproject import app, db\nfrom flask import Response, render_template\n\n\n@app.route('/')\ndef index() -&gt; str:\n    \"\"\"\n    Toon de homepagina van de applicatie.\n\n    Returns:\n        Gerenderde home template\n    \"\"\"\n    return render_template('home.html')\n\n\nif __name__ == '__main__':\n    with app.app_context():\n        db.create_all()\n    app.run(debug=True)\n</code></pre> <p>Om te beginnen worden er items ingeladen. De <code>app</code> variabele komt uit <code>__init__.py</code> (waar <code>app = Flask(__name__)</code> staat), evenals de <code>db</code> variabele voor de database. Vervolgens wordt de homepagina geladen als aan de <code>if</code>-voorwaarde voldaan wordt.</p> <p>De database wordt aangemaakt binnen een application context met <code>with app.app_context()</code>. Dit is het moderne patroon voor het aanmaken van database tabellen bij het opstarten van de applicatie.</p>"},{"location":"week7b/flask-applicaties-deel3.html#laatste-loodjes","title":"Laatste loodjes","text":"<p>Er staan nog drie punten op het lijstje die nog gedaan moeten worden:</p> <ul> <li> <p>Aanpassen van de <code>url_for ()</code>-links in de navigatiebalk.</p> </li> <li> <p>Het aanmaken van de database.</p> </li> <li> <p>het testen.</p> </li> </ul> <p>Het bestand <code>base.html</code> moet nog aangepast worden omdat de hyperlinks nu nog naar pagina\u2019s verwijzen die niet meer bestaan. De aanpassingen staan hieronder vermeld, de links naar Bootstrap zijn weggelaten:</p> <pre><code>&lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n\n    &lt;div class=\"navbar-nav\"&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('docenten.add') }}\"&gt;Voeg docent toe&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('docenten.list') }}\"&gt; Toon mentoren&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('docenten.delete') }}\"&gt;Verwijder docent&lt;/a&gt;\n        &lt;a class=\"nav-item nav-link\" href=\"{{ url_for('studenten.add') }}\"&gt;Voeg student toe&lt;/a&gt;\n    &lt;/div&gt;\n\n&lt;/nav&gt;\n</code></pre> <p>Voordat er getest kan worden dient de database aangemaakt te worden. Daarvoor zijn de vier inmiddels bekende stappen nodig:</p> <ol> <li>Stel de omgevingsvariabele FLASK_APP in</li> <li>Voor een MacOS / Linux-machine is dat <code>export FLASK_APP = app.py</code></li> <li>Voor een Windows-machine <code>set FLASK_APP = app.py</code></li> <li><code>flask db init</code></li> </ol>"},{"location":"week7b/flask-applicaties-deel3.html#resultaat","title":"Resultaat","text":"<p>Als alles naar behoren is gegaan kan er nu weer getest worden.</p> <p>Homepagina:</p> <p>Verwacht resultaat: De homepagina van de gerefactorde applicatie met een navigatiebalk met links naar de docenten- en studentenpagina's.</p> <p>Na het toevoegen van docent Bart:</p> <p>Verwacht resultaat: Het overzicht van mentoren en studenten met de nieuw toegevoegde docent \"Bart\" in de lijst.</p> <p>Docent Bart wordt mentor van Roos:</p> <p>Verwacht resultaat: Het formulier om een student toe te voegen, met het ID van Docent Bart (1) ingevuld als mentor voor student Roos.</p> <p>Na het klikken op \"Voeg toe\":</p> <p>Verwacht resultaat: Het overzicht toont student Roos met \"Docent Bart\" als haar mentor.</p>"},{"location":"week7b/flask-applicaties-deel3.html#samenvatting","title":"Samenvatting","text":"<p>Je hebt nu geleerd hoe je een Flask applicatie kunt structureren met <code>blueprints</code>. De belangrijkste voordelen zijn:</p> <ul> <li>Modulariteit: Elke functionaliteit (docenten, studenten) heeft zijn eigen folder met views, forms en templates</li> <li>Onderhoudbaarheid: Code is logisch georganiseerd en makkelijker te vinden</li> <li>Schaalbaarheid: Nieuwe features kunnen eenvoudig worden toegevoegd als nieuwe <code>blueprints</code></li> <li>Samenwerking: Teams kunnen parallel aan verschillende <code>blueprints</code> werken</li> </ul> <p>Deze structuur is professioneel en wordt gebruikt in productie-applicaties. In de volgende weken kun je deze kennis gebruiken om grotere webapplicaties te bouwen.</p> <p>Volgende stappen</p> <p>Nu je <code>blueprints</code> beheerst, kun je experimenteren met: - Het toevoegen van meer <code>blueprints</code> voor andere onderdelen - Het gebruik van blueprint-specifieke static files - Het implementeren van API endpoints (URLs die data teruggeven in plaats van HTML) in aparte <code>blueprints</code> - Het toevoegen van authentication met de <code>Flask-Login</code> bibliotheek</p>"},{"location":"week7b/bestanden/webshop/index.html","title":"Week 7b: Flask Blueprints - Webshop","text":""},{"location":"week7b/bestanden/webshop/index.html#week-7b-flask-blueprints-webshop","title":"Week 7b: Flask Blueprints - Webshop","text":"<p>In deze week refactoren we de monolithische Week 7a applicatie naar een modulaire Blueprint architectuur. Dit maakt de code schaalbaarder, onderhoudbaarder, en beter testbaar.</p>"},{"location":"week7b/bestanden/webshop/index.html#rode-draad-van-monolithisch-naar-modulair","title":"Rode draad: Van Monolithisch naar Modulair","text":"Week Aanpak Structuur Week 7a Monolithisch Alles in \u00e9\u00e9n <code>app.py</code> (400+ regels) Week 7b Blueprints Gescheiden modules: products, auth, admin Future Microservices Volledig onafhankelijke services"},{"location":"week7b/bestanden/webshop/index.html#wat-zijn-blueprints","title":"Wat zijn Blueprints?","text":"<p>Blueprints zijn Flask's manier om een applicatie op te delen in herbruikbare componenten. Elk blueprint is een verzameling van:</p> <ul> <li>Routes (<code>@blueprint.route()</code>)</li> <li>Templates (in eigen <code>templates/</code> folder)</li> <li>Forms (in eigen <code>forms.py</code>)</li> <li>Static files (optioneel)</li> </ul> <p>Voordelen:</p> <ul> <li>Modulariteit: Elke feature heeft eigen folder</li> <li>Schaalbaarheid: Teams kunnen aan verschillende blueprints werken</li> <li>Herbruikbaarheid: Blueprints kunnen in meerdere apps gebruikt worden</li> <li>Testbaarheid: Blueprints kunnen apart getest worden</li> <li>Duidelijkheid: Logische scheiding tussen functionaliteiten</li> </ul>"},{"location":"week7b/bestanden/webshop/index.html#nieuwe-structuur","title":"Nieuwe Structuur","text":"<pre><code>webshop/\n\u251c\u2500\u2500 app.py                      # Entry point\n\u251c\u2500\u2500 requirements.txt            # Dependencies\n\u251c\u2500\u2500 webshop.db                  # SQLite database\n\u251c\u2500\u2500 migrate_database.py         # Database migratie\n\u2514\u2500\u2500 webshop_app/                # Main package\n    \u251c\u2500\u2500 __init__.py             # Application Factory\n    \u251c\u2500\u2500 models.py               # Alle models (gedeeld)\n    \u2502\n    \u251c\u2500\u2500 products/               # Products Blueprint\n    \u2502   \u251c\u2500\u2500 __init__.py\n    \u2502   \u251c\u2500\u2500 views.py            # Public catalog routes\n    \u2502   \u251c\u2500\u2500 forms.py            # ContactForm\n    \u2502   \u2514\u2500\u2500 templates/\n    \u2502       \u2514\u2500\u2500 products/\n    \u2502           \u251c\u2500\u2500 index.html\n    \u2502           \u251c\u2500\u2500 category.html\n    \u2502           \u2514\u2500\u2500 product.html\n    \u2502\n    \u251c\u2500\u2500 auth/                   # Auth Blueprint\n    \u2502   \u251c\u2500\u2500 __init__.py\n    \u2502   \u251c\u2500\u2500 views.py            # Login/register/logout\n    \u2502   \u251c\u2500\u2500 forms.py            # LoginForm, RegistrationForm\n    \u2502   \u2514\u2500\u2500 templates/\n    \u2502       \u2514\u2500\u2500 auth/\n    \u2502           \u251c\u2500\u2500 login.html\n    \u2502           \u251c\u2500\u2500 register.html\n    \u2502           \u2514\u2500\u2500 welcome.html\n    \u2502\n    \u251c\u2500\u2500 admin/                  # Admin Blueprint\n    \u2502   \u251c\u2500\u2500 __init__.py\n    \u2502   \u251c\u2500\u2500 views.py            # Product CRUD voor admins\n    \u2502   \u251c\u2500\u2500 forms.py            # AddProductForm, EditProductForm\n    \u2502   \u2514\u2500\u2500 templates/\n    \u2502       \u2514\u2500\u2500 admin/\n    \u2502           \u251c\u2500\u2500 products.html\n    \u2502           \u251c\u2500\u2500 add_product.html\n    \u2502           \u2514\u2500\u2500 edit_product.html\n    \u2502\n    \u251c\u2500\u2500 templates/              # Gedeelde templates\n    \u2502   \u251c\u2500\u2500 base.html           # Base template\n    \u2502   \u251c\u2500\u2500 contact.html        # Contact pagina\n    \u2502   \u2514\u2500\u2500 404.html            # Error page\n    \u2502\n    \u2514\u2500\u2500 static/                 # CSS, JS, images (toekomstig)\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#belangrijkste-wijzigingen","title":"Belangrijkste Wijzigingen","text":""},{"location":"week7b/bestanden/webshop/index.html#1-application-factory-pattern","title":"1. Application Factory Pattern","text":"<p>Week 7a (Monolithisch):</p> <pre><code># app.py\napp = Flask(__name__)\napp.config['SECRET_KEY'] = '...'\ndb.init_app(app)\n\n@app.route('/')\ndef index():\n    pass\n</code></pre> <p>Week 7b (Factory):</p> <pre><code># webshop_app/__init__.py\ndef create_app(config_name='default'):\n    app = Flask(__name__)\n    app.config['SECRET_KEY'] = '...'\n\n    db.init_app(app)\n    login_manager.init_app(app)\n\n    # Registreer blueprints\n    from webshop_app.products.views import products_bp\n    app.register_blueprint(products_bp)\n\n    return app\n\n# app.py\nfrom webshop_app import create_app\napp = create_app()\n</code></pre> <p>Voordelen:</p> <ul> <li>Kan meerdere app instances maken (voor tests met verschillende config)</li> <li>Extensions worden pas gebonden bij create_app() call</li> <li>Config kan per environment verschillen</li> </ul>"},{"location":"week7b/bestanden/webshop/index.html#2-blueprint-routes","title":"2. Blueprint Routes","text":"<p>Route definitie in blueprint:</p> <pre><code># webshop_app/products/views.py\nfrom flask import Blueprint\n\nproducts_bp = Blueprint(\n    'products',           # Blueprint naam\n    __name__,\n    template_folder='templates'\n)\n\n@products_bp.route(\"/\")\ndef index():\n    # Deze route is beschikbaar als '/'\n    pass\n\n@products_bp.route(\"/product/&lt;int:product_id&gt;\")\ndef product(product_id):\n    # Deze route is beschikbaar als '/product/&lt;id&gt;'\n    pass\n</code></pre> <p>Blueprint registratie met prefix:</p> <pre><code># webshop_app/__init__.py\napp.register_blueprint(products_bp)  # Geen prefix, routes beginnen bij /\napp.register_blueprint(auth_bp, url_prefix='/auth')  # Routes beginnen bij /auth\napp.register_blueprint(admin_bp, url_prefix='/admin')  # Routes beginnen bij /admin\n</code></pre> <p>Resultaat:</p> Blueprint Route URL products <code>@products_bp.route(\"/\")</code> <code>/</code> products <code>@products_bp.route(\"/product/&lt;id&gt;\")</code> <code>/product/123</code> auth <code>@auth_bp.route(\"/login\")</code> <code>/auth/login</code> auth <code>@auth_bp.route(\"/logout\")</code> <code>/auth/logout</code> admin <code>@admin_bp.route(\"/products\")</code> <code>/admin/products</code>"},{"location":"week7b/bestanden/webshop/index.html#3-url-generation-met-blueprints","title":"3. URL Generation met Blueprints","text":"<p>Week 7a:</p> <pre><code>url_for('index')           # Naar index() functie\nurl_for('login')           # Naar login() functie\nurl_for('admin_products')  # Naar admin_products() functie\n</code></pre> <p>Week 7b:</p> <pre><code>url_for('products.index')        # Blueprint.view syntax!\nurl_for('auth.login')            # auth blueprint, login view\nurl_for('admin.products')        # admin blueprint, products view\nurl_for('products.category', category_id=1)  # Met parameters\n</code></pre> <p>In templates:</p> <pre><code>&lt;!-- base.html --&gt;\n&lt;a href=\"{{ url_for('products.index') }}\"&gt;Home&lt;/a&gt;\n&lt;a href=\"{{ url_for('auth.login') }}\"&gt;Inloggen&lt;/a&gt;\n&lt;a href=\"{{ url_for('admin.products') }}\"&gt;Admin Panel&lt;/a&gt;\n\n&lt;!-- category.html --&gt;\n&lt;a href=\"{{ url_for('products.product', product_id=product.id) }}\"&gt;\n    Bekijk Product\n&lt;/a&gt;\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#4-template-folders","title":"4. Template Folders","text":"<p>Elke blueprint heeft eigen template folder:</p> <pre><code># products/views.py\nproducts_bp = Blueprint('products', __name__, template_folder='templates')\n\n# De templates staan in products/templates/products/\n# Dit voorkomt naming conflicts tussen blueprints\n</code></pre> <p>Flask zoekt templates in deze volgorde:</p> <ol> <li><code>webshop_app/templates/</code> (main app templates)</li> <li><code>webshop_app/products/templates/</code> (products blueprint)</li> <li><code>webshop_app/auth/templates/</code> (auth blueprint)</li> <li><code>webshop_app/admin/templates/</code> (admin blueprint)</li> </ol> <p>Best practice: Gebruik subfolders met blueprint naam:</p> <pre><code>products/templates/products/index.html  # Goed!\nproducts/templates/index.html           # Vermijd (kan conflicts geven)\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#5-circular-import-prevention","title":"5. Circular Import Prevention","text":"<p>Probleem:</p> <pre><code># models.py\nfrom webshop_app import db  # Circular import!\n\n# __init__.py\nfrom webshop_app.models import Customer  # Circular import!\n</code></pre> <p>Oplossing:</p> <pre><code># models.py\nfrom flask_sqlalchemy import SQLAlchemy\ndb = SQLAlchemy()  # Maak db hier aan\n\n# __init__.py\nfrom webshop_app.models import db  # Import db\ndb.init_app(app)  # Bind aan app in factory\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#url-prefix-voorbeelden","title":"URL Prefix Voorbeelden","text":""},{"location":"week7b/bestanden/webshop/index.html#zonder-prefix-products","title":"Zonder Prefix (Products)","text":"<pre><code>app.register_blueprint(products_bp)  # Geen url_prefix\n</code></pre> View Route definitie Final URL index <code>@products_bp.route(\"/\")</code> <code>/</code> category <code>@products_bp.route(\"/category/&lt;id&gt;\")</code> <code>/category/5</code> product <code>@products_bp.route(\"/product/&lt;id&gt;\")</code> <code>/product/10</code>"},{"location":"week7b/bestanden/webshop/index.html#met-prefix-auth","title":"Met Prefix (Auth)","text":"<pre><code>app.register_blueprint(auth_bp, url_prefix='/auth')\n</code></pre> View Route definitie Final URL login <code>@auth_bp.route(\"/login\")</code> <code>/auth/login</code> register <code>@auth_bp.route(\"/register\")</code> <code>/auth/register</code> logout <code>@auth_bp.route(\"/logout\")</code> <code>/auth/logout</code>"},{"location":"week7b/bestanden/webshop/index.html#met-prefix-admin","title":"Met Prefix (Admin)","text":"<pre><code>app.register_blueprint(admin_bp, url_prefix='/admin')\n</code></pre> View Route definitie Final URL products <code>@admin_bp.route(\"/products\")</code> <code>/admin/products</code> add_product <code>@admin_bp.route(\"/product/add\")</code> <code>/admin/product/add</code> edit_product <code>@admin_bp.route(\"/product/edit/&lt;id&gt;\")</code> <code>/admin/product/edit/5</code>"},{"location":"week7b/bestanden/webshop/index.html#installatie","title":"Installatie","text":"<ol> <li>Installeer dependencies:</li> </ol> <pre><code>pip install -r requirements.txt\n</code></pre> <ol> <li>Migreer data (optioneel):</li> </ol> <pre><code>python migrate_database.py\n</code></pre> <ol> <li>Start de applicatie:</li> </ol> <pre><code>python app.py\n</code></pre> <ol> <li>Open in browser:</li> </ol> <pre><code>http://127.0.0.1:5000\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#code-vergelijking","title":"Code Vergelijking","text":""},{"location":"week7b/bestanden/webshop/index.html#route-definitie","title":"Route Definitie","text":"<p>Week 7a:</p> <pre><code># app.py (alles in \u00e9\u00e9n bestand)\n@app.route(\"/\")\ndef index():\n    categories = db.session.execute(db.select(Category)).scalars().all()\n    return render_template(\"index.html\", categories=categories)\n\n@app.route(\"/login\", methods=['GET', 'POST'])\ndef login():\n    form = LoginForm()\n    # ... login logic\n    return render_template('login.html', form=form)\n\n@app.route(\"/admin/products\")\n@admin_required\ndef admin_products():\n    products = db.session.execute(db.select(Product)).scalars().all()\n    return render_template(\"admin_products.html\", products=products)\n</code></pre> <p>Week 7b:</p> <pre><code># products/views.py\n@products_bp.route(\"/\")\ndef index():\n    categories = db.session.execute(db.select(Category)).scalars().all()\n    return render_template(\"products/index.html\", categories=categories)\n\n# auth/views.py\n@auth_bp.route(\"/login\", methods=['GET', 'POST'])\ndef login():\n    form = LoginForm()\n    # ... login logic\n    return render_template('auth/login.html', form=form)\n\n# admin/views.py\n@admin_bp.route(\"/products\")\n@admin_required\ndef products():\n    all_products = db.session.execute(db.select(Product)).scalars().all()\n    return render_template(\"admin/products.html\", products=all_products)\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#imports","title":"Imports","text":"<p>Week 7a:</p> <pre><code># app.py\nfrom flask import Flask, render_template\nfrom models import db, Category, Product, Customer\nfrom forms import LoginForm, AddProductForm\n# Alles in \u00e9\u00e9n bestand\n</code></pre> <p>Week 7b:</p> <pre><code># products/views.py\nfrom flask import Blueprint, render_template\nfrom webshop_app.models import Category, Product\nfrom webshop_app.products.forms import ContactForm\n\n# auth/views.py\nfrom flask import Blueprint, redirect, url_for\nfrom webshop_app.models import Customer\nfrom webshop_app.auth.forms import LoginForm, RegistrationForm\n\n# admin/views.py\nfrom flask import Blueprint\nfrom webshop_app.models import Product\nfrom webshop_app.admin.forms import AddProductForm\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#testing-met-blueprints","title":"Testing met Blueprints","text":"<p>Blueprints kunnen apart getest worden:</p> <pre><code># tests/test_products.py\ndef test_products_blueprint():\n    \"\"\"Test products blueprint routes.\"\"\"\n    app = create_app('testing')\n    client = app.test_client()\n\n    # Test index route\n    response = client.get('/')\n    assert response.status_code == 200\n\n    # Test product detail\n    response = client.get('/product/1')\n    assert response.status_code == 200\n\n# tests/test_auth.py\ndef test_auth_blueprint():\n    \"\"\"Test authentication blueprint.\"\"\"\n    app = create_app('testing')\n    client = app.test_client()\n\n    # Test login page\n    response = client.get('/auth/login')\n    assert response.status_code == 200\n\n    # Test registration\n    response = client.post('/auth/register', data={\n        'name': 'Test User',\n        'email': 'test@example.com',\n        'password': 'test123',\n        'password_confirm': 'test123'\n    })\n    assert response.status_code == 302  # Redirect\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#best-practices","title":"Best Practices","text":"<ol> <li>\u00c9\u00e9n Blueprint per Feature</li> <li>products/ voor catalog</li> <li>auth/ voor authentication</li> <li>admin/ voor admin panel</li> <li> <p>orders/ voor checkout (toekomstig)</p> </li> <li> <p>Duidelijke Naming</p> </li> <li>Blueprint naam: <code>products_bp</code>, <code>auth_bp</code>, <code>admin_bp</code></li> <li>View functies: <code>index()</code>, <code>login()</code>, <code>add_product()</code></li> <li> <p>URL constructie: <code>url_for('blueprint.view')</code></p> </li> <li> <p>Template Organisatie</p> </li> <li>Main templates: <code>webshop_app/templates/base.html</code></li> <li>Blueprint templates: <code>blueprint/templates/blueprint_name/view.html</code></li> <li> <p>Voorbeeld: <code>admin/templates/admin/products.html</code></p> </li> <li> <p>Import Patterns</p> </li> <li>Absolute imports: <code>from webshop_app.models import Product</code></li> <li> <p>Relative imports binnen blueprint: <code>from .forms import LoginForm</code></p> </li> <li> <p>URL Prefixes</p> </li> <li>Public routes: geen prefix (<code>/</code>, <code>/product/1</code>)</li> <li>Feature routes: descriptive prefix (<code>/auth/login</code>, <code>/admin/products</code>)</li> </ol>"},{"location":"week7b/bestanden/webshop/index.html#veelvoorkomende-fouten","title":"Veelvoorkomende Fouten","text":""},{"location":"week7b/bestanden/webshop/index.html#1-verkeerde-url_for-syntax","title":"1. Verkeerde url_for() syntax","text":"<pre><code># Fout - geen blueprint prefix\nurl_for('login')\n\n# Correct - met blueprint naam\nurl_for('auth.login')\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#2-template-niet-gevonden","title":"2. Template niet gevonden","text":"<pre><code># Fout - template in verkeerde folder\n# admin/templates/products.html\nreturn render_template('products.html')\n\n# Correct - met blueprint subfolder\n# admin/templates/admin/products.html\nreturn render_template('admin/products.html')\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#3-circular-imports","title":"3. Circular imports","text":"<pre><code># Fout - import bovenaan\n# models.py\nfrom webshop_app import db\n\n# Correct - maak db in models.py\n# models.py\ndb = SQLAlchemy()\n\n# __init__.py\nfrom webshop_app.models import db\ndb.init_app(app)\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#4-blueprint-registratie-vergeten","title":"4. Blueprint registratie vergeten","text":"<pre><code># Fout - blueprint niet geregistreerd\n# __init__.py\nfrom webshop_app.products.views import products_bp\n# Vergeet app.register_blueprint()\n\n# Correct - altijd registreren\nfrom webshop_app.products.views import products_bp\napp.register_blueprint(products_bp)\n</code></pre>"},{"location":"week7b/bestanden/webshop/index.html#migration-checklist","title":"Migration Checklist","text":"<p>Van Week 7a naar Week 7b:</p> <ul> <li> Maak <code>webshop_app/</code> package met <code>__init__.py</code></li> <li> Verplaats <code>models.py</code> naar <code>webshop_app/</code></li> <li> Maak blueprint folders (products, auth, admin)</li> <li> Split routes uit <code>app.py</code> naar blueprint <code>views.py</code> bestanden</li> <li> Split forms naar blueprint <code>forms.py</code> bestanden</li> <li> Verplaats templates naar blueprint template folders</li> <li> Update <code>url_for()</code> calls met blueprint prefixes</li> <li> Maak application factory in <code>__init__.py</code></li> <li> Update <code>app.py</code> om create_app() te gebruiken</li> <li> Test alle routes</li> <li> Commit!</li> </ul>"},{"location":"week7b/bestanden/webshop/index.html#resources","title":"Resources","text":"<ul> <li>Flask Blueprints Documentation</li> <li>Application Factories</li> <li>Larger Applications</li> </ul>"}]}